[{"firstHeader":"class","title":"我的主页","author":"@LoyDgIk","version":43,"url":"hiker://empty","col_type":"icon_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch(\"hiker://assets/home.js\"));\n\nvar _urgent=false;\nsetResult(HikerHome.load(\"main\",_urgent));","searchFind":"","search_url":"","titleColor":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":""},{"last_chapter_rule":"","title":"94i.dr","author":"道&K","version":0,"url":"hiker://empty##https://94itv.app/vod-show-id-13-page-fypage.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nevalPrivateJS('4ZFai6WdmDyH6oz/nhtVRLmKvoUg5wsLHMYcQURS3FcFSnRsh1drySmlUaq9i+3wo+Jg4/0WltZSeEhk515pl8ugSp/sJ0bZBw6cihfXZOTm6bWDcENtECiauhBo5b3DVfanahs/y0iZxcSL0PJAcQ==');\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href.js:input+'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)-(.*?).html/)[2];\ntrue_url=获取正确链接();\nvar html=获取源码(true_url);\n//log(html);\nlet cates=打造动态分类([{\n  一级分类: 'body&&ul.myui-header__menu',\n        子分类: 'body&&li.hidden-sm:gt(0):lt(5)',\n},{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\nvar 一级处理={\n    描述:function(input){\n        return input.split(\"分\").slice(-1)[0]\n    }\n};\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"#searchList&&li;.thumb&&a&&title;.thumb&&a&&data-original;.detail&&p,1&&Text;.searchkey&&href.js:input+'#immersiveTheme#';p.hidden-xs&&Text\";\n一级(parStr,true);","search_url":"https://94itv.app/vod-search-page-fypage-wd-**.html","group":"#️⃣道长","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;.data,1&&Text;#rating&&.branch&&Text',\n img:'.myui-content__thumb&&a&&img&&data-original',\n url:'.myui-content__thumb&&a&&href',\n desc:'.data,2&&Text;.data,3&&Text',\n content:'#desc&&span.data&&Text',\n tabs:'ul.nav-tabs&&li',\n lists:'.tab-content&&#id&&li',\n tab_id:'a&&href'\n};\nlazy=通免();\nvar 动态最新章节=true;\nvar 倒序=false;\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"require('https://codeberg.org/hjdhnx/hiker/raw/branch/main/js/预处理.js');","pages":"[]","icon":""},{"firstHeader":"class","last_chapter_rule":"","title":"集芳阁云搜","author":"道长","version":1,"type":"video","url":"hiker://empty##https://jfghome.com/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\n一级书签('detail','true');\n//一级书签('detail',true);","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##","group":"#️⃣道长DR","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=集芳阁云搜"},{"firstHeader":"class","last_chapter_rule":"","title":"自拍角落.DR","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.zipai1.xyz/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\n一级书签('detail','true');\n//一级书签('detail',true);","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##","group":"#️⃣道长DR","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=自拍角落"},{"last_chapter_rule":"","title":"白嫖资源","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.kxgav.com/api/xml.php#pg=fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n一级();","searchFind":"js:\nrequire(config.模板);\n搜索一级()","search_url":"hiker://empty##?wd=**&pg=fypage&ac=videolist","group":"#️⃣道长资源","detail_col_type":"text_5","detail_find_rule":"js:\nrequire(config.模板);\n二级();","sdetail_col_type":"text_5","sdetail_find_rule":"*","ua":"mobile","preRule":"js:\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/资源网预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=白嫖资源"},{"last_chapter_rule":"","title":"黄瓜TV资源","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.caiji10.com/home/cjapi/cfs6/mc10/vod/xml#pg=fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n一级();","searchFind":"js:\nrequire(config.模板);\n搜索一级()","search_url":"hiker://empty##?wd=**&pg=fypage&ac=videolist","group":"#️⃣道长资源","detail_col_type":"text_5","detail_find_rule":"js:\nrequire(config.模板);\n二级();","sdetail_col_type":"text_5","sdetail_find_rule":"*","ua":"mobile","preRule":"js:\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/资源网预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=黄瓜TV资源"},{"last_chapter_rule":"","title":"哥哥妹妹资源","author":"道长","version":1,"type":"video","url":"hiker://empty##http://www.ggmmzy.com:9999/inc/xml#pg=fypage","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n一级();","searchFind":"js:\nrequire(config.模板);\n搜索一级()","search_url":"hiker://empty##?wd=**&pg=fypage&ac=videolist","group":"#️⃣道长资源","detail_col_type":"text_5","detail_find_rule":"js:\nrequire(config.模板);\n二级();","sdetail_col_type":"text_5","sdetail_find_rule":"*","ua":"mobile","preRule":"js:\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/资源网预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=哥哥妹妹资源"},{"last_chapter_rule":"","title":"🐮🐝","author":"","version":66,"type":"other","url":"https://7nnyu.xyz?fyclass-fypage.htm;get;utf-8","col_type":"movie_3","class_name":"最新&周榜&月榜&5+&10+","class_url":"list&top7_list&top_list&5min_list&long_list","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.body&&.thumbnail');\nlet i=0;\nfor (var j in list) {\n  let id=parseDomForHtml(list[j],'a&&href').split(\".\")[0].split(\"-\")[1];\n//let tmp=parseDomForHtml(list[j],'a&&href');\n//\tlet id=tmp.replace(\".html\",\"\").split(\"/\")[tmp.replace(\".html\",\"\").split(\"/\").length-1];\n//\tlet url=\"https://www.zycaqc1.com/detail/\"+id+\".html\"\n\n  \t let img=parseDomForHtml(list[j], '.image&&style')\n\t img=img.split(\"'\")[1].split(\"'\")[0]\n\t d.push({\n       title: parseDomForHtml(list[j], '.title&&Text'),\n       desc: parseDomForHtml(list[j], '.info&&Text'),\n       pic_url:img,\n      // url: url+=`@lazyRule=#Player&&src.js:input.split('url=')[1]`\n\t   //+`@lazyRule=#video-play&&src`\n\t\t url:\"https://7nnyu.xyz/\"+parseDomForHtml(list[j],'a&&href')+`@lazyRule=#video-play&&source&&src`,\n   });\n \n  \t\n  \n}\n\nres.data = d;\nsetHomeResult(res);\n","searchFind":"","search_url":"","group":"0特殊","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"XYQ推送","author":"香雅情","version":0,"type":"tool","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\nd.push({\n    title: '设置电视IP',\n    url: \"input://\" + getItem('hikertvboxset', 'http://' + getIP() + ':9978') + \"////请输入tvbox推送IP地址，如http://\" + getIP() + \":9978.js:setItem('hikertvboxset',input);refreshPage()\",\n    col_type: 'scroll_button'\n});\nd.push({\n    title: getItem('hikertvboxset', ''),\n    //url: 'hiker://empty',\n    url: \"input://\" + getItem('hikertvboxset', 'http://' + getIP() + ':9978') + \"////请输入tvbox推送IP地址，如http://\" + getIP() + \":9978.js:setItem('hikertvboxset',input);refreshPage()\",\n    col_type: 'scroll_button'\n});\n\nd.push({\n    title: \"推送\",\n    url: $.toString(() => {\n        clearMyVar('name');\n        //var link = 'hiker://page/push.html?url=' + encodeURIComponent(input.replace(\"#isMusic=true#\", '').replace('#isVideo=true#', ''));\n        var link = \"hiker://page/push?pushurl=\" + encodeURIComponent(input);\n\n        if (input.startsWith('http') || input.startsWith('magnet:') || (input.includes(\"\\n\") && !input.startsWith(\"{\"))) {\n            return link;\n        } else if (input.startsWith(\"{\") && input.endsWith(\"}\")) {\n            return link;\n        } else if (/\\.torrent|ed2k\\:/.test(input)) {\n            return 'toast://不支持推送这种链接。'\n        } else {\n            return 'toast://请输入正确的链接。'\n        }\n    }),\n    extra: {\n        titleVisible: true\n    },\n    col_type: 'input'\n});\nd.push({\n    title: \"TVB搜索\",\n    url: $.toString(() => {\n        let tvip = getItem('hikertvboxset', '');\n        let state = 'false';\n        if (tvip != '' && tvip.includes(':997')) {\n            var state = request(tvip + '/action', {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                    //'X-Requested-With': 'XMLHttpRequest',\n                    'Referer': tvip\n                },\n                timeout: 2000,\n                body: 'do=search&word=' + input,\n                method: 'POST'\n            });\n        }\n        //log(state);\n        if (state == 'ok') {\n            return 'toast://搜索推送成功，请注意观看电视端tvbox界面';\n        } else {\n            return 'toast://搜索推送失败'\n        }\n    }),\n    extra: {\n        titleVisible: true\n    },\n    col_type: 'input'\n});\n//调用代码示例\n//return 'hiker://page/push?rule=XYQ推送&pushurl=' + encodeURIComponent(input);\n//url: 'hiker://page/push?rule=XYQ推送&pushurl='+encodeURIComponent(url);\nd.push({\n    title: '下载TVBox推送插件',\n    url: 'https://framagit.org/lzk23559/tvbox/-/tree/main',\n    col_type: 'text_2'\n});\nd.push({\n    title: '查看TV设置教程',\n    url: 'https://framagit.org/lzk23559/tvbox/-/blob/main/%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E-%E5%BF%85%E7%9C%8B/XYQTVBox%E6%AD%A5%E9%AA%A4%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E.pdf',\n    col_type: 'text_2'\n});\nd.push({\n    title: \"有推送功能的规则\",\n    url: 'hiker://empty',\n    col_type: \"text_1\"\n});\nvar jump = ['tvbox云盘推送', '云盘君(推送)', 'AI影搜(推送)', 'MY阿里云盘', '香情影视', '聚影√', '风影 Ⓕ'];\nfor (var j in jump) {\n    d.push({\n        title: jump[j],\n        url: 'hiker://home@' + jump[j],\n        col_type: \"text_3\"\n    });\n}\nsetResult(d);","searchFind":"","search_url":"","group":"2推送","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"推送\",\"path\":\"push\",\"rule\":\"js:\\nlet items = [];\\nlet pushin = decodeURIComponent(getParam(\\\"pushurl\\\"));\\nlet tvip = getItem('hikertvboxset', '');\\n\\nitems.push({\\n    title: '当前IP：' + tvip,\\n    url: \\\"input://\\\" + getItem('hikertvboxset', 'http://' + getIP() + ':9978') + \\\"////请输入TVBox端的IP地址，如http://\\\" + getIP() + \\\":9978.js:setItem('hikertvboxset',input);refreshPage()\\\",\\n    col_type: 'flex_button'\\n});\\nvar purl = pushin;\\n\\nif (pushin.includes(\\\"\\\\n\\\") && !pushin.startsWith('{')) {\\n    purl = pushin.replace(\\\"\\\\n\\\", '$');\\n}\\nif (pushin.startsWith('https://www.aliyundrive.com/s/')) {\\n    let reftoken = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0].refresh_token;\\n    purl = JSON.stringify({\\n        \\\"url\\\": pushin,\\n        \\\"refresh_token\\\": reftoken\\n    })\\n}\\nif (pushin.includes(':52020')) {\\n    if (pushin.includes('redirectPlayUrl')) {\\n        purl = JSON.stringify({\\n            \\\"name\\\": \\\"海阔投屏直链\\\",\\n            \\\"url\\\": pushin\\n        })\\n    } else {\\n        purl = JSON.stringify({\\n            \\\"name\\\": \\\"海阔网页投屏\\\",\\n            \\\"url\\\": pushin\\n        })\\n    }\\n}\\n\\n//log('推送'+purl);\\nvar state = request(tvip + '/action', {\\n    headers: {\\n        'Content-Type': 'application/x-www-form-urlencoded',\\n        //'X-Requested-With': 'XMLHttpRequest',\\n        'Referer': tvip\\n    },\\n    timeout: 2000,\\n    body: 'do=push&url=' + purl.replace(/\\\\&/g, '＆＆'),\\n    method: 'POST'\\n});\\n//log(state);\\nif (state == 'ok') {\\n    //log(state);\\n    items.push({\\n        title: \\\"✅\\\" + state,\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\"\\n    });\\n} else {\\n    //log(state);\\n    items.push({\\n        title: \\\"❎\\\" + state,\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\"\\n    });\\n\\n}\\nsetResult(items);\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"MY阿里云盘","author":"香雅情","version":1,"type":"tool","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\n\nfunction formatDate(_date, _fmt) {\n    let fmt = _fmt || \"yyyy-MM-dd HH:mm:ss\";\n    const date = !isNaN(_date) ? new Date(_date * 1000) : new Date(_date);\n    const o = {\n        \"M+\": date.getMonth() + 1, //月份 \n        \"d+\": date.getDate(), //日 \n        \"h+\": date.getHours() % 12 == 0 ? 12 : date.getHours() % 12,\n        \"H+\": date.getHours(), //小时 \n        \"m+\": date.getMinutes(), //分 \n        \"s+\": date.getSeconds(), //秒 \n        \"q+\": Math.floor((date.getMonth() + 3) / 3), //季度 \n        \"S\": date.getMilliseconds() //毫秒 \n    };\n    if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n    }\n    for (let k in o) {\n        if (new RegExp(\"(\" + k + \")\").test(fmt)) {\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n        }\n    }\n    return fmt;\n};\n\nfunction formatSize(size) {\n    if (!size) {\n        return '';\n    }\n    const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    let i = 0;\n    while (size >= 1024) {\n        size /= 1024;\n        i++;\n    }\n    size = i ? Number(size.toFixed(2)) : size;\n    return `${size} ${units[i]}`;\n}\n//////\nvar tokenjson = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0];\nvar drivid = tokenjson.default_drive_id;\nd.push({\n    title: '当前用户：' + tokenjson.nick_name + ' ' + tokenjson.user_name,\n    url: 'hiker://empty',\n    col_type: \"avatar\",\n    pic_url: tokenjson.avatar\n});\n\nvar selfroot = fetch('https://api.aliyundrive.com/adrive/v3/file/list', {\n    headers: {\n        'Content-Type': 'application/json',\n        'authorization': getMyVar(\"aliaccessTk\", \"\")\n    },\n    body: '{\"drive_id\":\"' + drivid + '\",\"parent_file_id\":\"root\",\"limit\":100,\"all\":false,\"url_expire_sec\":1600,\"image_thumbnail_process\":\"image/resize,w_400/format,jpeg\",\"image_url_process\":\"image/resize,w_1920/format,jpeg\",\"video_thumbnail_process\":\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\",\"fields\":\"*\",\"order_by\":\"name\",\"order_direction\":\"ASC\"}',\n    method: 'POST'\n});\n\nvar conts = JSON.parse(selfroot).items;\nvar dongtai = JSON.parse(fetch('hiker://page/selflazyurl', {})).rule.toString();\nvar tuisong = [];\nfor (var i in conts) {\n    var listyp = conts[i].type;\n    if (listyp != 'folder') {\n        var cate = conts[i].category;\n        var fname = conts[i].name;\n        if (cate == 'video') {\n            var title = '📺' + conts[i].name;\n        } else if (cate == 'doc') {\n            var title = '📖' + conts[i].name;\n        } else if (cate == 'image') {\n            var title = '🖼' + conts[i].name;\n        } else if (cate == 'zip') {\n            var title = '📦' + conts[i].name;\n        } else {\n            var title = conts[i].name\n        }\n        d.push({\n            title: title,\n            url: $(conts[i].file_id).lazyRule((drivid, dongtai, cate, fname) => {\n                eval(dongtai);\n                return play\n            }, drivid, dongtai, cate, fname),\n            desc: formatDate(conts[i].updated_at) + '  ' + formatSize(conts[i].size),\n            col_type: 'text_1'\n\n        });\n        if (cate == 'video' || cate == 'audio') {\n            tuisong.push(\n                title.replace(/\\#/g, '_').replace(/\\$/g, '_') + '$' + cate + '|' + conts[i].file_id\n            );\n        }\n    } else {\n        d.push({\n            title: '📂' + conts[i].name,\n            url: $('hiker://empty' + conts[i].file_id).rule((drivid,pushname) => {\n                eval(JSON.parse(fetch('hiker://page/selfruleloop', {})).rule);\n            }, drivid,conts[i].name),\n            col_type: 'flex_button'\n        });\n\n    } //end if\n}\nlet pushname = \"网盘根目录\"\neval(JSON.parse(fetch('hiker://page/pushcode', {})).rule);\n\nd.unshift({\n    title: getItem('hikertvboxset', ''),\n    url: 'hiker://empty',\n    col_type: 'flex_button'\n});\nd.unshift({\n    title: '设置IP地址',\n    url: \"input://\" + getItem('hikertvboxset', 'http://' + getIP() + ':9978') + \"////请输入tvbox推送IP地址，如http://\" + getIP() + \":9978.js:setItem('hikertvboxset',input);refreshPage()\",\n    col_type: 'flex_button'\n});\n//推送代码结束\nsetHomeResult({\n    data: d\n});","searchFind":"","search_url":"","group":"2测试","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"if (!getMyVar(\"aliaccessTk\")) {\n    let ntoken=[];\n    if (!fileExist(\"hiker://files/rules/icy/icy-ali-token.json\")) {\n        var reftoken = \"\";\n    } else {\n        var reftoken = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0].refresh_token;\n    }\n    var refresh = fetch('https://auth.aliyundrive.com/v2/account/token', {\n        headers: {\n            'Content-Type': 'application/json',\n            'User-Agent': PC_UA,\n            'Referer': 'https://www.aliyundrive.com/'\n        },\n        body: '{\"refresh_token\":\"' + reftoken + '\",\"grant_type\":\"refresh_token\"}',\n        method: 'POST'\n    });\n    //log(refresh);\n    if (!fileExist(\"hiker://files/rules/icy/icy-ali-token.json\") || refresh.length > 300) {\n        ntoken.push(JSON.parse(refresh));\n        writeFile(\"hiker://files/rules/icy/icy-ali-token.json\", JSON.stringify(ntoken));\n    }\n    \n    var refresh = fetch('hiker://files/rules/icy/icy-ali-token.json', {});\n    var accessTk = JSON.parse(refresh)[0].token_type + ' ' + JSON.parse(refresh)[0].access_token;\n    putMyVar(\"aliaccessTk\", accessTk);\n}\n\n\n","pages":"[{\"col_type\":\"movie_3\",\"name\":\"自己嵌套页面\",\"path\":\"selfruleloop\",\"rule\":\"var d = [];\\n\\nfunction formatDate(_date, _fmt) {\\n    let fmt = _fmt || \\\"yyyy-MM-dd HH:mm:ss\\\";\\n    const date = !isNaN(_date) ? new Date(_date * 1000) : new Date(_date);\\n    const o = {\\n        \\\"M+\\\": date.getMonth() + 1, //月份 \\n        \\\"d+\\\": date.getDate(), //日 \\n        \\\"h+\\\": date.getHours() % 12 == 0 ? 12 : date.getHours() % 12,\\n        \\\"H+\\\": date.getHours(), //小时 \\n        \\\"m+\\\": date.getMinutes(), //分 \\n        \\\"s+\\\": date.getSeconds(), //秒 \\n        \\\"q+\\\": Math.floor((date.getMonth() + 3) / 3), //季度 \\n        \\\"S\\\": date.getMilliseconds() //毫秒 \\n    };\\n    if (/(y+)/.test(fmt)) {\\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \\\"\\\").substr(4 - RegExp.$1.length));\\n    }\\n    for (let k in o) {\\n        if (new RegExp(\\\"(\\\" + k + \\\")\\\").test(fmt)) {\\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\\\"00\\\" + o[k]).substr((\\\"\\\" + o[k]).length)));\\n        }\\n    }\\n    return fmt;\\n};\\n\\nfunction formatSize(size) {\\n    if (!size) {\\n        return '';\\n    }\\n    const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\\n    let i = 0;\\n    while (size >= 1024) {\\n        size /= 1024;\\n        i++;\\n    }\\n    size = i ? Number(size.toFixed(2)) : size;\\n    return `${size} ${units[i]}`;\\n}\\nvar tokenjson = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0];\\n\\nvar rescod = fetch('https://api.aliyundrive.com/adrive/v3/file/list', {\\n    headers: {\\n        'Content-Type': 'application/json',\\n        'authorization': getMyVar(\\\"aliaccessTk\\\", \\\"\\\")\\n    },\\n    body: '{\\\"drive_id\\\":\\\"' + drivid + '\\\",\\\"parent_file_id\\\":\\\"' + getResCode() + '\\\",\\\"limit\\\":100,\\\"image_thumbnail_process\\\":\\\"image/resize,w_160/format,jpeg\\\",\\\"image_url_process\\\":\\\"image\\\\/resize,w_1920/format,jpeg\\\",\\\"video_thumbnail_process\\\":\\\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\\\",\\\"order_by\\\":\\\"name\\\",\\\"order_direction\\\":\\\"ASC\\\"}',\\n    method: 'POST'\\n});\\n//log(rescod);\\nvar conts = JSON.parse(rescod).items;\\nvar tuisong = [];\\nvar dongtai = JSON.parse(fetch('hiker://page/selflazyurl', {})).rule.toString();\\nfor (var i in conts) {\\n\\n    var listyp = conts[i].type;\\n    if (listyp != 'folder') {\\n        var cate = conts[i].category;\\n        var fname = conts[i].name;\\n        if (cate == 'video') {\\n            var title = '📺' + conts[i].name;\\n        } else if (cate == 'doc') {\\n            var title = '📖' + conts[i].name;\\n        } else if (cate == 'image') {\\n            var title = '🖼' + conts[i].name;\\n        } else if (cate == 'zip') {\\n            var title = '📦' + conts[i].name;\\n        } else {\\n            var title = conts[i].name\\n        }\\n        d.push({\\n            title: title,\\n            url: $(conts[i].file_id).lazyRule((drivid, dongtai, cate, fname) => {\\n                eval(dongtai);\\n                return play\\n            }, drivid, dongtai, cate, fname),\\n            desc: formatDate(conts[i].updated_at) + '  ' + formatSize(conts[i].size),\\n            col_type: 'text_1'\\n\\n        });\\n        if (cate == 'video' || cate == 'audio') {\\n            tuisong.push(\\n                title.replace(/\\\\#/g, '_').replace(/\\\\$/g, '_') + '$' + cate + '|' + conts[i].file_id\\n            );\\n        }\\n    } else {\\n        d.push({\\n            title: '📂' + conts[i].name,\\n            url: $('hiker://empty' + conts[i].file_id).rule((drivid, pushname) => {\\n                eval(JSON.parse(fetch('hiker://page/selfruleloop', {})).rule);\\n            }, drivid, conts[i].name),\\n            col_type: 'flex_button'\\n        });\\n\\n    } //end if\\n\\n\\n}\\neval(JSON.parse(fetch('hiker://page/pushcode', {})).rule);\\n\\nsetHomeResult({\\n    data: d\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"自己动态解析\",\"path\":\"selflazyurl\",\"rule\":\"function accessTk() {\\n    let ntoken = [];\\n    var reftoken = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0].refresh_token;\\n    let accessTk = \\\"\\\";\\n    let refresh = fetch('https://auth.aliyundrive.com/v2/account/token', {\\n        headers: {\\n            'Content-Type': 'application/json',\\n            'Referer': 'https://www.aliyundrive.com/'\\n        },\\n        body: '{\\\"refresh_token\\\":\\\"' + reftoken + '\\\",\\\"grant_type\\\":\\\"refresh_token\\\"}',\\n        method: 'POST'\\n    });\\n    ntoken.push(JSON.parse(refresh));\\n    if (!fileExist(\\\"hiker://files/rules/icy/icy-ali-token.json\\\") || refresh.length > 300) {\\n        writeFile(\\\"hiker://files/rules/icy/icy-ali-token.json\\\", JSON.stringify(ntoken));\\n    }\\n    //log(JSON.parse(refresh));    \\n    accessTk = JSON.parse(refresh).token_type + ' ' + JSON.parse(refresh).access_token;\\n    putMyVar(\\\"aliaccessTk\\\", accessTk);\\n    return accessTk\\n}\\nif (cate == 'video' || cate == 'audio') {\\n    //处理视频  \\n    var dfid = input;\\n    if (cate == 'video') {\\n        var json = fetch('https://api.aliyundrive.com/v2/file/get_video_preview_play_info', {\\n            headers: {\\n                'Content-Type': 'application/json',\\n                'Authorization': accessTk()\\n            },\\n            body: '{\\\"drive_id\\\":\\\"' + drivid + '\\\",\\\"category\\\":\\\"live_transcoding\\\",\\\"file_id\\\":\\\"' + input + '\\\",\\\"template_id\\\":\\\"\\\"}',\\n            method: 'POST'\\n        });\\n        //log(json);\\n\\n        var dfid = JSON.parse(json).file_id;\\n    }\\n    if (cate == 'video') {\\n        var body = '{\\\"expire_sec\\\":115200,\\\"file_id\\\":\\\"' + dfid + '\\\",\\\"drive_id\\\":\\\"' + drivid + '\\\"}';\\n\\n    } else {\\n        var body = '{\\\"file_id\\\":\\\"' + dfid + '\\\",\\\"get_audio_play_info\\\":true,\\\"drive_id\\\":\\\"' + drivid + '\\\"}';\\n    }\\n    var djson = fetch('https://api.aliyundrive.com/v2/file/get_download_url', {\\n        headers: {\\n            'Content-Type': 'application/json',\\n            'Authorization': accessTk()\\n        },\\n        body: body,\\n        method: 'POST'\\n    });\\n    var link = JSON.parse(djson).url;\\n\\n    var play = link + ';{Referer@https://www.aliyundrive.com/}';\\n\\n} else if (cate == 'image') {\\n    //处理文档\\n    var json = fetch('https://api.aliyundrive.com/v2/file/get_download_url', {\\n        headers: {\\n            'Content-Type': 'application/json',\\n            'Authorization': accessTk()\\n        },\\n        body: '{\\\"drive_id\\\":\\\"' + drivid + '\\\",\\\"expire_sec\\\": 115200,\\\"file_id\\\":\\\"' + input + '\\\"}',\\n        method: 'POST'\\n    });\\n\\n    //log(json);\\n    var loclink = JSON.parse(json).url;\\n\\n    //log(loclink);\\n    if (cate == 'image') {\\n        var play = 'pics://' + loclink + '@Referer=https://www.aliyundrive.com/';\\n    } else {\\n        var play = loclink + ';{Referer@https://www.aliyundrive.com/}';\\n    }\\n} else {\\n    var play = 'toast://该格式暂未支持，目前只支持查看视频和图片。'\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"推送代码\",\"path\":\"pushcode\",\"rule\":\"js:\\n//推送代码\\nlet push = JSON.stringify({\\n    \\\"name\\\":pushname,\\n    \\\"url\\\": tuisong.join('#'),\\n    \\\"default_drive_id\\\": drivid,\\n    \\\"refresh_token\\\": tokenjson.refresh_token\\n}).replace(/\\\\&/g, '＆＆');\\n//log(push);\\nlet tvip = getItem('hikertvboxset', '');\\n//log(tuisong.length);\\nif(tuisong.length>0){\\nd.unshift({\\n    title: \\\"推送当前页音视频到TVBox\\\",\\n    url: $(push).lazyRule((tvip) => {\\n        if (!tvip.includes(':997')) {\\n            return 'toast://IP为空或不正确，请先设置。'\\n        };\\n        var state = request(tvip + '/action', {\\n            headers: {\\n                'Content-Type': 'application/x-www-form-urlencoded',\\n                //'X-Requested-With': 'XMLHttpRequest',\\n                'Referer': tvip\\n            },\\n            timeout: 2000,\\n            body: 'do=push&url=' + input,\\n            method: 'POST'\\n        });\\n        log(state);\\n        if (state == 'ok') {\\n            return 'toast://推送成功，如果tvbox显示“没找到数据”可能是当前的jar不支持。';\\n        } else {\\n            return 'toast://推送失败'\\n        }\\n    }, tvip),\\n    col_type: \\\"scroll_button\\\"\\n});\\n}\\n//\"}]","proxy":"","icon":"https://gw.alicdn.com/imgextra/i3/O1CN01aj9rdD1GS0E8io11t_!!6000000000620-73-tps-16-16.ico"},{"title":"机核GCORES","author":"TyrantGenesis","version":1,"type":"news","url":"hiker://empty$$fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/COLLECTION/gcores.js'))\ngcores.baseParse()","searchFind":"","search_url":"","group":"TyrantG","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"if (! fileExist('hiker://files/TyrantG/public/gcores_banners.html')) writeFile('hiker://files/TyrantG/public/gcores_banners.html', request('https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/public/gcores_banners.html'))","pages":"[]","icon":"https://www.gcores.com/apple-touch-icon.png?v=jw7pQOOwRY"},{"title":"漫画猫","author":"TyrantGenesis","version":1,"type":"cartoon","url":"https://www.maofly.com/list.html###fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst baseParse = _ => {\n    addListener('onClose', $.toString(() => {\n        clearItem('maofly.true_url')\n        clearItem('maofly.tab_params')\n        clearItem('maofly.fold')\n    }))\n    let d = [];\n    let [base_url, page] = MY_URL.split('###')\n    page = parseInt(page)\n    const empty = 'hiker://empty'\n    const url = getItem('maofly.true_url', base_url.replace('.html', ''))\n    const fold = getItem('maofly.fold', '1')\n    const tab_params_json = getItem('maofly.tab_params', JSON.stringify([0, 0, 0, 0, 0, 0]))\n    const tab_params = JSON.parse(tab_params_json)\n\n    const html = fetch(url+'-page-'+page+'.html', {headers: {'User-Agent': PC_UA}})\n\n    if (page === 1) {\n        d.push({\n            title: fold === '1' ? '折叠' : '展开',\n            url: $(empty).lazyRule((fold) => {\n                log(fold)\n                setItem('maofly.fold', fold === '1' ? '0' : '1')\n                refreshPage(true)\n                return 'hiker://empty'\n            }, fold),\n            col_type: 'scroll_button',\n        }, fold)\n        d.push({\n            title: '重置筛选',\n            url: $(empty).lazyRule(() => {\n                clearItem('maofly.true_url')\n                clearItem('maofly.tab_params')\n                refreshPage(true)\n                return 'hiker://empty'\n            }),\n            col_type: 'scroll_button',\n        })\n        d.push({\n            col_type: 'blank_block',\n        })\n\n        if (fold === '1') {\n            const tab_list = pdfa(html, '.search_div&&.mt-4')\n\n            tab_list.forEach((item, row_index) => {\n                let row = pdfa(item, '.row&&a')\n                let tab_params_index = tab_params[row_index]\n                row.forEach((tab, col_index) => {\n                    let title = pdfh(tab, 'a&&Text')\n                    d.push({\n                        title: tab_params_index === col_index+1 ? '‘‘’’<strong><font color=\"red\">'+title+'</font></strong>' : title,\n                        url: $(pdfh(tab, 'a&&href')).lazyRule((row_string, col_string, tab_params) => {\n                            tab_params[parseInt(row_string)] = parseInt(col_string)+1\n                            setItem('maofly.true_url', input.replace('.html', ''))\n                            setItem('maofly.tab_params', JSON.stringify(tab_params))\n                            refreshPage(false)\n                            return 'hiker://empty'\n                        }, row_index.toString(), col_index.toString(), tab_params),\n                        col_type: 'scroll_button',\n                    })\n                })\n                d.push({\n                    col_type: 'blank_block',\n                })\n            })\n        }\n    }\n\n    const content = pdfa(html, '.comic-main-section&&.comic-book-unit')\n    content.forEach(item => {\n        d.push({\n            title: pdfh(item, 'h2&&a&&Text'),\n            url: pdfh(item, 'h2&&a&&href')+'#immersiveTheme#',\n            desc: pdfh(item, '.list-inline&&Text'),\n            pic_url: pdfh(item, '.comic-book-cover&&src'),\n            col_type: 'movie_3',\n        })\n    })\n\n    setResult(d);\n}\n\nbaseParse()","searchFind":".comic-main-section&&.comicbook-index;\nh2&&a&&Text;\nh2&&a&&href.js:input+\"#immersiveTheme#\";\n.comic-author&&Text;\n.comic-author&&Text;\nimg&&src","search_url":"https://www.maofly.com/search.html?q=**&page=fypage","group":"TyrantG","detail_col_type":"movie_1","detail_find_rule":"js:\n    addListener('onClose', $.toString(() => {\n        clearItem('maofly.sort')\n    }))\n    let d = [];\n    const empty = 'hiker://empty'\n    const html = getResCode()\n    const sort = getItem('maofly.sort', '1')\n    const comic_info = pdfh(html, '.comic-meta-data-table&&Html')\n    const info_title = pdfh(html, 'h1&&Text')\n    const info_pic = pdfh(comic_info, 'img&&src')\n\n    d.push({\n        title: info_title,\n        url: MY_URL,\n        desc: pdfh(html, '.comic_story&&Text'),\n        pic_url: info_pic,\n        col_type: 'movie_1_vertical_pic_blur',\n    })\n    d.push({\n        col_type: 'line_blank',\n    })\n\n    const list = pdfa(html, '#comic-book-list&&.tab-pane')\n    list.forEach(item => {\n        let title = pdfh(item, '.comic_version_title&&Text')\n        let select_arr = pdfa(item, 'ol&&li')\n        if (sort === '1') select_arr = select_arr.reverse()\n        const download_arr = select_arr.map(item => {\n            return {\n                url: pdfh(item, 'a&&href'),\n                title: pdfh(item, 'a&&Text'),\n            }\n        })\n        d.push({\n            title: title,\n            url: empty,\n            col_type: 'text_1',\n        })\n        d.push({\n            col_type: 'line',\n        })\n        d.push({\n            title: sort === '1' ? '倒序' : '正序',\n            url: $(empty).lazyRule((sort) => {\n                setItem('maofly.sort', sort === '1' ? '0' : '1')\n                refreshPage(false)\n                return 'hiker://empty'\n            }, sort),\n            col_type: 'text_2',\n        })\n        d.push({\n            title: '下载',\n            url: \"hiker://page/download.view#noHistory##noRecordHistory##noRefresh#?rule=本地资源管理\",\n            extra: {\n                chapterList: download_arr,\n                info:{\n                    bookName: info_title,\n                    ruleName: MY_RULE.title,\n                    bookTopPic: info_pic,\n                    parseCode: $.toString(() => {\n                        const LZString = function(){function o(o,r){if(!t[o]){t[o]={};for(var n=0;n<o.length;n++)t[o][o.charAt(n)]=n}return t[o][r]}var r=String.fromCharCode,n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\",t={},i={compressToBase64:function(o){if(null==o)return\"\";var r=i._compress(o,6,function(o){return n.charAt(o)});switch(r.length%4){default:case 0:return r;case 1:return r+\"===\";case 2:return r+\"==\";case 3:return r+\"=\"}},decompressFromBase64:function(r){return null==r?\"\":\"\"==r?null:i._decompress(r.length,32,function(e){return o(n,r.charAt(e))})},compressToUTF16:function(o){return null==o?\"\":i._compress(o,15,function(o){return r(o+32)})+\" \"},decompressFromUTF16:function(o){return null==o?\"\":\"\"==o?null:i._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=i.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;t>e;e++){var s=r.charCodeAt(e);n[2*e]=s>>>8,n[2*e+1]=s%256}return n},decompressFromUint8Array:function(o){if(null===o||void 0===o)return i.decompress(o);for(var n=new Array(o.length/2),e=0,t=n.length;t>e;e++)n[e]=256*o[2*e]+o[2*e+1];var s=[];return n.forEach(function(o){s.push(r(o))}),i.decompress(s.join(\"\"))},compressToEncodedURIComponent:function(o){return null==o?\"\":i._compress(o,6,function(o){return e.charAt(o)})},decompressFromEncodedURIComponent:function(r){return null==r?\"\":\"\"==r?null:(r=r.replace(/ /g,\"+\"),i._decompress(r.length,32,function(n){return o(e,r.charAt(n))}))},compress:function(o){return i._compress(o,16,function(o){return r(o)})},_compress:function(o,r,n){if(null==o)return\"\";var e,t,i,s={},p={},u=\"\",c=\"\",a=\"\",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<o.length;i+=1)if(u=o.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(s,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;h>e;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;8>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;h>e;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;16>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++),s[c]=f++,a=String(u)}if(\"\"!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;h>e;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;8>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;h>e;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;16>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join(\"\")},decompress:function(o){return null==o?\"\":\"\"==o?null:i._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(o,n,e){var t,i,s,p,u,c,a,l,f=[],h=4,d=4,m=3,v=\"\",w=[],A={val:e(0),position:n,index:1};for(i=0;3>i;i+=1)f[i]=i;for(p=0,c=Math.pow(2,2),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;switch(t=p){case 0:for(p=0,c=Math.pow(2,8),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;l=r(p);break;case 1:for(p=0,c=Math.pow(2,16),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;l=r(p);break;case 2:return\"\"}for(f[3]=l,s=l,w.push(l);;){if(A.index>o)return\"\";for(p=0,c=Math.pow(2,m),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;switch(l=p){case 0:for(p=0,c=Math.pow(2,8),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;f[d++]=r(p),l=d-1,h--;break;case 1:for(p=0,c=Math.pow(2,16),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;f[d++]=r(p),l=d-1,h--;break;case 2:return w.join(\"\")}if(0==h&&(h=Math.pow(2,m),m++),f[l])v=f[l];else{if(l!==d)return null;v=s+s.charAt(0)}w.push(v),f[d++]=s+v.charAt(0),h--,s=v,0==h&&(h=Math.pow(2,m),m++)}}};return i}();\"function\"==typeof define&&define.amd?define(function(){return LZString}):\"undefined\"!=typeof module&&null!=module&&(module.exports=LZString);\n                        const html = fetch(input, {headers: {'User-Agent': PC_UA}})\n                        const img_data = html.match(/let img_data = \"(.*?)\"/)[1]\n                        const img_data_arr = LZString.decompressFromBase64(img_data).split(',').map(item => 'https://mao.mhtupian.com/uploads/'+item)\n                        return 'pics://'+img_data_arr.join('&&')\n                    })\n                },\n                defaultView: \"1\"\n            },\n            col_type: 'text_2',\n        })\n        select_arr.forEach(sel => {\n            d.push({\n                title: pdfh(sel, 'a&&Text'),\n                url: $(pdfh(sel, 'a&&href')).lazyRule(() => {\n                    const LZString = function(){function o(o,r){if(!t[o]){t[o]={};for(var n=0;n<o.length;n++)t[o][o.charAt(n)]=n}return t[o][r]}var r=String.fromCharCode,n=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",e=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\",t={},i={compressToBase64:function(o){if(null==o)return\"\";var r=i._compress(o,6,function(o){return n.charAt(o)});switch(r.length%4){default:case 0:return r;case 1:return r+\"===\";case 2:return r+\"==\";case 3:return r+\"=\"}},decompressFromBase64:function(r){return null==r?\"\":\"\"==r?null:i._decompress(r.length,32,function(e){return o(n,r.charAt(e))})},compressToUTF16:function(o){return null==o?\"\":i._compress(o,15,function(o){return r(o+32)})+\" \"},decompressFromUTF16:function(o){return null==o?\"\":\"\"==o?null:i._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=i.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;t>e;e++){var s=r.charCodeAt(e);n[2*e]=s>>>8,n[2*e+1]=s%256}return n},decompressFromUint8Array:function(o){if(null===o||void 0===o)return i.decompress(o);for(var n=new Array(o.length/2),e=0,t=n.length;t>e;e++)n[e]=256*o[2*e]+o[2*e+1];var s=[];return n.forEach(function(o){s.push(r(o))}),i.decompress(s.join(\"\"))},compressToEncodedURIComponent:function(o){return null==o?\"\":i._compress(o,6,function(o){return e.charAt(o)})},decompressFromEncodedURIComponent:function(r){return null==r?\"\":\"\"==r?null:(r=r.replace(/ /g,\"+\"),i._decompress(r.length,32,function(n){return o(e,r.charAt(n))}))},compress:function(o){return i._compress(o,16,function(o){return r(o)})},_compress:function(o,r,n){if(null==o)return\"\";var e,t,i,s={},p={},u=\"\",c=\"\",a=\"\",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<o.length;i+=1)if(u=o.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(s,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;h>e;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;8>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;h>e;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;16>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++),s[c]=f++,a=String(u)}if(\"\"!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;h>e;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;8>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;h>e;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;16>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;h>e;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join(\"\")},decompress:function(o){return null==o?\"\":\"\"==o?null:i._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(o,n,e){var t,i,s,p,u,c,a,l,f=[],h=4,d=4,m=3,v=\"\",w=[],A={val:e(0),position:n,index:1};for(i=0;3>i;i+=1)f[i]=i;for(p=0,c=Math.pow(2,2),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;switch(t=p){case 0:for(p=0,c=Math.pow(2,8),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;l=r(p);break;case 1:for(p=0,c=Math.pow(2,16),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;l=r(p);break;case 2:return\"\"}for(f[3]=l,s=l,w.push(l);;){if(A.index>o)return\"\";for(p=0,c=Math.pow(2,m),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;switch(l=p){case 0:for(p=0,c=Math.pow(2,8),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;f[d++]=r(p),l=d-1,h--;break;case 1:for(p=0,c=Math.pow(2,16),a=1;a!=c;)u=A.val&A.position,A.position>>=1,0==A.position&&(A.position=n,A.val=e(A.index++)),p|=(u>0?1:0)*a,a<<=1;f[d++]=r(p),l=d-1,h--;break;case 2:return w.join(\"\")}if(0==h&&(h=Math.pow(2,m),m++),f[l])v=f[l];else{if(l!==d)return null;v=s+s.charAt(0)}w.push(v),f[d++]=s+v.charAt(0),h--,s=v,0==h&&(h=Math.pow(2,m),m++)}}};return i}();\"function\"==typeof define&&define.amd?define(function(){return LZString}):\"undefined\"!=typeof module&&null!=module&&(module.exports=LZString);\n                    const html = fetch(input, {headers: {'User-Agent': PC_UA}})\n                    const img_data = html.match(/let img_data = \"(.*?)\"/)[1]\n                    const img_data_arr = LZString.decompressFromBase64(img_data).split(',').map(item => 'https://mao.mhtupian.com/uploads/'+item)\n                    return 'pics://'+img_data_arr.join('&&')\n                }),\n                col_type: 'text_4',\n            })\n        })\n        d.push({\n            col_type: 'line_blank',\n        })\n    })\n\n    setResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":"https://www.maofly.com/static/images/180.png"},{"last_chapter_rule":"","title":"风影 Ⓕ","author":"随风","version":221005,"type":"video","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: \nrequire(config.依赖);\nsy()","searchFind":"js: \nrequire(config.依赖);\nsou()","search_url":"hiker://empty##**","group":"①A影模板","detail_col_type":"text_3","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"let ycl = \"https://gitcode.net/suifen/suifeng/-/raw/master/ycl.js\";\ninitConfig({\n    依赖: ycl\n  });\t","pages":"[]","proxy":"","icon":"http://www.isoying.com/ico/logo.ico"},{"last_chapter_rule":"","title":"AI影搜","author":"","version":41,"type":"tool","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require('hiker://page/pro')","searchFind":"","search_url":"","group":"①工具","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"二级解析\",\"path\":\"p\",\"rule\":\"js:\\nvar d = [];\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlet html = request(url);\\nlet alist = pdfa(html, \\\"body&&a\\\");\\nlet arr = alist.map(it => {\\n    return {\\n        //html: it,\\n        text: pdfh(it, \\\"a&&Text\\\"),\\n        title: pdfh(it, \\\"a&&title\\\"),\\n        href: pd(it, \\\"a&&href\\\", url)\\n    }\\n});\\n//log(arr);\\nlet debug = false;\\n\\nfunction clearText(it) {\\n    return it.replace(/第|集|章/g, \\\"\\\");\\n}\\n\\nfunction isMovie(it) {\\n    if (it == null || it.text == null) {\\n        return false;\\n    }\\n    let tit = it.title || \\\"\\\";\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\" || it.length > 8) {\\n        return false;\\n    }\\n    if (tit != \\\"\\\" && !tit.includes(it)) {\\n        return false;\\n    }\\n    return it.match(/原画|备用|蓝光|超清|正片|韩版|4K|4k|1080P|720P|TC|HD|BD/)\\n}\\n\\nfunction notChapter(it) {\\n    if (it == null || it.text == null) {\\n        return true;\\n    }\\n    return it.text.match(/[0-9]\\\\.[0-9]分/);\\n}\\n\\nfunction isChapter(it, pre, next) {\\n    if (notChapter(it)) {\\n        //优先排除\\n        return false;\\n    }\\n    //判断是不是电影\\n    if (isMovie(it)) {\\n        return true;\\n    }\\n    return isChapter0(it, pre) || isChapter0(it, next);\\n}\\n\\nfunction getChapterNum(it) {\\n    if (it == null || it.text == null) {\\n        return -1;\\n    }\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\") {\\n        return -1;\\n    }\\n    it = clearText(it);\\n    it = parseInt(it);\\n    if (isNaN(it)) {\\n        return -1;\\n    }\\n    return it;\\n}\\n\\nfunction isChapter0(it, brother) {\\n    /*if (debug) {\\n        log({\\n            it: it,\\n            brother: brother\\n        });\\n    }*/\\n    it = getChapterNum(it);\\n    //if (debug) log(it);\\n    if (it < 0) {\\n        return false;\\n    }\\n    brother = getChapterNum(brother);\\n    //if (debug) log(brother);\\n    if (brother < 0) {\\n        return false;\\n    }\\n    return it - brother < 2 && it - brother > -2;\\n}\\n\\nfor (let i = 0; i < arr.length; i++) {\\n    let it = arr[i];\\n    let t = it.text;\\n    if (!it.href || it.href == \\\"\\\") {\\n        continue;\\n    }\\n    let pre = i == 0 ? null : arr[i - 1];\\n    let next = i == (arr.length - 1) ? null : arr[i + 1];\\n    if (isChapter(it, pre, next)) {\\n        d.push({\\n            title: t,\\n            url: \\\"video://\\\" + it.href,\\n            col_type: \\\"text_3\\\",\\n            extra: {\\n                id: it.href\\n            }\\n        });\\n    }\\n}\\nif (d.length == 0) {\\n    //匹配失败\\n    d.push({\\n        title: \\\"\\\",\\n        url: url,\\n        col_type: \\\"x5_webview_single\\\",\\n        desc: \\\"float&&100%\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            canBack: true\\n        }\\n    });\\n    toast(\\\"AI匹配失败，已使用X5加载\\\");\\n    setResult(d);\\n} else {\\n    //为线路加分割线\\n    let d2 = [];\\n    for (let i = 0; i < d.length; i++) {\\n        d2.push(d[i]);\\n        if (i < d.length - 1) {\\n            let it = d[i];\\n            let t1 = parseInt(clearText(it.title));\\n            let next = d[i + 1];\\n            let t2 = parseInt(clearText(next.title));\\n            if (t2 - t1 > 1 || t1 - t2 > 1) {\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"line_blank\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n            }\\n        }\\n    }\\n\\n    setResult(d2);\\n}\"},{\"col_type\":\"text_1\",\"name\":\"搜索测试\",\"path\":\"s\",\"rule\":\"js:\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlog(url);\\nlet key = getParam(\\\"key\\\");\\nlet sp = $.require(\\\"hiker://page/sp\\\");\\nsetResult(sp(url, key, \\\"搜索测试\\\"));\"},{\"col_type\":\"movie_3\",\"name\":\"聚合搜索\",\"path\":\"pro\",\"rule\":\"var d = [];\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(() => {\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: \\\"input\\\",\\n        desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"sou\\\", \\\"\\\"),\\n            onChange: $.toString(() => {\\n                putMyVar(\\\"sou\\\", input);\\n            })\\n        }\\n    });\\n    addListener(\\\"onClose\\\", $.toString(() => {\\n        clearMyVar(\\\"sou\\\");\\n        clearMyVar(\\\"so\\\");\\n    }));\\n}\\n\\nlet s = getMyVar(\\\"sou\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let p = MY_PAGE;\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n    let data = load(p, r != \\\"\\\" ? r : null);\\n\\n    let pageid = MY_RULE.title + \\\"-page\\\" + p;\\n    if (data.length > 0) {\\n        d.push({\\n            title: \\\"加载第\\\" + p + \\\"页中，进度：1/\\\" + data.length,\\n            url: \\\"\\\",\\n            col_type: \\\"text_center_1\\\",\\n            desc: \\\"\\\",\\n            pic_url: \\\"\\\",\\n            extra: {\\n                id: pageid\\n            }\\n        });\\n    }\\n    setResult(d);\\n    log(data.length);\\n    if (data.length > 0) {\\n        //多线程加载        \\n        let realPage = \\\"\\\" == r ? 1 : p;\\n        let tasks = data.map(it => {\\n            return {\\n                func: function(rule) {\\n                    return rule.find(s, realPage);\\n                },\\n                param: it,\\n                id: \\\"rule@\\\" + it.name\\n            }\\n        });\\n\\n        batchExecute(tasks, {\\n            func: function(param, id, error, result) {\\n                //log(\\\"listener: \\\" + (result || []).length)\\n                param.i = param.i + 1;\\n                if (result) {\\n                    try {\\n                        for (let it of result) {\\n                            param.j = param.j + 1;\\n                            addItemBefore(pageid, {\\n                                title: wrap(it.title, s),\\n                                desc: it.desc,\\n                                url: it.url,\\n                                pic_url: it.pic_url,\\n                                col_type: it.pic_url ? 'movie_1_vertical_pic' : \\\"text_1\\\",\\n                                extra: it.extra\\n                            })\\n                        }\\n                    } catch (e) {}\\n\\n                }\\n                if (param.i >= param.all) {\\n                    deleteItem(pageid)\\n                } else {\\n                    updateItem({\\n                        title: \\\"加载第\\\" + MY_PAGE + \\\"页中，进度：\\\" + (param.i + 1) + \\\"/\\\" + param.all,\\n                        url: \\\"\\\",\\n                        col_type: \\\"text_center_1\\\",\\n                        desc: \\\"\\\",\\n                        pic_url: \\\"\\\",\\n                        extra: {\\n                            id: pageid\\n                        }\\n                    })\\n                }\\n            },\\n            param: {\\n                all: data.length,\\n                i: 0,\\n                j: -1\\n            }\\n        })\\n    }\\n} else {\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let data = load(-1, null);\\n    if (data.length > 0) {\\n        for (let it of data) {\\n            d.push({\\n                title: it.name,\\n                url: \\\"select://\\\" + JSON.stringify({\\n                    title: \\\"请选择操作\\\",\\n                    col: 1,\\n                    options: [\\\"访问首页\\\", \\\"搜索此站\\\"],\\n                    js: $.toString((url) => {\\n                        if (input == \\\"访问首页\\\") {\\n                            MY_URL = url;\\n                            return \\\"x5://\\\" + getHome(url)\\n                        } else {\\n                            return \\\"hiker://page/singles\\\"\\n                        }\\n                    }, it.url)\\n                }),\\n                col_type: \\\"flex_button\\\",\\n                desc: \\\"\\\",\\n                pic_url: \\\"\\\",\\n                extra: {\\n                    RULE: {\\n                        name: it.name,\\n                        url: it.url\\n                    }\\n                }\\n            });\\n        }\\n        $.require(\\\"hiker://page/manage\\\")(d, data.map(it => it.name));\\n    }\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"数据\",\"path\":\"data\",\"rule\":\"//并发规则数\\nlet size0 = 10;\\nlet rulesText0 = `稀饭@https://www.xifanys.com/yingpiansearch/-------------.html?wd=**\\n达龟@https://www.dadagui.me/vodsearch/-------------.html?wd=**&submit=\\n城市@https://www.citydy.com/search.html?wd=**\\nlibvio@https://www.libvio.me/search/-------------.html?wd=**&submit=\\n新视@https://www.6080dy1.com/vodsearch/-------------.html?wd=**\\n看看y@https://www.kkdy.live/vod-search.html?wd=**&submit=\\n饭团@https://www.fantuanhd.com/search.html?wd=**&submit=\\n免的@https://www.freeok.vip/vodsearch/-------------.html?wd=**\\n牛马@https://www.niumatv.cc/vodsearch.html?wd=**&submit=\\n免费@https://www.thefree.vip/vodsearch/-------------.html?wd=**\\n莫扎兔@https://www.mozhatu.com/index.php/vod/search.html?wd=**\\n霹雳@https://plyingshi.com/vodsearch/-------------.html?wd=**\\n厂长@https://www.czspp.com/xssearch?q=**\\nVOF@https://www.voflix.com/search/-------------.html?wd=**\\n电影@https://www.appmovie.cc/index.php/vod/search.html?wd=**&submit=\\n追剧@http://zjdr.vip/vod/search/wd/**.html\\n疯狗@https://m.fenggoudy3.com/index.php?s=vod-search-name&wd=**\\n在线@https://zxzj.vip/vodsearch/-------------.html?wd=**&submit=\\n七七@http://aaasofa.com/search.php\\n北川@https://www.bcwzg.com/vodsearch/-------------/?wd=**\\nEF@https://www.pili5.cn/vodsearch/-------------.html?wd=**&submit=\\n影家@http://yszjvip.com/index.php/vod/search.html?wd=**\\n五五@https://555dy.cc/vodsearch/-------------.html?wd=**\\n渣漫@https://www.dm2022.com/vodsearch.html?wd=**\\n在家@https://zxzj.vip/vodsearch/-------------.html?wd=**&submit=\\npia库@https://m.piaku.cc/s/-------------/?wd=**\\n极品@https://www.jpys.me/vodsearch/-------------.html?wd=**\\n艾迪@https://aidi.tv/vsearch/-------------.html?wd=**&submit=\\n九州@http://www.jiuzhou911.com/search.php?searchword=**\\n十千@http://www.qianshihouse.com/srh/-------------.html?wd=**\\n麦片@http://m.ly368.com/index.php?s=vod-m_s-name&wd=**\\n私人@https://soumk.com/vodsearch/-------------.html?wd=**\\n星辰@http://www.qhddj.com.cn/xcyysearch/**-------------.html\\nCokevY@https://cokemv.me/vodsearch/-------------.html?wd=**\\n爱看y@https://ikan6.vip/vodsearch/-------------/?wd=**&submit=\\n干饭py@https://www.gfysys1.com/vodsearch/-------------.html?wd=**\\n天空y@http://tkznp.com/vodsearch.html?wd=**\\n蓝光@https://www.lgyy.cc/vodsearch/-------------.html?wd=**\\n低端@https://ddys.tv/?s=**&post_type=post\\n努努@https://www.nunuyy3.org/so/**-**--.html`;\\nlet rulesText = getItem(\\\"rules\\\", rulesText0);\\nlet sp = $.require(\\\"hiker://page/sp\\\");\\nrules = rulesText.split(\\\"\\\\n\\\")\\n    .filter(it => it.includes(\\\"@\\\"))\\n    .map(rule => {\\n        let s = rule.split(\\\"@\\\");\\n        return {\\n            name: s[0],\\n            find: function(key, page) {\\n                return sp(s[1], key, s[0]);\\n            },\\n            url: s[1]\\n        };\\n    });\\n\\nfunction load(page, rule) {\\n    let size = page <= 0 ? rules.length : size0;\\n    page = page <= 0 ? 1 : page;\\n    if (!page && !rule) {\\n        return rules.map(it => it.name);\\n    }\\n    if (rule != null) {\\n        if (page != null && page > 1) {\\n            return rules.filter(i => i.name == rule && i.page);\\n        }\\n        return rules.filter(i => i.name == rule);\\n    }\\n    let start = (page - 1) * size;\\n    if (rules.length < start + 1) {\\n        return [];\\n    }\\n    let len = size;\\n    if (rules.length < page * size) {\\n        len = rules.length - start\\n    }\\n    return rules.slice(start, start + len);\\n}\\n\\nfunction addRule(name, surl) {\\n    setItem(\\\"rules\\\", rulesText + \\\"\\\\n\\\" + name + \\\"@\\\" + surl);\\n}\\n\\nfunction removeRule(name) {\\n    let newT = rulesText.split(\\\"\\\\n\\\")\\n        .filter(it => it.indexOf(name + \\\"@\\\") < 0)\\n        .join(\\\"\\\\n\\\");\\n    setItem(\\\"rules\\\", newT);\\n}\\n\\n$.exports = {\\n    load: load,\\n    addRule: addRule,\\n    removeRule: removeRule\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"搜索解析\",\"path\":\"sp\",\"rule\":\"function search(url, key, rule) {\\n    let d = [];\\n    let html = \\\"\\\";\\n    if (url.includes(\\\"**\\\")) {\\n        //get请求\\n        let old = url;\\n        url = url.replace(\\\"**\\\", key);\\n        html = request(url);\\n        //自动过验证码和频繁访问限制\\n        let {\\n            check, test\\n        } = $.require(\\\"hiker://page/yzm\\\");\\n        if (check(url, html, d)) {\\n            log(\\\"重试了\\\");\\n            html = request(url, {\\n                headers: {\\n                    \\\"Referer\\\": url\\n                }\\n            });           \\n        }         \\n        test(url, html, d, old, key, rule);\\n    } else {\\n        //自动识别post请求\\n        html = request(url);\\n        let form = pdfh(html, \\\"body&&form&&Html\\\");\\n        let action = pd(html, \\\"form&&action\\\", url);\\n        let inputs = pdfa(html, \\\"body&&form&&input\\\");\\n        let body = {};\\n        for (let it of inputs) {\\n            let name = pdfh(it, \\\"input&&name\\\");\\n            if (name && name != \\\"\\\") {\\n                let value = pdfh(it, \\\"input&&value\\\");\\n                body[name] = value || key;\\n            }\\n        }\\n        html = post(action, {\\n            body: body\\n        });\\n    }\\n\\n    let alist = pdfa(html, \\\"body&&a\\\");\\n    let arr = alist.map(it => {\\n        let t = pdfh(it, \\\"a&&Text\\\");\\n        let t2 = pdfh(it, \\\"a&&title\\\");\\n        return {\\n            //html: it,\\n            text: t2 && t2.includes(key) ? t2 : t,\\n            href: pd(it, \\\"a&&href\\\", url)\\n        }\\n    });\\n\\n    function isResult(it) {\\n        it = it.text || \\\"\\\";\\n        if (it == \\\"\\\" || it.match(/搜索|结果/)) {\\n            return false\\n        }\\n        return it.includes(key);\\n    }\\n\\n    for (let i = 0; i < arr.length; i++) {\\n        let it = arr[i];\\n        let t = it.text;\\n        if (!it.href || it.href == \\\"\\\") {\\n            continue;\\n        }\\n        if (isResult(it)) {\\n            d.push({\\n                title: t,\\n                url: \\\"hiker://page/p?u=\\\" + base64Encode(it.href),\\n                col_type: \\\"text_1\\\",\\n                desc: \\\"““””<font color=#f13b66a>\\\" + rule + \\\"</font>\\\"\\n            });\\n        }\\n    }\\n    return d;\\n}\\n$.exports = search;\"},{\"col_type\":\"movie_3\",\"name\":\"增删\",\"path\":\"manage\",\"rule\":\"$.exports = function(d, names) {\\n    d.push({\\n        title: \\\" + \\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((rr) => {\\n            deleteItemByCls(\\\"aiadd\\\");\\n            addItemAfter(rr + \\\"aisdel\\\", [{\\n                    title: \\\"\\\",\\n                    desc: \\\"请输入网站名称\\\",\\n                    col_type: \\\"input\\\",\\n                    extra: {\\n                        titleVisible: false,\\n                        onChange: \\\"putMyVar('name', input)\\\",\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                },\\n                {\\n                    title: \\\"\\\",\\n                    desc: \\\"请输入网站搜索地址\\\",\\n                    col_type: \\\"input\\\",\\n                    extra: {\\n                        titleVisible: false,\\n                        onChange: \\\"putMyVar('surl', input)\\\",\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                },\\n                {\\n                    title: \\\"提交保存\\\",\\n                    col_type: \\\"text_center_1\\\",\\n                    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n                        let surl = getMyVar(\\\"surl\\\", \\\"\\\");\\n                        let name = getMyVar(\\\"name\\\", \\\"\\\");\\n                        if (surl == \\\"\\\" || name == \\\"\\\") {\\n                            return \\\"toast://请输入完整内容\\\"\\n                        }\\n                        let r = decodeURIComponent(surl);\\n                        r = r.replace(new RegExp(\\\"[\\\\u4e00-\\\\u9fa5]+\\\", \\\"g\\\"), \\\"**\\\");\\n                        let {\\n                            addRule\\n                        } = $.require(\\\"hiker://page/data\\\");\\n                        addRule(name, r);\\n                        refreshPage();\\n                        return \\\"toast://已保存\\\";\\n                    }),\\n                    extra: {\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                }\\n            ]);\\n            return \\\"hiker://empty\\\"\\n        }, MY_RULE.title),\\n        col_type: \\\"flex_button\\\",\\n    });\\n    d.push({\\n        title: \\\" - \\\",\\n        url: \\\"select://\\\" + JSON.stringify({\\n            options: names,\\n            title: \\\"请选择要删除的站点\\\",\\n            js: $.toString(() => {\\n                let {\\n                    removeRule\\n                } = $.require(\\\"hiker://page/data\\\");\\n                removeRule(input);\\n                refreshPage();\\n                return \\\"toast://OK\\\";\\n            })\\n        }),\\n        col_type: \\\"flex_button\\\",\\n        extra: {\\n            id: MY_RULE.title + \\\"aisdel\\\"\\n        }\\n    });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"验证码\",\"path\":\"yzm\",\"rule\":\"function check(url, html, d) {\\n    let reload = false;\\n    if (/验证码|系统安全验证/.test(html)) {\\n        let headers = {\\n            \\\"User-Agent\\\": MOBILE_UA,\\n            \\\"Referer\\\": url\\n        };\\n        MY_HOME = getHome(url);\\n        let ssyz = 'TloGnnikThrfs/5fDNlk5CSsbaGtAH7W/uMZjuYoIupB6bCoo9CotLQHfPIdGgbkbynKqL2aUE2Xy558X2QxHYtTU09vD+4oaCDIuSZO7nxDbLfRGfWj7zql+yMbvF+aJoD/m6Psfw/PyYOAp/ZVGdrPzaCByfd0HL5DFVSw+YF2OC40V8SP9RxdFKKdrBuPxCWdxUCFrJ+1lRy/TU3LC84C4xxEBhgud7RtBp0zZArqBE06+Z3JtDP0eFCz/D5X0409qPHK3e1y/LuUgccuxpHnjYLE1GjlP8wYA2hQWe7yPngggQBHw33/gvb3tuCcxEKTWgmah/R32AH9ZF8jF7WemT26lUizVXe/spCdhDgHR/zUhODD4PO6glI8JPhdu+VwfPyRLG2D7CUo1L6SIF+0fYf0oTOWN13UPITo5+uZd/WnQQLU8NYx/WFCThEnkbzln9YGt60fRxsH+8uMDFgaBiC+z2SpcxB9gZ6GXypLSXWaj+qEUbGJKEx+jK/v5fnrkIhCdwNbkp9dRks6dmlYlBifzoWF8RkuC3rqPtoScBkMOMZu7GiVtoHEdHUozmnUIdrU1LGIqq9WnG7X2a3yH8s65mjLuLnd3q0U8v+LMPnHL2/GjQuTQKVh+RKEPqK/JdrChGLNrjcHvLHDbHEshrGZuQOdEphbx/PkhkvaYy4K1MO84R17guRsKs/V6niUPaL+XbQ7c3fqJS4VHJwludJTDe02euffGCm0PJIPlAOgLHnX0izJhA6q738R2UwQcWBQjJt79aF+kyqSdyt1QPVQVjaC3IpRf7PgsDhEJ7bi9nSclyIzgJ9DCJ4T+8dG1xHhKyZasT7L/x9Lfr1Mgs8nBZER2W9ax7iTkNK+X5ACU//p/YoP/uAanDtb3D0iKUUuXFH+Jbb0x1P322S2w6BJ46nuNHBMHTpVuWwhZeZzriGh7qoOywLWiExBMKyxTGLnmKh7r03/yXKYWIJnpBN2MMycVHRZJ7RumHV4CIsVrq7iRP48823RJVt9OtyP7uuc3wBBV3kcZUzbbaYdWBx1+Au+Od2u7lR6joOL810mcJm/f7J5TvGQP6HGph1YHHX4C7453a7uVHqOgyjjh5EBd720MEBY23c+TKq/z9UpWDDOg48ZFnwSIhFqitWdiZiqsaYuN0/SXwiK8EG9eQ29u2XDJoDW4mlwtcRO7vaX5XcFsgf4/mLU07mi';\\n        evalPrivateJS(ssyz);\\n\\n        let vcode = getVCode2(MY_HOME + '/index.php/verify/index.html?', JSON.stringify(headers), 'num');\\n        fetch(MY_HOME + html.match(/\\\\/index.php.*?verify=/)[0] + JSON.parse(vcode).ret, {\\n            headers: headers,\\n            method: 'POST'\\n        });\\n        reload = true;\\n    }\\n    return reload;\\n}\\n\\nfunction test(url, html, d, old, key, rule) {\\n    if (/5秒|频繁/.test(html)) {\\n        d.push({\\n            title: '搜索需间隔5秒，点击重新加载',\\n            col_type: \\\"text_1\\\",\\n            desc: \\\"““””<font color=#f13b66a>\\\" + rule + \\\"</font>\\\",\\n            url: $().lazyRule((url, old, key, rule) => {\\n                let sp = $.require(\\\"hiker://page/sp\\\");\\n                let d = sp(old, key, rule);\\n                let {\\n                    wrap\\n                } = $.require(\\\"hiker://page/tool\\\");\\n                for (let it of d) {\\n                    it.title = wrap(it.title, key);\\n                }\\n                addItemAfter(url, d);\\n                deleteItem(url);\\n                return \\\"toast://OK\\\";\\n            }, url, old, key, rule),\\n            extra: {\\n                id: url\\n            }\\n        });\\n    }\\n}\\n\\n$.exports = {\\n    check: check,\\n    test: test\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"tool\",\"rule\":\"function wrap(text, s) {\\n    return text.includes(\\\"““””\\\") ? text : \\\"““””\\\" + text.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\")\\n}\\n$.exports = {\\n    wrap: wrap\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"单搜\",\"path\":\"singles\",\"rule\":\"js:\\nvar d = [];\\nd.push({\\n    title: \\\"搜索\\\",\\n    url: $.toString(() => {\\n        putMyVar(\\\"so\\\", input);\\n        refreshPage();\\n    }),\\n    col_type: \\\"input\\\",\\n    desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n    pic_url: \\\"\\\",\\n    extra: {\\n        defaultValue: getMyVar(\\\"so\\\", \\\"\\\")\\n    }\\n});\\nlet s = getMyVar(\\\"so\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let p = MY_PAGE;\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n    let data = load(p, MY_PARAMS.RULE.name);\\n    let arr = data[0].find(s, p);\\n    for (let it of arr) {\\n        it.title = wrap(it.title, s)\\n        d.push(it);\\n    }\\n}\\nsetResult(d);\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"小草","author":"Timik","version":0,"type":"other","url":"hiker://empty/thread0806.php?fid=fyclass&search=fyarea&page=fypage;get;utf-8","col_type":"text_1","class_name":"讨论&贴图&自拍&文学","class_url":"7&8&16&20","area_name":"全部&今日主题&精华主题","area_url":"&today&digest","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar clUrl = JSON.parse(readFile('urls.json', 0)),\n    data = []\nclUrl.shift()\nvar res = {};\nvar d = [];\nvar url = 'https://' + MY_URL.replace('hiker://empty', clUrl[0]) + '/';\n\nvar h = fetch(url, {});\nvar list = pdfa(h, '#tbody&&tr:gt(0)');\nfor (var i in list) {\n    try {\n        d.push({\n            title: pdfh(list[i], 'h3&&Text').replace(/\\[.*?\\]/, ''),\n            desc: pdfh(list[i], 'div.f12&&Text') + \"   发帖：\" + pdfh(list[i], 'a.bl&&Text'),\n            url: 'https://' + clUrl[0] + '/' + pdfh(list[i], 'a&&href'),\n            col_type: 'text_1'\n        });\n    } catch (e) {}\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar clUrl = JSON.parse(readFile('urls.json', 0)),\n    data = []\nclUrl.shift()\nvar res = {};\nvar d = [];\nvar url = 'https://' + MY_URL.replace('hiker://empty', clUrl[0]) + '/';\n\nvar h = fetch(url, {});\nvar list = pdfa(h, '#tbody&&tr:gt(0)');\nfor (var i in list) {\n    try {\n        d.push({\n            title: pdfh(list[i], 'h3&&Text').replace(/\\[.*?\\]/, ''),\n            desc: pdfh(list[i], 'div.f12&&Text') + \"   发帖：\" + pdfh(list[i], 'a.bl&&Text'),\n            url: 'https://' + clUrl[0] + '/' + pdfh(list[i], 'a&&href'),\n            col_type: 'text_1'\n        });\n    } catch (e) {}\n}\nres.data = d;\nsetHomeResult(res);","search_url":"","group":"①常用","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar items = [];\nvar html = getResCode();\nvar commentArray = [];\n\nfunction getComment(nodeHtml) {\n    let replyContent = '';\n    try {\n        let authorHtml = pdfh(nodeHtml, \".tipad&&Text\").replace(\"TOP\", \"\").replace(\"引用 | 點評\", \"\");\n        let authorName = pdfh(nodeHtml, \"tr.do_not_catch&&b&&Text\");\n        let author = '<br><small>' + authorName + authorHtml + '</small>';\n        let mContent = pdfh(nodeHtml, \"div.tpc_content&&Html\");\n        replyContent = mContent + author;\n    } catch (e) {}\n    return replyContent;\n};\nvar reExg = /&npsp;|&nbsp;|<div(?:(?!<\\/div>).|\\n)*?<\\/div>/gi;\nvar reStr = /ess-data/g;\nvar reStr2 = /iyl-data=\\\"([^\\\"]*?)\\\"/g;\nvar content = pdfh(html, \"div.tpc_content&&Html\").replace(reExg, '').replace(reStr, 'src').replace(reStr2, '');\nlet pageTitle = pdfh(html, \".f16&&Text\");\nlet author = pdfh(html, 'th&&Text');\nitems.push({\n    title: '<strong>' + pageTitle + '</strong><br/>' + '作者：' + author,\n    col_type: 'rich_text'\n});\nitems.push({\n    col_type: 'line'\n});\nitems.push({\n    title: content,\n    col_type: 'rich_text'\n});\n//log(content)\nitems.push({\n    col_type: 'line'\n});\nitems.push({\n    title: '<big><strong>网友评论</strong></big>',\n    col_type: 'rich_text'\n});\nitems.push({\n    col_type: 'line'\n});\ncommentArray = pdfa(html, '#main&&div.t2');\nfor (let i = 0; i < commentArray.length; i++) {\n    if (i > 0) {\n        let item = commentArray[i];\n        let comment = getComment(item);\n        if (comment !== '') {\n            items.push({\n                title: comment,\n                col_type: 'rich_text'\n            });\n            items.push({\n                col_type: 'line'\n            });\n        }\n    }\n}\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"function requestData() {\n    let json = JSON.parse(fetch('https://get.xunfs.com/app/listapp.php', {\n        body: 'a=get18&system=pc',\n        method: 'POST'\n    }));\n    let urls = [json.url1, json.url2, json.url3],\n        success = false;\n    urls.unshift(new Date().toISOString())\n    saveFile('urls.json', JSON.stringify(urls), 0)\n    success = true\n    log('更新网址' + (success ? '成功' : '失败'))\n    return success\n}\nlet urls = readFile('urls.json', false)\nif (urls) {   \n    if (Date.now() - Date.parse(urls[0]) > 24*60*60*1000 )\n        (new java.lang.Thread(function() {\n            if (requestData()) {\n                confirm({\n                    title: '小草 提示',\n                    content: '更新地址成功'\n                })\n                refreshPage(false)\n            } else {\n                urls[0] = new Date().toISOString()\n                saveFile('urls.json', JSON.stringify(urls), 0)\n            }\n        })).start()\n} else if (!requestData()) {\n    confirm({\n        title: '小草 提示',\n        content: '获取数据失败，请刷新重试'\n    })\n}","pages":"[]","proxy":"","icon":"http://td.gszye.com/attachments/202110/26/12/3247-kh9cnw.png"},{"last_chapter_rule":"","title":"AI识片","author":"","version":44,"type":"tool","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nd.push({\n    title: \"终极大招，输入搜索地址生成规则\",\n    url: \"\",\n    col_type: \"text_center_1\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: \"\",\n    url: \"\",\n    col_type: \"input\",\n    desc: \"请输入要生成的规则合集名\",\n    pic_url: \"\",\n    extra: {        \n        titleVisible: false,\n        onChange: $.toString(() => {\n            putMyVar(\"r1\", input);\n        }),\n        defaultValue: getMyVar(\"r1\",\"\")\n    }\n});\nd.push({\n    title: \"\",\n    url: \"\",\n    col_type: \"input\",\n    desc: \"示例：\\n规则1@http://1.com?kw=%E4%BD\\n规则2@http://2.com?kw=%E4%BD\",\n    pic_url: \"\",\n    extra: {\n        type: \"textarea\",\n        height: 3,\n        highlight: true,\n        titleVisible: false,\n        onChange: $.toString(() => {\n            putMyVar(\"rule\", input);\n        }),\n        defaultValue: getMyVar(\"rule\", \"\")\n    }\n});\n\nd.push({\n    title: \"生成规则\",\n    url: $(\"#noLoading#\").lazyRule((rule1) => {\n        let rules = getMyVar(\"rule\", \"\");\n        let r1 = getMyVar(\"r1\", \"\");\n        rules = rules.split(\"\\n\")\n        .filter(it => it.includes(\"@\"))\n        .map(it=>{\n            let a = it.split(\"@\");\n            let r = decodeURIComponent(a[1]);\n            r = r.replace(new RegExp(\"[\\u4e00-\\u9fa5]+\", \"g\"), \"**\");\n            return a[0] + \"@\" + r;\n        })\n        .join(\"\\\\n\");\n        if (rules == \"\") {\n            return \"toast://请先在上面输入网站搜索地址合集\";\n        }\n        rule = JSON.parse(fetch(\"hiker://home@\" + rule1));\n        rule.find_rule = \"js:$.require('hiker://page/pro')\";\n        rule.url = \"hiker://empty##fypage\";\n        return \"海阔视界￥home_rule￥\" + JSON.stringify(rule)\n            .replace(\"{RULES}\", rules)\n            .replace(rule1, r1);\n    }, MY_RULE.title),\n    col_type: \"text_2\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: \"来个示例\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        putMyVar(\"rule\", \"AppMovie@https://www.appmovie.cc/index.php/vod/search.html?wd=%E4%BD%A0%E6%98%AF%E6%88%91%E7%9A%84&submit=\");\n        putMyVar(\"r1\", \"AI测试\");\n        refreshPage();\n        return \"hiker://empty\"\n    }),\n    col_type: \"text_2\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: \"以下为测试区域\",\n    url: \"\",\n    col_type: \"text_center_1\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\n\nd.push({\n    title: \"走你\",\n    url: $.toString(() => {\n        return \"hiker://page/p?u=\" + base64Encode(input)\n    }),\n    col_type: \"input\",\n    desc: \"请输入选集网页地址\",\n    pic_url: \"\"\n});\n\n\nd.push({\n    title: \"\",\n    url: \"\",\n    col_type: \"input\",\n    desc: \"请输入网站搜索地址，要带搜索词\",\n    pic_url: \"\",\n    extra: {\n        titleVisible: false,\n        onChange: $.toString(() => {\n            putMyVar(\"r\", input);\n        }),\n        defaultValue: getMyVar(\"r\", \"\")\n    }\n});\n\n\nd.push({\n    title: \"搜索测试\",\n    url: $.toString(() => {\n        let r = getMyVar(\"r\", \"\");\n        if (r == \"\") {\n            return \"toast://请先在上面输入网站搜索地址\";\n        }\n        putMyVar(\"s\", input);\n        r = decodeURIComponent(r);\n        let surl = r.replace(new RegExp(\"[\\u4e00-\\u9fa5]+\", \"g\"), \"**\");\n        return \"hiker://page/s?key=\" + input + \"&u=\" + base64Encode(surl);\n    }),\n    col_type: \"input\",\n    desc: \"请输入关键词测试\",\n    pic_url: \"\",\n    extra: {\n        defaultValue: getMyVar(\"s\", \"\")\n    }\n});\n\nd.push({\n    title: \"来个示例\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        putMyVar(\"r\", \"https://www.appmovie.cc/index.php/vod/search.html?wd=%E4%BD%A0%E6%98%AF%E6%88%91%E7%9A%84&submit=\");\n        putMyVar(\"s\", \"龙之家族\");\n        refreshPage();\n        return \"hiker://empty\"\n    }),\n    col_type: \"text_center_1\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\n\n\nsetResult(d);","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"二级解析\",\"path\":\"p\",\"rule\":\"js:\\nvar d = [];\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlet html = request(url);\\nlet alist = pdfa(html, \\\"body&&a\\\");\\nlet arr = alist.map(it => {\\n    return {\\n        //html: it,\\n        text: pdfh(it, \\\"a&&Text\\\"),\\n        title: pdfh(it, \\\"a&&title\\\"),\\n        href: pd(it, \\\"a&&href\\\", url)\\n    }\\n});\\n//log(arr);\\nlet debug = false;\\n\\nfunction clearText(it) {\\n    return it.replace(/第|集|章/g, \\\"\\\");\\n}\\n\\nfunction isMovie(it) {\\n    if (it == null || it.text == null) {\\n        return false;\\n    }\\n    let tit = it.title || \\\"\\\";\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\" || it.length > 8) {\\n        return false;\\n    }\\n    //排除\\n    let reg = /\\\\.|高清直播|写真推荐/;\\n    if (tit != \\\"\\\" && !tit.includes(it) || reg.test(it)) {\\n        return false;\\n    }\\n    return it.match(/原画|备用|蓝光|超清|高清|正片|韩版|4K|4k|1080P|720P|TC|HD|BD/)\\n}\\n\\nfunction notChapter(it) {\\n    if (it == null || it.text == null) {\\n        return true;\\n    }\\n    return it.text.match(/[0-9]\\\\.[0-9]分/);\\n}\\n\\nfunction isChapter(it, pre, next) {\\n    if (notChapter(it)) {\\n        //优先排除\\n        return false;\\n    }\\n    //判断是不是电影\\n    if (isMovie(it)) {\\n        return true;\\n    }\\n    return isChapter0(it, pre) || isChapter0(it, next);\\n}\\n\\nfunction getChapterNum(it) {\\n    if (it == null || it.text == null) {\\n        return -1;\\n    }\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\") {\\n        return -1;\\n    }\\n    it = clearText(it);\\n    let reg = /^[0-9]*$/;\\n    if (!reg.test(it)) {\\n        return -1;\\n    }\\n    it = parseInt(it);\\n    if (isNaN(it)) {\\n        return -1;\\n    }\\n    return it;\\n}\\n\\nfunction isChapter0(it, brother) {\\n    /*if (debug) {\\n        log({\\n            it: it,\\n            brother: brother\\n        });\\n    }*/\\n    it = getChapterNum(it);\\n    //if (debug) log(it);\\n    if (it < 0) {\\n        return false;\\n    }\\n    brother = getChapterNum(brother);\\n    //if (debug) log(brother);\\n    if (brother < 0) {\\n        return false;\\n    }\\n    return it - brother < 2 && it - brother > -2;\\n}\\n\\nlet _web = $.toString(() => {\\n    let urls = _getUrls();\\n    let reg = /\\\\.html|\\\\.css|\\\\.js/;\\n    for (let k in urls) {\\n        if (!reg.test(urls[k]) && urls[k].match(/\\\\.mp4|\\\\.m3u8/)) {\\n            fy_bridge_app.log(urls[k]);\\n            return fy_bridge_app.getHeaderUrl(urls[k].replace(/.*?url=/, \\\"\\\")) + \\\"#ignoreImg=true#\\\";\\n        }\\n    }\\n});\\n\\nlet web = getItem('web', '0') == \\\"1\\\";\\n\\nfor (let i = 0; i < arr.length; i++) {\\n    let it = arr[i];\\n    let t = it.text;\\n    if (!it.href || it.href == \\\"\\\") {\\n        continue;\\n    }\\n    let pre = i == 0 ? null : arr[i - 1];\\n    let next = i == (arr.length - 1) ? null : arr[i + 1];\\n    if (isChapter(it, pre, next)) {\\n        if (web) {\\n            var urlx = \\\"webRule://\\\" + it.href + \\\"@\\\" + _web;\\n            var extrax = {\\n                jsLoadingInject: true,\\n                id: it.href,\\n                blockRules: ['.m4a', '.mp3', '.flv', '.avi', '.3gp', '.mpeg', '.wmv', '.mov', '.rmvb', '.gif', '.jpeg', '.png', '.ico', '.svg']\\n            };\\n        } else {\\n            var urlx = \\\"video://\\\" + it.href;\\n            var extrax = {\\n                id: it.href\\n            };\\n        }\\n        d.push({\\n            title: t,\\n            url: urlx,\\n            col_type: \\\"text_3\\\",\\n            extra: extrax\\n        });\\n    }\\n}\\nif (d.length == 0) {\\n    //匹配失败\\n    d.push({\\n        title: \\\"\\\",\\n        url: url,\\n        col_type: \\\"x5_webview_single\\\",\\n        desc: \\\"float&&100%\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            canBack: true\\n        }\\n    });\\n    toast(\\\"AI匹配失败，已使用X5加载\\\");\\n    setResult(d);\\n} else {\\n    //为线路加分割线\\n    let d2 = [];\\n    for (let i = 0; i < d.length; i++) {\\n        d2.push(d[i]);\\n        if (i < d.length - 1) {\\n            let it = d[i];\\n            let t1 = parseInt(clearText(it.title));\\n            let next = d[i + 1];\\n            let t2 = parseInt(clearText(next.title));\\n            if (t2 - t1 > 1 || t1 - t2 > 1) {\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"line_blank\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n            }\\n        }\\n    }\\n\\n    setResult(d2);\\n}\"},{\"col_type\":\"text_1\",\"name\":\"搜索测试\",\"path\":\"s\",\"rule\":\"js:\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlog(url);\\nlet key = getParam(\\\"key\\\");\\nlet sp = $.require(\\\"hiker://page/sp\\\");\\nsetResult(sp(url, key, \\\"搜索测试\\\"));\"},{\"col_type\":\"movie_3\",\"name\":\"聚合搜索\",\"path\":\"pro\",\"rule\":\"var d = [];\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(() => {\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: \\\"input\\\",\\n        desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"sou\\\", \\\"\\\"),\\n            onChange: $.toString(() => {\\n                putMyVar(\\\"sou\\\", input);\\n            })\\n        }\\n    });\\n    addListener(\\\"onClose\\\", $.toString(() => {\\n        clearMyVar(\\\"sou\\\");\\n        clearMyVar(\\\"so\\\");\\n    }));\\n}\\n\\nlet s = getMyVar(\\\"sou\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let p = MY_PAGE;\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n    let data = load(p, r != \\\"\\\" ? r : null);\\n\\n    let pageid = MY_RULE.title + \\\"-page\\\" + p;\\n    if (data.length > 0) {\\n        d.push({\\n            title: \\\"加载第\\\" + p + \\\"页中，进度：1/\\\" + data.length,\\n            url: \\\"\\\",\\n            col_type: \\\"text_center_1\\\",\\n            desc: \\\"\\\",\\n            pic_url: \\\"\\\",\\n            extra: {\\n                id: pageid\\n            }\\n        });\\n    }\\n    setResult(d);\\n    log(data.length);\\n    if (data.length > 0) {\\n        //多线程加载        \\n        let realPage = \\\"\\\" == r ? 1 : p;\\n        let tasks = data.map(it => {\\n            return {\\n                func: function(rule) {\\n                    return rule.find(s, realPage);\\n                },\\n                param: it,\\n                id: \\\"rule@\\\" + it.name\\n            }\\n        });\\n\\n        batchExecute(tasks, {\\n            func: function(param, id, error, result) {\\n                //log(\\\"listener: \\\" + (result || []).length)\\n                param.i = param.i + 1;\\n                if (result) {\\n                    try {\\n                        for (let it of result) {\\n                            param.j = param.j + 1;\\n                            addItemBefore(pageid, {\\n                                title: wrap(it.title, s),\\n                                desc: it.desc,\\n                                url: it.url,\\n                                pic_url: it.pic_url,\\n                                col_type: it.pic_url ? 'movie_1_vertical_pic' : \\\"text_1\\\",\\n                                extra: it.extra\\n                            })\\n                        }\\n                    } catch (e) {}\\n\\n                }\\n                if (param.i >= param.all) {\\n                    deleteItem(pageid)\\n                } else {\\n                    updateItem({\\n                        title: \\\"加载第\\\" + MY_PAGE + \\\"页中，进度：\\\" + (param.i + 1) + \\\"/\\\" + param.all,\\n                        url: \\\"\\\",\\n                        col_type: \\\"text_center_1\\\",\\n                        desc: \\\"\\\",\\n                        pic_url: \\\"\\\",\\n                        extra: {\\n                            id: pageid\\n                        }\\n                    })\\n                }\\n            },\\n            param: {\\n                all: data.length,\\n                i: 0,\\n                j: -1\\n            }\\n        })\\n    }\\n} else {\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let data = load(-1, null);\\n    if (data.length > 0) {       \\n        $.require(\\\"hiker://page/manage\\\")(d, data.map(it => it.name));\\n        for (let it of data) {\\n            d.push({\\n                title: it.name,\\n                url: \\\"select://\\\" + JSON.stringify({\\n                    title: \\\"请选择操作\\\",\\n                    col: 1,\\n                    options: [\\\"访问首页\\\", \\\"搜索此站\\\"],\\n                    js: $.toString((url) => {\\n                        if (input == \\\"访问首页\\\") {\\n                            MY_URL = url;\\n                            return \\\"x5://\\\" + getHome(url)\\n                        } else {\\n                            return \\\"hiker://page/singles\\\"\\n                        }\\n                    }, it.url)\\n                }),\\n                col_type: \\\"flex_button\\\",\\n                desc: \\\"\\\",\\n                pic_url: \\\"\\\",\\n                extra: {\\n                    RULE: {\\n                        name: it.name,\\n                        url: it.url\\n                    }\\n                }\\n            });\\n        }       \\n    }\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"数据\",\"path\":\"data\",\"rule\":\"//并发规则数\\nlet size0 = 10;\\nlet rulesText0 = `{RULES}`;\\nlet rulesText = getItem(\\\"rules\\\", rulesText0);\\nlet sp = $.require(\\\"hiker://page/sp\\\");\\nrules = rulesText.split(\\\"\\\\n\\\")\\n    .filter(it => it.includes(\\\"@\\\"))\\n    .map(rule => {\\n        let s = rule.split(\\\"@\\\");\\n        return {\\n            name: s[0],\\n            find: function(key, page) {\\n                return sp(s[1], key, s[0]);\\n            },\\n            url: s[1]\\n        };\\n    });\\n\\nfunction load(page, rule) {\\n    let size = page <= 0 ? rules.length : size0;\\n    page = page <= 0 ? 1 : page;\\n    if (!page && !rule) {\\n        return rules.map(it => it.name);\\n    }\\n    if (rule != null) {\\n        if (page != null && page > 1) {\\n            return rules.filter(i => i.name == rule && i.page);\\n        }\\n        return rules.filter(i => i.name == rule);\\n    }\\n    let start = (page - 1) * size;\\n    if (rules.length < start + 1) {\\n        return [];\\n    }\\n    let len = size;\\n    if (rules.length < page * size) {\\n        len = rules.length - start\\n    }\\n    return rules.slice(start, start + len);\\n}\\n\\nfunction addRule(name, surl) {\\n    setItem(\\\"rules\\\", rulesText + \\\"\\\\n\\\" + name + \\\"@\\\" + surl);\\n}\\n\\nfunction removeRule(name) {\\n    let newT = rulesText.split(\\\"\\\\n\\\")\\n        .filter(it => it.indexOf(name + \\\"@\\\") < 0)\\n        .join(\\\"\\\\n\\\");\\n    setItem(\\\"rules\\\", newT);\\n}\\n\\n$.exports = {\\n    load: load,\\n    addRule: addRule,\\n    removeRule: removeRule\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"搜索解析\",\"path\":\"sp\",\"rule\":\"function search(url, key, rule) {\\n    let d = [];\\n    let html = \\\"\\\";\\n    if (url.includes(\\\"**\\\")) {\\n        //get请求\\n        let old = url;\\n        url = url.replace(\\\"**\\\", key);\\n        html = request(url);\\n        //自动过验证码和频繁访问限制\\n        let {\\n            check, test\\n        } = $.require(\\\"hiker://page/yzm\\\");\\n        if (check(url, html, d)) {\\n            log(\\\"重试了\\\");\\n            html = request(url, {\\n                headers: {\\n                    \\\"Referer\\\": url\\n                }\\n            });           \\n        }         \\n        test(url, html, d, old, key, rule);\\n    } else {\\n        //自动识别post请求\\n        html = request(url);\\n        let form = pdfh(html, \\\"body&&form&&Html\\\");\\n        let action = pd(html, \\\"form&&action\\\", url);\\n        let inputs = pdfa(html, \\\"body&&form&&input\\\");\\n        let body = {};\\n        for (let it of inputs) {\\n            let name = pdfh(it, \\\"input&&name\\\");\\n            if (name && name != \\\"\\\") {\\n                let value = pdfh(it, \\\"input&&value\\\");\\n                body[name] = value || key;\\n            }\\n        }\\n        html = post(action, {\\n            body: body\\n        });\\n    }\\n\\n    let alist = pdfa(html, \\\"body&&a\\\");\\n    let arr = alist.map(it => {\\n        let t = pdfh(it, \\\"a&&Text\\\");\\n        let t2 = pdfh(it, \\\"a&&title\\\");\\n        return {\\n            //html: it,\\n            text: t2 && t2.includes(key) ? t2 : t,\\n            href: pd(it, \\\"a&&href\\\", url)\\n        }\\n    });\\n\\n    function isResult(it) {\\n        it = it.text || \\\"\\\";\\n        if (it == \\\"\\\" || it.match(/搜索|结果/)) {\\n            return false\\n        }\\n        return it.includes(key);\\n    }\\n\\n    for (let i = 0; i < arr.length; i++) {\\n        let it = arr[i];\\n        let t = it.text;\\n        if (!it.href || it.href == \\\"\\\") {\\n            continue;\\n        }\\n        if (isResult(it)) {\\n            d.push({\\n                title: t,\\n                url: \\\"hiker://page/p?u=\\\" + base64Encode(it.href),\\n                col_type: \\\"text_1\\\",\\n                desc: \\\"““””<font color=#f13b66a>\\\" + rule + \\\"</font>\\\"\\n            });\\n        }\\n    }\\n    return d;\\n}\\n$.exports = search;\"},{\"col_type\":\"movie_3\",\"name\":\"增删\",\"path\":\"manage\",\"rule\":\"$.exports = function(d, names) {\\n    d.push({\\n        title: \\\"AI技术\\\",\\n        url: \\\"confirm://基于AI识片自动分析源码技术，代码完全开源，数据来源于原网站，软件和规则不提供任何内容.js:''\\\",\\n        col_type: \\\"flex_button\\\"\\n    }, {\\n        title: getItem('web', '0') == \\\"0\\\" ? \\\"视频嗅探\\\" : \\\"Web通免\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            if (getItem('web', '0') == \\\"0\\\") {\\n                setItem('web', '1')\\n            } else {\\n                setItem('web', '0')\\n            }\\n            refreshPage();\\n            return 'hiker://empty'\\n        }),\\n        col_type: \\\"flex_button\\\"\\n    });\\n    d.push({\\n        title: \\\" + \\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((rr) => {\\n            deleteItemByCls(\\\"aiadd\\\");\\n            addItemAfter(rr + \\\"aisdel\\\", [{\\n                    title: \\\"\\\",\\n                    desc: \\\"请输入网站名称\\\",\\n                    col_type: \\\"input\\\",\\n                    extra: {\\n                        titleVisible: false,\\n                        onChange: \\\"putMyVar('name', input)\\\",\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                },\\n                {\\n                    title: \\\"\\\",\\n                    desc: \\\"请输入网站搜索地址\\\",\\n                    col_type: \\\"input\\\",\\n                    extra: {\\n                        titleVisible: false,\\n                        onChange: \\\"putMyVar('surl', input)\\\",\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                },\\n                {\\n                    title: \\\"提交保存\\\",\\n                    col_type: \\\"text_center_1\\\",\\n                    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n                        let surl = getMyVar(\\\"surl\\\", \\\"\\\");\\n                        let name = getMyVar(\\\"name\\\", \\\"\\\");\\n                        if (surl == \\\"\\\" || name == \\\"\\\") {\\n                            return \\\"toast://请输入完整内容\\\"\\n                        }\\n                        let r = decodeURIComponent(surl);\\n                        r = r.replace(new RegExp(\\\"[\\\\u4e00-\\\\u9fa5]+\\\", \\\"g\\\"), \\\"**\\\");\\n                        let {\\n                            addRule\\n                        } = $.require(\\\"hiker://page/data\\\");\\n                        addRule(name, r);\\n                        refreshPage();\\n                        return \\\"toast://已保存\\\";\\n                    }),\\n                    extra: {\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                }\\n            ]);\\n            return \\\"hiker://empty\\\"\\n        }, MY_RULE.title),\\n        col_type: \\\"flex_button\\\",\\n    });\\n    d.push({\\n        title: \\\" - \\\",\\n        url: \\\"select://\\\" + JSON.stringify({\\n            options: names,\\n            title: \\\"请选择要删除的站点\\\",\\n            js: $.toString(() => {\\n                let {\\n                    removeRule\\n                } = $.require(\\\"hiker://page/data\\\");\\n                removeRule(input);\\n                refreshPage();\\n                return \\\"toast://OK\\\";\\n            })\\n        }),\\n        col_type: \\\"flex_button\\\",\\n        extra: {\\n            id: MY_RULE.title + \\\"aisdel\\\"\\n        }\\n    });\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"验证码\",\"path\":\"yzm\",\"rule\":\"function check(url, html, d) {\\n    let reload = false;\\n    if (/验证码|系统安全验证/.test(html)) {\\n        let headers = {\\n            \\\"User-Agent\\\": MOBILE_UA,\\n            \\\"Referer\\\": url\\n        };\\n        MY_HOME = getHome(url);\\n        let ssyz = 'TloGnnikThrfs/5fDNlk5CSsbaGtAH7W/uMZjuYoIupB6bCoo9CotLQHfPIdGgbkbynKqL2aUE2Xy558X2QxHYtTU09vD+4oaCDIuSZO7nxDbLfRGfWj7zql+yMbvF+aJoD/m6Psfw/PyYOAp/ZVGdrPzaCByfd0HL5DFVSw+YF2OC40V8SP9RxdFKKdrBuPxCWdxUCFrJ+1lRy/TU3LC84C4xxEBhgud7RtBp0zZArqBE06+Z3JtDP0eFCz/D5X0409qPHK3e1y/LuUgccuxpHnjYLE1GjlP8wYA2hQWe7yPngggQBHw33/gvb3tuCcxEKTWgmah/R32AH9ZF8jF7WemT26lUizVXe/spCdhDgHR/zUhODD4PO6glI8JPhdu+VwfPyRLG2D7CUo1L6SIF+0fYf0oTOWN13UPITo5+uZd/WnQQLU8NYx/WFCThEnkbzln9YGt60fRxsH+8uMDFgaBiC+z2SpcxB9gZ6GXypLSXWaj+qEUbGJKEx+jK/v5fnrkIhCdwNbkp9dRks6dmlYlBifzoWF8RkuC3rqPtoScBkMOMZu7GiVtoHEdHUozmnUIdrU1LGIqq9WnG7X2a3yH8s65mjLuLnd3q0U8v+LMPnHL2/GjQuTQKVh+RKEPqK/JdrChGLNrjcHvLHDbHEshrGZuQOdEphbx/PkhkvaYy4K1MO84R17guRsKs/V6niUPaL+XbQ7c3fqJS4VHJwludJTDe02euffGCm0PJIPlAOgLHnX0izJhA6q738R2UwQcWBQjJt79aF+kyqSdyt1QPVQVjaC3IpRf7PgsDhEJ7bi9nSclyIzgJ9DCJ4T+8dG1xHhKyZasT7L/x9Lfr1Mgs8nBZER2W9ax7iTkNK+X5ACU//p/YoP/uAanDtb3D0iKUUuXFH+Jbb0x1P322S2w6BJ46nuNHBMHTpVuWwhZeZzriGh7qoOywLWiExBMKyxTGLnmKh7r03/yXKYWIJnpBN2MMycVHRZJ7RumHV4CIsVrq7iRP48823RJVt9OtyP7uuc3wBBV3kcZUzbbaYdWBx1+Au+Od2u7lR6joOL810mcJm/f7J5TvGQP6HGph1YHHX4C7453a7uVHqOgyjjh5EBd720MEBY23c+TKq/z9UpWDDOg48ZFnwSIhFqitWdiZiqsaYuN0/SXwiK8EG9eQ29u2XDJoDW4mlwtcRO7vaX5XcFsgf4/mLU07mi';\\n        evalPrivateJS(ssyz);\\n\\n        let vcode = getVCode2(MY_HOME + '/index.php/verify/index.html?', JSON.stringify(headers), 'num');\\n        fetch(MY_HOME + html.match(/\\\\/index.php.*?verify=/)[0] + JSON.parse(vcode).ret, {\\n            headers: headers,\\n            method: 'POST'\\n        });\\n        reload = true;\\n    }\\n    return reload;\\n}\\n\\nfunction test(url, html, d, old, key, rule) {\\n    if (/5秒|频繁/.test(html)) {\\n        d.push({\\n            title: '搜索需间隔5秒，点击重新加载',\\n            col_type: \\\"text_1\\\",\\n            desc: \\\"““””<font color=#f13b66a>\\\" + rule + \\\"</font>\\\",\\n            url: $().lazyRule((url, old, key, rule) => {\\n                let sp = $.require(\\\"hiker://page/sp\\\");\\n                let d = sp(old, key, rule);\\n                let {\\n                    wrap\\n                } = $.require(\\\"hiker://page/tool\\\");\\n                for (let it of d) {\\n                    it.title = wrap(it.title, key);\\n                }\\n                addItemAfter(url, d);\\n                deleteItem(url);\\n                return \\\"toast://OK\\\";\\n            }, url, old, key, rule),\\n            extra: {\\n                id: url\\n            }\\n        });\\n    }\\n}\\n\\n$.exports = {\\n    check: check,\\n    test: test\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"tool\",\"rule\":\"function wrap(text, s) {\\n    return text.includes(\\\"““””\\\") ? text : \\\"““””\\\" + text.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\")\\n}\\n$.exports = {\\n    wrap: wrap\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"单搜\",\"path\":\"singles\",\"rule\":\"js:\\nvar d = [];\\nd.push({\\n    title: \\\"搜索\\\",\\n    url: $.toString(() => {\\n        putMyVar(\\\"so\\\", input);\\n        refreshPage();\\n    }),\\n    col_type: \\\"input\\\",\\n    desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n    pic_url: \\\"\\\",\\n    extra: {\\n        defaultValue: getMyVar(\\\"so\\\", \\\"\\\")\\n    }\\n});\\nlet s = getMyVar(\\\"so\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let p = MY_PAGE;\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n    let data = load(p, MY_PARAMS.RULE.name);\\n    let arr = data[0].find(s, p);\\n    for (let it of arr) {\\n        it.title = wrap(it.title, s)\\n        d.push(it);\\n    }\\n}\\nsetResult(d);\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"吾爱破解𝔥","author":"Hood","version":4,"type":"other","url":"https://www.52pojie.cn/forum.php?mod=guide&view=fyclass&page=fypage;get;GBK","col_type":"text_1","class_name":"最新热门&最新精华&最新回复&最新发表","class_url":"hot&digest&new&newthread","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'body&&tbody[id]');\n\nfor(var i=1;i<list.length+1;i++){\nd.push({\ntitle: (i)+ '. ' +parseDomForHtml(list[i-1],'.xst&&Text'),\nurl:'x5://https://www.52pojie.cn/'+parseDomForHtml(list[i-1],'a&&href'),\ncol_type: 'text_1'});\n}\n\r\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://www.52pojie.cn/favicon.ico"},{"last_chapter_rule":"","title":"热榜","author":"小棉袄🌞","version":1,"type":"other","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet url = \"https://rebang.today/\";\nd.push({\n    col_type: \"x5_webview_single\",\n    url: url,\n    desc: \"float&&100%\",\n    title: \"\",\n    extra: {\n        canBack: true,\n        urlInterceptor: $.toString((my) => {\n            if (input.startsWith(my)) {\n                return false;\n            }\n            return $.toString((url) => {\n                fy_bridge_app.open(JSON.stringify({\n                    title: \"详情\",\n                    url: \"hiker://empty\",\n                    findRule: \"js:\" + $$$.toString((u) => {\n                        let js = $.toString(() => {\n                            try {\n                                if (document.title && document.title.length) {\n                                    let r = $$$().lazyRule((t) => {\n                                        setPageTitle(t);\n                                    }, document.title);\n                                    fy_bridge_app.parseLazyRule(r);\n                                }\n                            } catch (e) {\n                                fy_bridge_app.log(e.toString());\n                            }\n                        });\n                        setResult([{\n                            url: u,\n                            col_type: \"x5_webview_single\",\n                            extra: {\n                                canBack: true,\n                                js: js\n                            },\n                            desc: \"100%&&float\"\n                        }]);\n                    }, url)\n                }))\n            }, input)\n        }, url)\n    }\n});\n\nsetResult(d);","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"js:\nfunction getDoubanRes(url) {\n    if (url.indexOf('apikey') === -1) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + \"apikey=0dad551ec0f84ed02907ff5c42e8ec70\"\n    }\n    let s = fetch(url, {\n        headers: {\n            \"User-Agent\": \"Rexxar-Core/0.1.3 api-client/1 com.douban.frodo/7.9.0.beta2(215) Android/25 product/TAS-AL00 vendor/HUAWEI model/TAS-AL00  rom/android  network/wifi  platform/mobile com.douban.frodo/7.9.0.beta2(215) Rexxar/1.2.151  platform/mobile 1.2.151\"\n        },\n        method: 'POST',\n        body: 'host=frodo.douban.com'\n    });\n    return JSON.parse(s);\n}\nlet type = getParam('type', ''),\n    id = getParam('id', ''),\n    title = getParam('title', '');\nlet res = getDoubanRes(\"https://frodo.douban.com/api/v2/\" + type + \"/\" + id);\nlet update = \"\";\nif (title == '') {\n    let length = res.vendors.length;\n    update += length > 0 ? '共' + length + '个片源' : '暂无片源';\n    if (length > 0) {\n        let e = res.vendors[0];\n        update += e.episodes_info ? \"|\" + e.episodes_info : \"\";\n    }\n} else {\n    for (let e of res.vendors) {\n        if (e.title == title) {\n            update += e.episodes_info ? e.episodes_info : \"\";\n            break;\n        }\n    }\n}\nsetResult(update);","title":"青豆","author":"Joker&&Reborn","version":12,"type":"video","url":"hiker://empty/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet forceUrgencyMode = 0\nif (forceUrgencyMode) {\n    let e = '当前为强制急救模式'\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n} else {\n    try {\n        eval(fetch(getVar(\"qdb_file\")));\n        home();\n    } catch (e) {\n        let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n        eval(rule)\n    }\n}","searchFind":"js:\ntry {\n    eval(fetch(getVar(\"qdb_file\")));\n    search();\n} catch (e) {\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n}","search_url":"hiker://empty/$page{fypage}/#/**","titleColor":"","group":"①推荐","detail_col_type":"movie_1_vertical_pic","detail_find_rule":"js:\ntry {\n    eval(fetch(getVar(\"qdb_file\")));\n    erji();\n} catch (e) {\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n}","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"let file = \"hiker://files/rules/joker/qdb.js\";\nlet gitfile = 'https://gitcode.net/qq_41846756/hiker/-/raw/master/qdb.js';\nlet ver = getItem('newver','');\nif (!fetch(file) || ver < MY_RULE.version) {\n    writeFile(file, request(gitfile));\n    setItem('newver',String(MY_RULE.version));\n}\nputVar({\n    key: \"qdb_file\",\n    value: file\n});\ntry {\n    eval(fetch(file));\n    pre();\n} catch (e) {\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n}","pages":"[{\"col_type\":\"movie_3\",\"name\":\"配置编辑界面\",\"path\":\"setting-editor\",\"rule\":\"js:\\neval(request(getVar('qdb_file')))\\nlet d = [];\\nlet configType = getVar(\\\"input_config_type\\\")\\nif (configType === '解析插件配置') {\\n    setPageTitle(\\\"编辑解析代码\\\")\\n    analysisModeEditPage(d)\\n} else if (configType === '影片详情页面配置') {\\n    setPageTitle(\\\"编辑影片详情页面代码\\\")\\n    detailViewModeEditPage(d)\\n} else {\\n    setError('错误的配置');\\n}\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"解除被封ip\",\"path\":\"releaseIP\",\"rule\":\"js:\\nlet id = getParam('id');\\nlet d = [];\\nd.push({\\n    title: '您已被封禁IP地址或触发了人机验证，请按照以下步骤处理(如不处理您将在一段时间内无法正常获取剧集列表)',\\n    url: 'hiker://empty',\\n    col_type: 'text_1'\\n});\\nd.push({\\n    title: '1.点击此处导入自动获取Cookie插件',\\n    url: $()\\n        .lazyRule(() => {\\n            let getDoubanCookie = \\\"(function(){if(window['location']['host']=='www.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://www.douban.com/'));}if(window['location']['host']=='m.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://m.douban.com/'));}}());\\\"\\n            if (!fileExist('hiker://files/cache/global_getDoubanCookie.js')) {\\n                writeFile('hiker://files/cache/global_getDoubanCookie.js', getDoubanCookie);\\n            };\\n            return 'rule://' + base64Encode('海阔视界，网页插件￥js_url￥global_getDoubanCookie@hiker://files/cache/global_getDoubanCookie.js');\\n        }),\\n    col_type: 'text_1'\\n});\\nd.push({\\n    title: '2.点击此处进入网页进行登录或人机验证，完成后返回此页面',\\n    url: 'https://movie.douban.com/subject/' + id + '/',\\n    col_type: 'text_1'\\n});\\nd.push({\\n    title: '3.完成登录或人机验证后返回影片详情页面重新进入',\\n    url: 'hiker://empty',\\n    col_type: 'text_1'\\n});\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"抢救页面\",\"path\":\"urgencyMode\",\"rule\":\"js:\\nlet d = [];\\nd.push({\\n    title: '很明显,出了一些小问题,建议重生',\\n    col_type: 'text_center_1',\\n    url: 'hiker://empty'\\n})\\nd.push({\\n    title: '点我更新依赖',\\n    col_type: 'text_1',\\n    url: $('hiker://empty').lazyRule(() => {\\n        let file = \\\"hiker://files/rules/joker/qdb.js\\\";\\n        let gitfile = 'https://gitcode.net/qq_41846756/hiker/-/raw/master/qdb.js';\\n        let text = request(gitfile);\\n        writeFile(file, text);\\n        refreshPage();\\n        return 'toast://依赖文件更新成功'\\n    })\\n})\\nd.push({\\n    title: '点我恢复默认设置',\\n    col_type: 'text_1',\\n    url: $(\\\"确定要恢复？\\\").confirm(() => {\\n        defaultConfigs = {\\n            starColor: \\\"#ffac2d\\\",\\n            chooseColor: \\\"#FA7298\\\",\\n            quickSearchConfigs: {\\n                order: []\\n            },\\n            detailsViewConfigs: {\\n                use: \\\"默认\\\",\\n                \\\"默认\\\": {\\n                    config: \\\"eval(fetch(getVar('qdb_file')));detailsView(type, id);\\\"\\n                }\\n            },\\n            analysisConfigs: {\\n                use: \\\"不解析\\\",\\n                \\\"不解析\\\": {\\n                    config: $.toString(() => {\\n                        return input;\\n                    }),\\n                    setting: $.toString(() => {\\n                        return \\\"toast://该插件无设置页面\\\";\\n                    })\\n                },\\n                \\\"断插\\\": {\\n                    config: $.toString(() => {\\n                        let file = \\\"hiker://files/rules/DuanNian/MyParse.json\\\";\\n                        let oldfile = \\\"hiker://files/cache/MyParseSet.json\\\";\\n                        if (fileExist(file)) {\\n                            eval('json=' + fetch(file));\\n                            let jsUrl = json.settings.cj;\\n                            eval(fetch(jsUrl));\\n                            return aytmParse(input);\\n                        } else if (fileExist(oldfile)) {\\n                            let jsUrl = JSON.parse(fetch(oldfile)).cj;\\n                            eval(fetch(jsUrl));\\n                            return aytmParse(input);\\n                        } else {\\n                            return 'toast://没找到断插配置文件';\\n                        }\\n                    }),\\n                    setting: $.toString(() => {\\n                        let file = \\\"hiker://files/rules/DuanNian/MyParse.json\\\";\\n                        let oldfile = \\\"hiker://files/cache/MyParseSet.json\\\";\\n                        if (fileExist(file)) {\\n                            eval('json=' + fetch(file));\\n                            let jsUrl = json.settings.cj;\\n                            eval(fetch(jsUrl));\\n                            return setUrl;\\n                        } else if (fileExist(oldfile)) {\\n                            let jsUrl = JSON.parse(fetch(oldfile)).cj;\\n                            eval(fetch(jsUrl));\\n                            return setUrl;\\n                        } else {\\n                            return \\\"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置\\\";\\n                        }\\n                    })\\n                }\\n            }\\n        }\\n        writeFile(getVar('qdb_config'), JSON.stringify(defaultConfigs));\\n        refreshPage();\\n        return \\\"toast://已恢复默认设置\\\";\\n    })\\n})\\nd.push({\\n    title: '若重生不起作用,点我复制错误信息提交给开发者',\\n    col_type: 'text_1',\\n    url: 'copy://' + e.message\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"顺佬专用详情页\",\"path\":\"Sdetail\",\"rule\":\"js:\\nputVar('qdb_file', 'hiker://files/rules/joker/qdb.js');\\neval(fetch(getVar(\\\"qdb_file\\\")));\\npre();\\nlet type = getParam('type', ''),\\n    id = getParam('id', '');\\ndetailsView(type, id);\"}]","proxy":"","icon":"https://gitcode.net/qq_41846756/hiker/-/raw/master/img/青豆.png"},{"last_chapter_rule":"","title":"本地资源管理","author":"@LoyDgIk","version":71,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n\nif (!getItem(\":startUse\", false)) {\n    toast(\":-)初次见面，请多关照\");\n    confirm({\n        title: \"使用须知\",\n        content: \"1.普通用户：本程序只提供本地阅读服务，不提供网络内容。\\n\\n2.开发者：提供多线程下载支持。\\n\\n3.如何获取内容?\\n通过「聚漫」「道长合集」等第三方小程序下载。\",\n        confirm: \"setItem(':startUse','1');refreshPage();'toast://感谢您的理解'\",\n        cancel: \"'toast://很遗憾，不能为您服务。\\\\n长按标题可删除。'\"\n    });\n    setResult([]);\n} else if (MY_RULE.title !== \"本地资源管理\") {\n    confirm({\n        title: \"警告⚠\",\n        content: \"不能改名哦！\",\n        confirm: $.toString(() => {\n            MY_RULE.title = \"本地资源管理\";\n            toast(\"已帮你改回原名，请重新导入\");\n            return \"rule://\" + base64Encode(\"海阔视界￥home_rule￥\" + JSON.stringify(MY_RULE));\n        }),\n        cancel: \"'toast://很遗憾，不能为您服务。\\\\n长按标题可删除。'\"\n    });\n    setResult([]);\n} else {\n    $.require(\"hiker://page/Main.view\");\n}","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"#f.File工具\",\"path\":\"File.js\",\"rule\":\"const File = java.io.File;\\nconst {\\n    Files,\\n    Paths,\\n    StandardCopyOption,\\n    StandardOpenOption\\n} = java.nio.file;\\nconst javaString = java.lang.String;\\nlet javaScope = new JavaImporter(java.io, java.lang, java.lang.reflect, java.util.Vector);\\n\\nfunction deleteFiles(fileName) {\\n    let file = new File(fileName);\\n    if (!file.exists()) {\\n        //log(\\\"删除文件失败：\\\" + fileName + \\\"文件不存在\\\");\\n        return false;\\n    } else {\\n        if (file.isFile()) {\\n            return deleteFile(fileName);\\n        } else {\\n            return deleteDirectory(fileName);\\n        }\\n\\n    }\\n\\n}\\n/**\\n * 删除单个文件\\n * \\n * @param fileName\\n *            被删除文件的文件名\\n * @return 单个文件删除成功返回true,否则返回false\\n */\\nfunction deleteFile(fileName) {\\n    let file = new File(fileName);\\n    if (file.isFile() && file.exists()) {\\n        file.delete();\\n        //log(\\\"删除单个文件\\\" + fileName + \\\"成功！\\\");\\n        return true;\\n    } else {\\n        //log(\\\"删除单个文件\\\" + fileName + \\\"失败！\\\");\\n        return false;\\n    }\\n\\n}\\n/**\\n * 删除目录（文件夹）以及目录下的文件\\n * \\n * @param dir\\n *            被删除目录的文件路径\\n * @return 目录删除成功返回true,否则返回false\\n */\\nfunction deleteDirectory(dir) {\\n    // 如果dir不以文件分隔符结尾，自动添加文件分隔符\\n    if (!dir.endsWith(File.separator)) {\\n        dir = dir + File.separator;\\n    }\\n    let dirFile = new File(dir);\\n    // 如果dir对应的文件不存在，或者不是一个目录，则退出\\n    if (!dirFile.exists() || !dirFile.isDirectory()) {\\n        //log(\\\"删除目录失败\\\" + dir + \\\"目录不存在！\\\");\\n        return false;\\n    }\\n    let flag = true;\\n    // 删除文件夹下的所有文件(包括子目录)\\n    let files = dirFile.listFiles();\\n    for (let i = 0; i < files.length; i++) {\\n        // 删除子文件\\n        if (files[i].isFile()) {\\n            flag = deleteFile(files[i].getAbsolutePath());\\n            if (!flag) {\\n                break;\\n            }\\n        } else { // 删除子目录\\n            flag = deleteDirectory(files[i].getAbsolutePath());\\n            if (!flag) {\\n                break;\\n            }\\n        }\\n    }\\n    if (!flag) {\\n        //log(\\\"删除目录失败\\\");\\n        return false;\\n    }\\n    // 删除当前目录\\n    if (dirFile.delete()) {\\n        //log(\\\"删除目录\\\" + dir + \\\"成功！\\\");\\n        return true;\\n    } else {\\n        //log(\\\"删除目录\\\" + dir + \\\"失败！\\\");\\n        return false;\\n    }\\n}\\n\\n//copy单个文件\\nfunction copyFile(source, target, isCover) {\\n    let sourcePath = Paths.get(source);\\n    let targetPath = Paths.get(target);\\n    let isExist = Files.exists(targetPath);\\n    if (Files.isDirectory(sourcePath) || (isExist && !isCover) || (isExist && Files.isDirectory(targetPath))) {\\n        return false;\\n    }\\n    try {\\n        if (!isExist) {\\n            Files.createDirectories(targetPath.getParent());\\n        }\\n        if (isCover === true) {\\n            Files.copy(sourcePath, targetPath, StandardCopyOption.REPLACE_EXISTING, StandardCopyOption.COPY_ATTRIBUTES);\\n        } else {\\n            Files.copy(sourcePath, targetPath, StandardCopyOption.COPY_ATTRIBUTES);\\n        }\\n    } catch (e) {\\n        return false;\\n    }\\n}\\n\\nfunction getFileTime(path) {\\n    let file = new File(path);\\n    let lastModified = file.lastModified();\\n    let date = new Date(lastModified);\\n    return date.getTime();\\n}\\n\\nfunction getName(path) {\\n    return new File(path).getName() + \\\"\\\";\\n}\\n\\nfunction getFilePath(path, type, expand) {\\n    type = type || \\\"file\\\";\\n    if (![\\\"file\\\", \\\"dir\\\"].includes(type)) throw new Error(\\\"类型错误\\\");\\n    let fileType = type === \\\"file\\\" ? \\\"isFile\\\" : \\\"isDirectory\\\";\\n    let file = new File(path);\\n    let array = file.listFiles() || [];\\n    let pathList = [];\\n    for (let i = 0; i < array.length; i++) {\\n        if (array[i][fileType]()) {\\n            pathList.push({\\n                name: array[i].getName() + \\\"\\\",\\n                path: array[i].getPath() + \\\"\\\",\\n                lastModified: Number(array[i].lastModified()),\\n\\n            });\\n        }\\n    }\\n    if (expand) {\\n        pathList = pathList.filter(it => it.name.endsWith(expand));\\n    }\\n    return pathList;\\n}\\n\\nfunction renameFile(fromPath, name) {\\n    let fromFile = new File(fromPath);\\n    let toFile = new File(fromFile.getParent() + \\\"/\\\" + name);\\n    try {\\n        if (!fromFile.exists()) {\\n            return false;\\n        }\\n        if (toFile.exists()) {\\n            if (!deleteFlies(toPath)) {\\n                return false;\\n            }\\n        }\\n        Files.move(fromFile.toPath(), toFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\\n        return true;\\n    } catch (e) {\\n        log(e.toString());\\n        return false;\\n    }\\n}\\n\\nfunction moveFiles(fromPath, toPath) {\\n    let fromFile = new File(fromPath);\\n    let toFile = new File(toPath);\\n    try {\\n        if (!fromFile.exists()) {\\n            return false;\\n        }\\n        if (toFile.exists()) {\\n            if (!deleteFlies(toPath)) {\\n                return false;\\n            }\\n        }\\n        Files.move(fromFile.toPath(), toFile.toPath(), StandardCopyOption.REPLACE_EXISTING);\\n        return true;\\n    } catch (e) {\\n        log(e.toString());\\n        return false;\\n    }\\n}\\n\\nfunction fileWrite(path, content) {\\n    writeFile(\\\"file://\\\" + path, content)\\n}\\n\\nfunction fileWriteAppend(path, content) {\\n    let file = new File(path);\\n    let paths = file.toPath();\\n    if (file.exists()) {\\n        Files.write(paths, new javaString(content).getBytes(), StandardOpenOption.APPEND);\\n    } else {\\n        writeFile(\\\"file://\\\" + path, content);\\n    }\\n}\\n\\nfunction getTotalSizeOfFilesInDir(file) {\\n    if (file.isFile()) {\\n        return file.length();\\n    }\\n    let children = file.listFiles();\\n    let total = 0;\\n    if (children != null) {\\n        for (let child of children) {\\n            total += getTotalSizeOfFilesInDir(child);\\n        }\\n    }\\n    return total;\\n}\\n\\nfunction getFileSize(filePath) {\\n    //Byte\\n    let size = getTotalSizeOfFilesInDir(new File(filePath));\\n    if (size < 0) {\\n        return null;\\n    }\\n    let unitForm = [\\\"Byte\\\", \\\"KB\\\", \\\"MB\\\", \\\"GB\\\", \\\"TB\\\"];\\n    for (let i = 0, len = unitForm.length; i < len; i++) {\\n        if (size > 1024) {\\n            size /= 1024;\\n            continue;\\n        } else {\\n            return size.toFixed(2).replace(/(\\\\.00)$/, \\\"\\\") + unitForm[i];\\n        }\\n    }\\n    return \\\"ERROR:数值过大\\\";\\n}\\n//完整合并\\n/*\\nfunction fileCombine(filesInput, fileOut, extension, intercept) {\\n    with(javaScope) {\\n        const TMP_BUFFER_SIZE = 0x30000;\\n        const BUFFER_SIZE = 0x300000;\\n        //合并临时文件\\n        let inputFile = new File(filesInput);\\n        let tmpFile = new File(fileOut + \\\".tmp\\\");\\n        let tos = new BufferedOutputStream(new FileOutputStream(tmpFile));\\n        let inputFiles = inputFile.listFiles();\\n        let tbys = Array.newInstance(Byte.TYPE, TMP_BUFFER_SIZE);\\n        for (let file of inputFiles) {\\n            if (file.getName().endsWith(extension)) {\\n                let is = new FileInputStream(file);\\n                let len = 0;\\n                while ((len = is.read(tbys)) != -1) {\\n                    tos.write(tbys, 0, len);\\n                }\\n                is.close();\\n            }\\n        }\\n        tos.close();\\n        //规则替换规则;\\n        let outFile = new File(fileOut);\\n        if (typeof intercept === \\\"function\\\") {\\n            let tis = new FileInputStream(tmpFile);\\n            let os = new BufferedOutputStream(new FileOutputStream(outFile));\\n            let len = 0;\\n            let bys = Array.newInstance(Byte.TYPE, BUFFER_SIZE);\\n            while ((len = tis.read(bys)) != -1) {\\n                let nbys = intercept(new String(bys,0,len));\\n                os.write(nbys, 0, nbys.length);\\n            }\\n            tmpFile.delete();\\n            tis.close();\\n            os.close();\\n        } else {\\n            if (outFile.exists()) {\\n                outFile.delete();\\n            }\\n            tmpFile.renameTo(outFile);\\n        }\\n    }\\n}*/\\n//残\\nfunction fileRule(filesInput, fileOut, intercept) {\\n    with(javaScope) {\\n        const BUFFER_SIZE = 0x300000;\\n        let tmpFile = new File(filesInput);\\n        if (!(tmpFile.exists() && tmpFile.isFile())) {\\n            return false;\\n        }\\n        let outFile = new File(fileOut);\\n\\n        let tis = new FileInputStream(tmpFile);\\n        let os = new BufferedOutputStream(new FileOutputStream(outFile));\\n        let len = 0;\\n        let bys = Array.newInstance(Byte.TYPE, BUFFER_SIZE);\\n        while ((len = tis.read(bys)) != -1) {\\n            let nbys = intercept(new String(bys, 0, len));\\n            os.write(nbys, 0, nbys.length);\\n        }\\n        tmpFile.delete();\\n        tis.close();\\n        os.close();\\n        return true;\\n    }\\n}\\n\\nfunction readFile(path) {\\n    try {\\n        let paths = Paths.get(path);\\n        if (!Files.exists(paths)) return \\\"\\\";\\n        return String(new javaString(Files.readAllBytes(paths)));\\n    } catch {\\n        return \\\"\\\";\\n    }\\n}\\n$.exports = {\\n    getFileTime: (path) => getFileTime(path),\\n    getFilePath: (path, type, expand) => getFilePath(path, type, expand),\\n    deleteFiles: (path) => deleteFiles(path),\\n    renameFile: (path, name) => renameFile(path, name),\\n    moveFiles: (fromPath, toPath) => moveFiles(fromPath, toPath),\\n    fileWrite: (path, content) => fileWrite(path, content),\\n    fileWriteAppend: (path, content) => fileWriteAppend(path, content),\\n    getName: (path) => getName(path),\\n    getFileSize: (filePath) => getFileSize(filePath),\\n    fileRule: (filesInput, fileOut, intercept) => fileRule(filesInput, fileOut, intercept),\\n    copyFile: (source, target, isCover) => copyFile(source, target, isCover),\\n    readFile: (path) => readFile(path)\\n}\"},{\"col_type\":\"text_2\",\"name\":\"#v.下载列表-普通下载\",\"path\":\"download.view\",\"rule\":\"js:\\nconst viewConfig = Object.assign({\\n    chapterList: [],\\n    info: {},\\n    defaultView: \\\"0\\\"\\n}, MY_PARAMS);\\nviewConfig.info = Object.assign({\\n    ruleName: \\\"\\\",\\n    bookName: \\\"\\\",\\n    bookTopPic: \\\"\\\",\\n    parseCode: \\\"\\\",\\n    type: \\\"comic\\\",\\n}, viewConfig.info);\\nlet {\\n    chapterList,\\n    info,\\n    defaultView\\n} = viewConfig;\\nsetPageTitle(\\\"选择器|\\\" + info.bookName)\\n\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nconst def_DoVi_Style = Config.def_DoVi_Style;\\nconst MY_ID = info.ruleName + \\\"//\\\" + info.bookName;\\n\\n\\nlet isStart = getMyVar(MY_ID + \\\":isStart\\\");\\nlet viewMode = getMyVar(MY_ID + \\\":viewMode\\\", defaultView);\\nlet isReverse = getMyVar(MY_ID + \\\":isReverse\\\", \\\"0\\\");\\nlet tagFilter = getMyVar(MY_ID + \\\":tagFilter\\\", Config.def_DoVi_Type);\\n\\naddListener(\\\"onClose\\\", $.toString((MY_ID) => {\\n    clearMyVar(MY_ID + \\\":loadingTeam\\\");\\n    clearMyVar(MY_ID + \\\":viewMode\\\");\\n    clearMyVar(MY_ID + \\\":completed\\\");\\n    clearMyVar(MY_ID + \\\":batchTeam\\\");\\n    clearMyVar(MY_ID + \\\":tagFilter\\\");\\n    clearMyVar(MY_ID + \\\":pageNum\\\");\\n}, MY_ID));\\n\\nlet layout = [];\\n\\nif (isStart === \\\"1\\\") {\\n    putMyVar(MY_ID + \\\":viewMode\\\", defaultView);\\n    viewMode = \\\"1\\\";\\n}\\n\\nlet backupChapterList = chapterList;\\nif (typeof chapterList === \\\"string\\\") {\\n    chapterList = JSON.parse(request(\\\"file://\\\" + chapterList) || \\\"[]\\\");\\n}\\nlet chapterAll = chapterList;\\nchapterList = chapterList.map((item, CID) => {\\n    item.CID = CID;\\n    return item;\\n});\\nlet pageNum = Number(getMyVar(MY_ID + \\\":pageNum\\\", \\\"1\\\"));\\nlet chapterChunk = [chapterList].concat(Tool.chunk(chapterList, Config.viewPageSize));\\nchapterList = chapterChunk[pageNum] || [];\\n\\nfunction setType() {\\n    let set = (tag, put) => {\\n        putMyVar(put, tag);\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    };\\n    layout.push({\\n        title: 0 == pageNum ? \\\"““””\\\" + (\\\"全部(\\\" + chapterAll.length + \\\")\\\").fontcolor(\\\"#23AD6F\\\") : \\\"全部(\\\" + chapterAll.length + \\\")\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, 0, MY_ID + \\\":pageNum\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    for (let i = 1; i < chapterChunk.length; i++) {\\n        let tagText = (i - 1) * Config.viewPageSize + \\\"-\\\" + ((i - 1) * Config.viewPageSize + chapterChunk[i].length);\\n        layout.push({\\n            title: i == pageNum ? \\\"““””\\\" + tagText.fontcolor(\\\"#23AD6F\\\") : tagText,\\n            url: $(\\\"#noLoading#\\\").lazyRule(set, i, MY_ID + \\\":pageNum\\\"),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    layout.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    layout.push({\\n        title: tagFilter === \\\"0\\\" ? \\\"““””\\\" + \\\"全部\\\".fontcolor(\\\"#23AD6F\\\") : \\\"全部\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, \\\"0\\\", MY_ID + \\\":tagFilter\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    layout.push({\\n        title: tagFilter === \\\"1\\\" ? \\\"““””\\\" + \\\"未下载\\\".fontcolor(\\\"#23AD6F\\\") : \\\"未下载\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, \\\"1\\\", MY_ID + \\\":tagFilter\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    layout.push({\\n        title: tagFilter === \\\"2\\\" ? \\\"““””\\\" + \\\"已下载\\\".fontcolor(\\\"#23AD6F\\\") : \\\"已下载\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(set, \\\"2\\\", MY_ID + \\\":tagFilter\\\"),\\n        col_type: \\\"scroll_button\\\"\\n    });\\n}\\nlet chapterTeam = [];\\nlet record = [];\\nif (info.type === \\\"comic\\\") {\\n    let lazy = $(\\\"#noLoading#\\\").lazyRule(() => {\\n        const File = $.require(\\\"hiker://page/File.js\\\");\\n        let filelist = File.getFilePath(input);\\n        let piclist = filelist.map((item, i) => \\\"file://\\\" + input + \\\"/\\\" + (i + 1) + \\\".jpg\\\");\\n        return \\\"pics://\\\" + piclist.join(\\\"&&\\\");\\n    });\\n\\n    function comFun(i, item) {\\n        let rootPath = Config.comicPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\" + i + \\\"$A$\\\" + item.title;\\n        return {\\n            title: \\\"““\\\" + item.title + \\\"””\\\",\\n            url: rootPath + lazy,\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i,\\n            },\\n            col_type: def_DoVi_Style\\n        }\\n    }\\n    File.getFilePath(Config[info.type + \\\"Path\\\"] + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName, \\\"dir\\\").forEach((file) => {\\n        let att = Tool.split(file.name, \\\"$\\\", 2);\\n        if (att.length === 3 && att[1] === (\\\"A\\\")) {\\n            record.push(att[2]);\\n        }\\n    });\\n} else {\\n    function comFun(i, item) {\\n        return {\\n            title: \\\"““\\\" + item.title + \\\"””\\\",\\n            url: \\\"hiker://page/NovelMainBody#autoPage##readTheme#\\\",\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i,\\n                path: Config.novelPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\" + i + \\\"$A$\\\" + item.title + \\\".txt\\\",\\n                title: item.title\\n            },\\n            col_type: def_DoVi_Style\\n        }\\n    }\\n    File.getFilePath(Config[info.type + \\\"Path\\\"] + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName, \\\"file\\\", \\\".txt\\\").forEach((file) => {\\n        let att = Tool.split(file.name, \\\"$\\\", 2);\\n        if (att.length === 3 && att[1] === (\\\"A\\\")) {\\n            record.push(att[2].slice(0, att[2].lastIndexOf(\\\".\\\")));\\n        }\\n    });\\n}\\n\\nfunction clickDownload(item, info, MY_ID, i) {\\n    let loadingTeam = JSON.parse(getMyVar(MY_ID + \\\":loadingTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    let ElementIndex = loadingTeam.indexOf(i);\\n    if (ElementIndex > -1) return \\\"toast://正在下载\\\";\\n\\n    loadingTeam.push(i);\\n    putMyVar(MY_ID + \\\":loadingTeam\\\", JSON.stringify(loadingTeam));\\n    updateItem({\\n        title: \\\"‘‘\\\" + item.title + \\\"’’\\\",\\n        extra: {\\n            id: MY_ID + \\\"#\\\" + i\\n        }\\n    });\\n    let result = \\\"toast://下载失败\\\";\\n    try {\\n        toast(\\\"开始下载:\\\" + item.title);\\n        let download = $.require(\\\"hiker://page/Download.exe.js\\\");\\n        result = download(item, info, MY_ID, i);\\n        updateItem({\\n            title: \\\"““\\\" + item.title + \\\"””\\\",\\n            url: \\\"toast://已下载\\\",\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n    } catch (e) {\\n        updateItem({\\n            title: item.title,\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n        log(e.toString());\\n    } finally {\\n        loadingTeam.splice(ElementIndex, 1);\\n        putMyVar(MY_ID + \\\":loadingTeam\\\", JSON.stringify(loadingTeam));\\n    }\\n    return result;\\n}\\n\\nfunction singleView() {\\n    layout.push({\\n        title: \\\"反转列表\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((isReverse, MY_ID) => {\\n            putMyVar(MY_ID + \\\":isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, isReverse, MY_ID),\\n        pic_url: \\\"https://img.icons8.com/?id=33nvDqbHH7HW&size=48&format=gif&token=\\\",\\n        col_type: \\\"icon_2\\\"\\n    });\\n    layout.push({\\n        title: \\\"批量下载\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            let loadingTeam = JSON.parse(getMyVar(MY_ID + \\\":loadingTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            if (loadingTeam.length > 0) return \\\"toast://还有任务没有完成\\\";\\n            if (getAppVersion() < 2594) return \\\"toast://未开放\\\";\\n            putMyVar(MY_ID + \\\":viewMode\\\", \\\"1\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n\\n        }, MY_ID),\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=0uafaMNzxj88&token=\\\",\\n        col_type: \\\"icon_2\\\"\\n    });\\n    setType();\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    let loadingTeam = JSON.parse(getMyVar(MY_ID + \\\":loadingTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    for (let i = 0, item = chapterList[0]; i < chapterList.length; item = chapterList[++i]) {\\n        let is_download = record.includes(item.title);\\n        if (is_download && tagFilter !== \\\"1\\\") {\\n            chapterTeam.push(comFun(item.CID, item));\\n        } else if (!is_download && tagFilter !== \\\"2\\\") {\\n            chapterTeam.push({\\n                title: loadingTeam.includes(item.CID) ? \\\"‘‘\\\" + item.title + \\\"’’\\\" : item.title,\\n                url: $(\\\"#noLoading#\\\").lazyRule(clickDownload, item, info, MY_ID, item.CID),\\n                extra: {\\n                    id: MY_ID + \\\"#\\\" + item.CID\\n                },\\n                col_type: def_DoVi_Style\\n            });\\n        }\\n    }\\n}\\n\\nfunction clickChoose(title, MY_ID, i) {\\n    let isStart = getMyVar(MY_ID + \\\":isStart\\\");\\n    if (isStart === \\\"1\\\") return \\\"toast://正在下载...\\\";\\n    let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    let ElementIndex = batchTeam.indexOf(i);\\n    if (ElementIndex > -1) {\\n        updateItem({\\n            title: title,\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n        batchTeam.splice(ElementIndex, 1);\\n    } else {\\n        updateItem({\\n            title: \\\"‘‘\\\" + title + \\\"’’\\\",\\n            extra: {\\n                id: MY_ID + \\\"#\\\" + i\\n            }\\n        });\\n        batchTeam.push(i);\\n    }\\n    putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(batchTeam));\\n    return \\\"hiker://empty\\\";\\n}\\n\\nfunction batchView() {\\n    layout.push({\\n        title: \\\"单选下载\\\",\\n        pic_url: \\\"https://img.icons8.com/?id=PIicvF6ebzMn&size=48&format=gif&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            if (getMyVar(MY_ID + \\\":isStart\\\") === \\\"1\\\") return \\\"toast://正在批量下载\\\";\\n            putMyVar(MY_ID + \\\":viewMode\\\", \\\"0\\\");\\n            clearMyVar(MY_ID + \\\":batchTeam\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, MY_ID),\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    let start = Config.viewPageSize * Math.max(pageNum - 1, 0);\\n    let end = start + chapterList.length;\\n    layout.push({\\n        title: \\\"选择全部\\\",\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=1HVcHLoNzrit&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((start, end, MY_ID) => {\\n            const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n            let chooseTeam = Tool.range(start, end);\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            batchTeam = Array.from(new Set(batchTeam.concat(chooseTeam)));\\n            let completed = JSON.parse(getMyVar(MY_ID + \\\":completed\\\", \\\"[]\\\") || \\\"[]\\\");\\n            batchTeam = batchTeam.filter((i) => !completed.includes(i));\\n            putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(batchTeam));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, start, end, MY_ID),\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    layout.push({\\n        title: \\\"取消全部\\\",\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=HzEjPpI3NL8D&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((start, end, MY_ID) => {\\n            const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n            let chooseTeam = new Set(Tool.range(start, end));\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            batchTeam = batchTeam.filter(x => !chooseTeam.has(x));\\n            putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(batchTeam));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, start, end, MY_ID),\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    layout.push({\\n        title: \\\"确认选中\\\",\\n        pic_url: \\\"https://img.icons8.com/?format=gif&id=tMrvtc6T9hVb&token=\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            if (getMyVar(MY_ID + \\\":isStart\\\", \\\"-1\\\") !== \\\"-1\\\") {\\n                return \\\"toast://正在下载...\\\";\\n            }\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            return batchTeam.length === 0 ? \\\"toast://你还什么都没有选\\\" : \\\"hiker://page/Batch.view#noRefresh##noHistory##noRecordHistory#\\\";\\n        }, MY_ID),\\n        extra: {\\n            newWindow: true,\\n            windowId: MY_ID + \\\"//批量下载\\\",\\n            MY_ID: MY_ID,\\n            chapterList: backupChapterList,\\n            info: info\\n        },\\n        col_type: \\\"icon_small_4\\\"\\n    });\\n    setType();\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n    let completed = [];\\n    for (let i = 0, item = chapterList[0]; i < chapterList.length; item = chapterList[++i]) {\\n        let is_download = record.includes(item.title);\\n        if (is_download && tagFilter !== \\\"1\\\") {\\n            completed.push(item.CID);\\n            chapterTeam.push(comFun(item.CID, item));\\n        } else if (!is_download && tagFilter !== \\\"2\\\") {\\n            chapterTeam.push({\\n                title: batchTeam.includes(item.CID) ? \\\"‘‘\\\" + item.title + \\\"’’\\\" : item.title,\\n                url: $(\\\"#noLoading#\\\").lazyRule(clickChoose, item.title, MY_ID, item.CID),\\n                extra: {\\n                    id: MY_ID + \\\"#\\\" + item.CID\\n                },\\n                col_type: def_DoVi_Style\\n            });\\n        }\\n    }\\n    putMyVar(MY_ID + \\\":completed\\\", JSON.stringify(completed));\\n}\\nswitch (viewMode) {\\n    case \\\"0\\\":\\n        singleView();\\n        break;\\n    case \\\"1\\\":\\n        batchView();\\n        break;\\n}\\nif (isReverse === \\\"1\\\") {\\n    chapterTeam.reverse();\\n}\\nlayout.push.apply(layout, chapterTeam);\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.批量下载器\",\"path\":\"Batch.view\",\"rule\":\"js:\\nlet {\\n    chapterList,\\n    info,\\n    MY_ID\\n} = MY_PARAMS;\\nsetPageTitle(\\\"下载器|\\\"+info.bookName);\\naddListener(\\\"onClose\\\", $.toString((MY_ID) => {\\n    clearMyVar(MY_ID + \\\":isStart\\\");\\n    clearMyVar(MY_ID + \\\":status\\\");\\n    clearMyVar(MY_ID + \\\":batchTeam\\\");\\n    refreshPage();\\n}, MY_ID));\\n\\nlet isStart = getMyVar(MY_ID + \\\":isStart\\\", \\\"0\\\");\\nlet status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\nlet layout = [];\\n\\nlet batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\nif(typeof chapterList === \\\"string\\\"){\\n    chapterList = JSON.parse(request(\\\"file://\\\"+chapterList)||\\\"[]\\\");\\n}\\nlet chapterTeam = batchTeam.map(v => {\\n    let chapterItem = chapterList[v];\\n    chapterItem.CID = v;\\n    return chapterItem;\\n});\\nif (isStart === \\\"0\\\") {\\n    layout.push({\\n        title: \\\"开始下载[\\\" + chapterTeam.length + \\\"]\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((chapterTeam, info, MY_ID) => {\\n            putMyVar(MY_ID + \\\":isStart\\\", \\\"1\\\");\\n            refreshPage(false);\\n            let download = $.require(\\\"hiker://page/BatchStatistics.js\\\");\\n            return download(chapterTeam, info, MY_ID) || \\\"toast://下载错误\\\";\\n        }, chapterTeam, info, MY_ID),\\n        col_type: \\\"text_center_1\\\",\\n        extra: {\\n            id: MY_ID + \\\"||开始下载\\\"\\n        }\\n    });\\n    layout.push({\\n        title: \\\"任务列表：\\\",\\n        col_type: \\\"rich_text\\\",\\n    });\\n    for (let item of chapterTeam) {\\n        layout.push({\\n            title: item.title,\\n            url: \\\"hiker://empty\\\",\\n            col_type: \\\"text_2\\\"\\n        });\\n    }\\n\\n} else {\\n    layout.push({\\n        title: \\\"下载进度:0/\\\"+chapterTeam.length,\\n        desc: \\\"““””▇▇▇▇▇▇▇▇▇▇\\\".fontcolor(\\\"#e5e1e4\\\")+\\\" 0%\\\",\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\",\\n        extra: {\\n            id: MY_ID + \\\"||下载进度\\\",\\n            lineVisible: false\\n        }\\n    });\\n    layout.push({\\n        title: \\\"后台下载\\\",\\n        url: \\\"func://background\\\",\\n        col_type: \\\"text_2\\\"\\n    });\\n\\n    layout.push({\\n        title: [\\\"[取消下载]\\\", \\\"[正在停止...]\\\", \\\"[返回]\\\", \\\"[处理失败]\\\", \\\"[重新开始]\\\"][status],\\n        url: $(\\\"#noLoading#\\\").lazyRule((MY_ID) => {\\n            let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n            if (status === \\\"0\\\") {\\n                putMyVar(MY_ID + \\\":status\\\", \\\"1\\\");\\n                updateItem({\\n                    title: \\\"[正在停止...]\\\",\\n                    extra: {\\n                        id: MY_ID + \\\"||下载控制\\\"\\n                    }\\n                });\\n                return \\\"toast://正在取消下载任务\\\";\\n            } else if (status === \\\"1\\\") {\\n                return \\\"toast://正在暂停...\\\";\\n            } else if (status === \\\"2\\\") {\\n                back();\\n                return \\\"toast://已退出下载器\\\";\\n            } else if ([\\\"3\\\", \\\"4\\\"].includes(status)) {\\n                clearMyVar(MY_ID + \\\":isStart\\\");\\n                clearMyVar(MY_ID + \\\":status\\\");\\n                clearMyVar(MY_ID + \\\":log\\\");\\n                refreshPage();\\n                return \\\"toast://重新点击下载\\\"\\n            }\\n        }, MY_ID),\\n        col_type: \\\"text_2\\\",\\n        extra: {\\n            id: MY_ID + \\\"||下载控制\\\"\\n        }\\n    });\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    layout.push({\\n        title: \\\"<strong>下载日志</strong>\\\".big(),\\n        col_type: \\\"rich_text\\\",\\n        \\n    });\\n    layout.push({\\n        col_type: \\\"line\\\",\\n        extra: {\\n            id: MY_ID + \\\"||日志\\\"\\n        }\\n    });\\n    layout.push({\\n        title:\\\"““””$>\\\"+\\\"开始下载......\\\".fontcolor(\\\"#00ff00\\\"),\\n        url:\\\"hiker://empty\\\",\\n        col_type: \\\"text_1\\\",\\n        extra: {\\n            id: MY_ID + \\\"#log#0\\\",\\n            lineVisible:false\\n        }\\n    });\\n}\\n\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#fg.批量下载统计\",\"path\":\"BatchStatistics.js\",\"rule\":\"const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nfunction task(taskParam) {\\n    let result = $.require(\\\"hiker://page/Batch.exe.js\\\")(taskParam);\\n    return result;\\n}\\n\\n$.exports = function(chapterTeam, info, MY_ID) {\\n    if (chapterTeam.length === 0) {\\n        return \\\"toast://空的下载队列\\\";\\n    }\\n    var count = 0;\\n    var taskCount = chapterTeam.length;\\n    var successCID = [];\\n    var failName = [];\\n    var logCount = 1;\\n    var taskTeam = chapterTeam.map(chapterItem => ({\\n        func: task,\\n        id: chapterItem.title,\\n        param: {\\n            chapterItem: chapterItem,\\n            info: info,\\n            MY_ID: MY_ID\\n        }\\n    }));\\n    let logNum = Config.logNum;\\n\\n    function putLog(text) {\\n        log(text);\\n        if (logCount >= logNum) {\\n            deleteItem(MY_ID + \\\"#log#\\\" + (logCount - 10));\\n        }\\n        addItemAfter(MY_ID + \\\"||日志\\\", {\\n            url: \\\"hiker://empty\\\",\\n            title: \\\"$>\\\" + text,\\n            col_type: \\\"text_1\\\",\\n            extra: {\\n                lineVisible: false,\\n                id: MY_ID + \\\"#log#\\\" + logCount\\n            }\\n        });\\n        logCount++;\\n    }\\n\\n    function listener(perch, id, error, CID) {\\n        count++;\\n        let isSuccess = false;\\n        if (error !== null) {\\n            failName.push(id);\\n            putLog(\\\"[listener]下载失败：\\\" + id + \\\"<ERROR@ \\\" + error + \\\">\\\");\\n        } else if (CID >= 0) {\\n            successCID.push(CID);\\n            let ratio = (count / taskCount).toFixed(4);\\n            let stripCount = Math.ceil(ratio * 10);\\n            isSuccess = true;\\n            updateItem({\\n                title: \\\"下载进度：\\\" + successCID.length + \\\"/\\\" + taskCount,\\n                desc: \\\"““””\\\" + \\\"▇\\\".repeat(stripCount).fontcolor(\\\"#ffac2d\\\") + \\\"▇\\\".repeat(10 - stripCount).fontcolor(\\\"#e5e1e4\\\") + \\\" \\\" + (ratio * 100) + \\\"%\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载进度\\\"\\n                }\\n            });\\n            putLog(\\\"[listener]已完成下载：\\\" + id);\\n        } else if (CID === -1) {\\n            failName.push(id);\\n            putLog(\\\"[listener]已停止：\\\" + id);\\n        }\\n        if (taskCount !== count) return;\\n        if (successCID.length === taskCount) {\\n            updateItem({\\n                desc: \\\"““””\\\" + \\\"▇\\\".repeat(10).fontcolor(\\\"#00ff00\\\") + \\\" 100%\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载进度\\\"\\n                }\\n            });\\n        }\\n        let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n        let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n        let failTeam = batchTeam.filter(v => !successCID.includes(v));\\n        putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(failTeam));\\n        if (failTeam.length > 0 && status !== \\\"1\\\") {\\n            putMyVar(MY_ID + \\\":status\\\", \\\"3\\\");\\n            putLog(\\\"下载失败:[\\\" + failName.join(\\\"]，[\\\") + \\\"]。\\\");\\n            updateItem({\\n                title: \\\"[处理失败]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n        } else if (failTeam.length > 0 && status === \\\"1\\\") {\\n            putMyVar(MY_ID + \\\":status\\\", \\\"4\\\");\\n            putLog(\\\"[listener]#已停止所有任务，但已有进度不会消失#\\\");\\n            updateItem({\\n                title: \\\"[重新开始]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n        } else {\\n            putMyVar(MY_ID + \\\":status\\\", \\\"2\\\");\\n            putLog(\\\"下载任务[\\\" + info.bookName + \\\"]已全部成功完成\\\");\\n            updateItem({\\n                title: \\\"[返回]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n        }\\n        toast(\\\"下载任务[\\\" + info.bookName + \\\"]已完成\\\");\\n    }\\n    let taskTeamChunk = [];\\n    if (Config.threadNum > 0) {\\n        taskTeamChunk = Tool.chunk(taskTeam, Config.threadNum);\\n    } else {\\n        taskTeamChunk = [taskTeam];\\n    }\\n    for (let taskList of taskTeamChunk) {\\n        be(taskList, {\\n            func: listener\\n        });\\n        let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n        if (status === \\\"1\\\") {\\n            let batchTeam = JSON.parse(getMyVar(MY_ID + \\\":batchTeam\\\", \\\"[]\\\") || \\\"[]\\\");\\n            let status = getMyVar(MY_ID + \\\":status\\\", \\\"0\\\");\\n            let failTeam = batchTeam.filter(v => !successCID.includes(v));\\n            putMyVar(MY_ID + \\\":batchTeam\\\", JSON.stringify(failTeam));\\n            putMyVar(MY_ID + \\\":status\\\", \\\"4\\\");\\n            putLog(\\\"[listener]#已停止所有任务，但已有进度不会消失#\\\");\\n            updateItem({\\n                title: \\\"[重新开始]\\\",\\n                extra: {\\n                    id: MY_ID + \\\"||下载控制\\\"\\n                }\\n            });\\n            return \\\"hiker://empty\\\";\\n        }\\n\\n    }\\n\\n    return \\\"hiker://empty\\\";\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"#fg.批量主程序\",\"path\":\"Batch.exe.js\",\"rule\":\"const File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n\\nfunction comic(taskParam) {\\n    let {\\n        chapterItem,\\n        info,\\n        MY_ID,\\n    } = taskParam;\\n    if (getMyVar(MY_ID + \\\":status\\\", \\\"\\\") === \\\"1\\\") {\\n        return -1;\\n    }\\n    let mainPath = Config.comicPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + chapterItem.CID + \\\"$B$\\\" + chapterItem.title + \\\"/\\\";\\n    let picList;\\n    try {\\n        let getPicList = new Function(\\\"input\\\", \\\"url\\\", \\\"return \\\" + info.parseCode);\\n        picList = getPicList(chapterItem.url, chapterItem.url);\\n        if (typeof picList === \\\"string\\\") {\\n            picList = picList.replace(\\\"pics://\\\", \\\"\\\").split(\\\"&&\\\");\\n        }\\n    } catch (e) {\\n        e.message = \\\"<漫画图片解析错误：\\\" + e.message + \\\">\\\";\\n        throw e;\\n    }\\n    const L = picList.length;\\n    if(L===0){\\n        throw new Error(\\\"<漫画图片解析错误：图片链接返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误：\\\" + e.message + \\\">\\\");\\n        }\\n    }\\n    var schedule = new Map([\\n        [L, () => log(chapterItem.title + \\\"已下载100%\\\")],\\n        [~~(0.90 * L), () => log(chapterItem.title + \\\"已下载90%+\\\")],\\n        [~~(0.75 * L), () => log(chapterItem.title + \\\"已下载75%+\\\")],\\n        [~~(0.50 * L), () => log(chapterItem.title + \\\"已下载50%+\\\")],\\n        [~~(0.25 * L), () => log(chapterItem.title + \\\"已下载25%+\\\")]\\n    ]);\\n    for (var i = 0; i < L; i++) {\\n        let pic = Tool.hikerPic(picList[i]);\\n        requireDownload(pic[0], chapterPath + (i + 1) + \\\".jpg\\\", pic[1]);\\n        schedule.has(i + 1) && schedule.get(i + 1)();\\n        if (getMyVar(MY_ID + \\\":status\\\", \\\"\\\") === \\\"1\\\") {\\n            return -1;\\n        }\\n    }\\n    File.renameFile(chapterPath, chapterItem.CID + \\\"$A$\\\" + chapterItem.title);\\n    return chapterItem.CID;\\n}\\n\\nfunction novel(taskParam) {\\n    let {\\n        chapterItem,\\n        info,\\n        MY_ID,\\n    } = taskParam;\\n    if (getMyVar(MY_ID + \\\":status\\\", \\\"\\\") === \\\"1\\\") {\\n        return -1;\\n    }\\n    let mainPath = Config.novelPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + chapterItem.CID + \\\"$A$\\\" + chapterItem.title + \\\".txt\\\";\\n    let content = \\\"\\\";\\n    try {\\n        let getContent = new Function(\\\"input\\\", \\\"url\\\", \\\"return \\\" + info.parseCode);\\n        content = getContent(chapterItem.url, chapterItem.url);\\n    } catch (e) {\\n        e.message = \\\"<小说正文解析错误：\\\" + e.message + \\\">\\\";\\n        throw e;\\n    }\\n    if (!content) {\\n        throw new Error(\\\"<小说正文解析错误：正文返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误：\\\" + e.message + \\\">\\\");\\n        }\\n    }\\n    File.fileWrite(chapterPath, content.replace(/<script>.*?<\\\\/script>/gmi, \\\"\\\").trimRight());\\n    //File.renameFile(chapterPath, chapterItem.CID + \\\"$A$\\\" + chapterItem.title);\\n    return chapterItem.CID;\\n}\\nvar $exe = {\\n    comic: comic,\\n    novel: novel\\n};\\n$.exports = function(taskParam) {\\n    return $exe[taskParam.info.type](taskParam);\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"#fg.普通主程序\",\"path\":\"Download.exe.js\",\"rule\":\"const File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n\\nfunction novel(item, info, MY_ID, order) {\\n    let mainPath = Config.novelPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + order + \\\"$A$\\\" + item.title + \\\".txt\\\";\\n    let content = \\\"\\\";\\n    try {\\n        let getContent = new Function(\\\"input\\\", \\\"url\\\", \\\"return \\\" + info.parseCode);\\n        content = getContent(item.url, item.url) || \\\"\\\";\\n    } catch (e) {\\n        e.message = \\\"<小说正文解析错误> \\\" + e.message;\\n        throw e;\\n    }\\n    if (!content) {\\n        toast(\\\"小说为空\\\");\\n        throw new Error(\\\"<小说正文解析错误：正文返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误> \\\" + e.message);\\n        }\\n    }\\n    File.fileWrite(chapterPath, content.replace(/<script>.*?<\\\\/script>/gmi, \\\"\\\").trimRight());\\n    //File.renameFile(chapterPath, order + \\\"$A$\\\" + item.title + \\\".txt\\\");\\n    return \\\"toast://\\\" + info.bookName + \\\"@\\\" + item.title + \\\" 下载完成\\\";\\n}\\n\\nfunction comic(item, info, MY_ID, order) {\\n    let mainPath = Config.comicPath + \\\"/\\\" + info.ruleName + \\\"/\\\" + info.bookName + \\\"/\\\";\\n    let chapterPath = mainPath + order + \\\"$B$\\\" + item.title + \\\"/\\\";\\n    let picList = [];\\n    try {\\n        let getPicList = new Function(\\\"input\\\", \\\"return\\\" + info.parseCode);\\n        picList = getPicList(item.url);\\n        if (typeof picList === \\\"string\\\") {\\n            picList = picList.replace(\\\"pics://\\\", \\\"\\\").split(\\\"&&\\\");\\n        }\\n    } catch (e) {\\n        e.message = \\\"<漫画图片解析错误> \\\" + e.message;\\n        throw e;\\n    }\\n\\n    const L = picList.length;\\n    if(L===0){\\n        toast(\\\"图片链接为空\\\");\\n        throw new Error(\\\"<漫画图片解析错误：图片链接返回为空>\\\");\\n    }\\n    if (info.bookTopPic) {\\n        try {\\n            let bookTopPic = Tool.hikerPic(info.bookTopPic);\\n            requireDownload(bookTopPic[0], mainPath + info.bookName + \\\".jpg\\\", bookTopPic[1]);\\n        } catch (e) {\\n            log(\\\"<封面下载错误> \\\" + e.message);\\n        }\\n    }\\n    var schedule = new Map([\\n        [L, () => log(item.title + \\\"已下载100%\\\")],\\n        [~~(0.90 * L), () => log(item.title + \\\"已下载90%+\\\")],\\n        [~~(0.75 * L), () => log(item.title + \\\"已下载75%+\\\")],\\n        [~~(0.50 * L), () => log(item.title + \\\"已下载50%+\\\")],\\n        [~~(0.25 * L), () => log(item.title + \\\"已下载25%+\\\")]\\n    ]);\\n\\n    for (var i = 0; i < L; i++) {\\n        let pic = Tool.hikerPic(picList[i]);\\n        requireDownload(pic[0], chapterPath + (i + 1) + \\\".jpg\\\", pic[1]);\\n        schedule.has(i + 1) && schedule.get(i + 1)();\\n    }\\n\\n    File.renameFile(chapterPath, order + \\\"$A$\\\" + item.title);\\n    return \\\"toast://\\\" + info.bookName + \\\"@\\\" + item.title + \\\" 下载完成\\\";\\n}\\nvar $exe = {\\n    comic: comic,\\n    novel: novel\\n};\\n$.exports = function(item, info, MY_ID, order) {\\n    return $exe[info.type](item, info, MY_ID, order);\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"#f.通用工具\",\"path\":\"Tool.js\",\"rule\":\"$.exports = {\\n    split(text, target, count) {\\n        count = count === undefined ? 1 : count;\\n        let array = [text];\\n        for (let i = 0; i < count; i++) {\\n            text = array[i];\\n            let index = text.indexOf(target);\\n            if (index === -1) {\\n                break;\\n            }\\n            array[i] = text.slice(0, index);\\n            array[i + 1] = text.slice(index + target.length);\\n        }\\n        return array;\\n    },\\n    chunk(arr, size) {\\n        var result = [];\\n        for (var i = 0, len = arr.length; i < len; i += size) {\\n            result.push(arr.slice(i, i + size));\\n        }\\n        return result;\\n    },\\n    hikerPic(url) {\\n        var headers = {};\\n        let urls = url.split(\\\"@\\\");\\n        let picUrl = urls.shift();\\n        let length = urls.length;\\n        for (let i = 0; i < length; i++) {\\n            let [key, value] = urls[i].split(\\\"=\\\");\\n            headers[key] = value;\\n        }\\n        return [picUrl, headers];\\n    },\\n    range(start, end) {\\n        return Array(end - start).fill(0).map((el, i) => start + i);\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"#j.Config\",\"path\":\"Config.json\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js?rule=本地资源管理\\\");\\n\\nlet localConfig = {};\\n\\ntry {\\n    localConfig = JSON.parse(File.readFile(getPath(\\\"hiker://files/rules/files/本地资源管理/config.json\\\").slice(7)));\\n} catch (e) {\\n    deleteFile(\\\"config.json\\\");\\n}\\nconst Config = Object.assign({\\n    homePath: getPath(\\\"hiker://files/localManager\\\").slice(7),\\n    logNum: 10,\\n    threadNum: 16,\\n    def_isPaginate: \\\"1\\\", //1默认开启分页，0默认关闭\\n    viewPageSize: 200,\\n    def_Pic: \\\"hiker://images/home_pic4\\\",\\n    def_Lord_Type: \\\"comic\\\",\\n    def_View_Style: \\\"text_1\\\",\\n    def_DoVi_Style: \\\"text_2\\\",\\n    def_DoVi_Type: \\\"1\\\", //0全部, 1未完成，2已完成\\n}, localConfig);\\nconst PATHS = {\\n    novelPath: \\\"/小说/\\\",\\n    comicPath: \\\"/漫画/\\\",\\n    novelFullPath: \\\"/小说合并/\\\",\\n    externalImportPath: \\\"/外导小说/\\\"\\n}\\n\\n\\nObject.keys(PATHS).forEach(key => Config[key] = Config.homePath + PATHS[key]);\\n$.exports = Config;\"},{\"col_type\":\"movie_3\",\"name\":\"#v.主页面\",\"path\":\"Main.view\",\"rule\":\"js:\\nfunction main() {\\n    var layout = [];\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n    let type = getMyVar(\\\".type\\\", getItem(\\\"main:type\\\") || Config.def_Lord_Type);\\n    let tgnum = getMyVar(\\\".tgnum\\\", \\\"0\\\");\\n    addListener(\\\"onClose\\\", $.toString((MY_ID) => {\\n        clearMyVar(\\\"searchKey\\\");\\n        clearMyVar(\\\".tgnum\\\");\\n    }));\\n    layout.push({\\n        title: type === \\\"comic\\\" ? \\\"◉漫画\\\" : \\\"○漫画\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((type) => {\\n            if (type === \\\"comic\\\") return \\\"hiker://empty\\\";\\n            putMyVar(\\\".type\\\", \\\"comic\\\");\\n            setItem(\\\"main:type\\\", \\\"comic\\\");\\n            clearMyVar(\\\".tgnum\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, type),\\n        col_type: \\\"text_3\\\",\\n    });\\n    layout.push({\\n        title: type === \\\"novel\\\" ? \\\"◉小说\\\" : \\\"○小说\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((type) => {\\n            if (type === \\\"novel\\\") return \\\"hiker://empty\\\";\\n            putMyVar(\\\".type\\\", \\\"novel\\\");\\n            setItem(\\\"main:type\\\", \\\"novel\\\");\\n            clearMyVar(\\\".tgnum\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, type),\\n        col_type: \\\"text_3\\\",\\n    });\\n    layout.push({\\n        title: type === \\\"txt\\\" ? \\\"◉TXT\\\" : \\\"○TXT\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((type) => {\\n            if (type === \\\"txt\\\") return \\\"hiker://page/NovelCollected.view#noRecordHistory##noHistory#\\\";\\n            putMyVar(\\\".type\\\", \\\"txt\\\");\\n            setItem(\\\"main:type\\\", \\\"txt\\\");\\n            clearMyVar(\\\".tgnum\\\");\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, type),\\n        col_type: \\\"text_3\\\"\\n    });\\n    if (type === \\\"txt\\\") {\\n        txtView = $.require(\\\"hiker://page/externalimportTxt.view\\\");\\n        return txtView(layout);\\n    }\\n    let tag = File.getFilePath(Config[type + \\\"Path\\\"], \\\"dir\\\");\\n    if (tag.length === 0) {\\n        layout.push({\\n            col_type: \\\"line_blank\\\",\\n        });\\n        layout.push({\\n            title: \\\"设置\\\",\\n            url: \\\"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\\\",\\n            col_type: \\\"text_2\\\",\\n            extra: {\\n                version: MY_RULE.version\\n            }\\n        });\\n\\n        layout.push({\\n            title: \\\"““帮助””\\\",\\n            url: \\\"hiker://page/help.view#noRefresh##noRecordHistory##noHistory#?keyword=novelComic\\\",\\n            col_type: \\\"text_2\\\"\\n        });\\n        layout.push({\\n            title: '<h1 style=\\\"text-align: center;\\\">啥都没有耶</h1>',\\n            col_type: \\\"rich_text\\\"\\n        });\\n        return setResult(layout);\\n    }\\n    layout.push({\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        desc: \\\"搜你想要的#\\\" + type + \\\"#......\\\",\\n        title: \\\"🔍\\\",\\n        col_type: \\\"input\\\",\\n        extra: {\\n            rules: $.toString((tag, type) => {\\n                let arr1 = [];\\n                for (let i = 0; i < tag.length; i++) {\\n                    arr1.push({\\n                        \\\"title\\\": tag[i].name,\\n                        \\\"search_url\\\": \\\"hiker://empty?isAll=1&searchTerms=**&type=\\\" + type,\\n                        \\\"searchFind\\\": \\\"js:$.require('hiker://page/Search.view?rule='+MY_RULE._title);\\\"\\n                    });\\n                }\\n\\n                return JSON.stringify(arr1);\\n            }, tag, type),\\n            defaultValue: getMyVar('searchKey', ''),\\n            onChange: \\\"putMyVar('searchKey',input)\\\"\\n        }\\n    });\\n\\n    layout.push({\\n        title: \\\"‘‘⚙设置’’\\\",\\n        col_type: \\\"scroll_button\\\",\\n        url: \\\"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\\\",\\n        extra: {\\n            version: MY_RULE.version\\n        }\\n    });\\n\\n\\n    for (let i in tag) {\\n        let it = tag[i];\\n        if (tgnum === i) {\\n            layout.push({\\n                title: \\\"““\\\" + it.name + \\\"””\\\",\\n                col_type: \\\"scroll_button\\\",\\n                url: $([\\\"删除该目录\\\", \\\"跳转小程序\\\"], 1, \\\"选择操作\\\").select((it) => {\\n                    if (\\\"跳转小程序\\\" === input) {\\n                        return \\\"hiker://home@\\\" + it.name;\\n                    } else {\\n                        //return then([\\\"该操作不会删除小程序，但该小程序下载的所有漫画将被删除\\\"]);\\n                        return $(\\\"该操作不会删除小程序，但该小程序下载的所有 漫画/小说 将被删除\\\").confirm((path) => {\\n                            const File = $.require(\\\"hiker://page/File.js\\\");\\n                            if (File.deleteFiles(path)) {\\n                                clearMyVar(\\\".tgnum\\\");\\n                                refreshPage();\\n                                return \\\"toast://删除成功\\\";\\n                            } else {\\n                                return \\\"toast://删除失败\\\";\\n                            }\\n                        }, it.path);\\n                    }\\n                }, it)\\n            });\\n        } else {\\n            layout.push({\\n                title: it.name,\\n                col_type: \\\"scroll_button\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule(i => {\\n                    putMyVar(\\\".tgnum\\\", i);\\n                    refreshPage();\\n                    return \\\"hiker://empty\\\";\\n                }, i),\\n            });\\n        }\\n    }\\n    let path = tag[tgnum].path;\\n    let mhlist = File.getFilePath(path, \\\"dir\\\");\\n\\n    if (mhlist.length === 0) {\\n        layout.push({\\n            title: \\\"““””\\\" + \\\"啥都没有耶\\\".big(),\\n            url: \\\"hiker://empty\\\",\\n            col_type: \\\"text_center_1\\\",\\n            extra: {\\n                lineVisible: false\\n            }\\n        });\\n        return setResult(layout);\\n    }\\n    let pageUrl = type === \\\"novel\\\" ? \\\"hiker://page/NovelBrowser.view\\\" : \\\"hiker://page/ComicBrowser.view\\\";\\n    for (let item of mhlist) {\\n        let pic = fileExist(\\\"file://\\\" + item.path + \\\"/\\\" + item.name + \\\".jpg\\\") ? item.path + \\\"/\\\" + item.name + \\\".jpg\\\" : Config.def_Pic;\\n        layout.push({\\n            title: item.name,\\n            pic_url: pic,\\n            url: pageUrl + \\\"?rule=\\\" + MY_RULE.title,\\n            extra: item\\n        });\\n    }\\n    setResult(layout);\\n}\\n\\nmain();\"},{\"col_type\":\"text_1\",\"name\":\"#v.漫画章节列表\",\"path\":\"ComicBrowser.view\",\"rule\":\"js:\\nif (getParam(\\\"hasParams\\\") === \\\"true\\\") {\\n    MY_PARAMS = {\\n        path: decodeURIComponent(getParam(\\\"path\\\")),\\n        name: decodeURIComponent(getParam(\\\"name\\\"))\\n    }\\n}\\nlet path = MY_PARAMS.path;\\nsetPageTitle(\\\"CV|\\\" + MY_PARAMS.name)\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nvar layout = [];\\nlet mode = getMyVar(\\\".mode\\\", \\\"0\\\");\\nlet isReverse = getMyVar(\\\".isReverse\\\", \\\"0\\\");\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\".mode\\\");\\n    clearMyVar(\\\".isReverse\\\");\\n}));\\nconst comicStatus=new Map([[\\\"A\\\",\\\"\\\"],[\\\"B\\\",\\\"‘‘[未完成]’’\\\"]]);\\nfunction getTitle(title) {\\n    let titles = Tool.split(title, \\\"$\\\", 2);\\n    return comicStatus.get(titles[1])+titles[2] || title;\\n}\\nlayout.push({\\n    title: \\\"删除整本\\\",\\n    url: $(\\\"确认删除整本漫画？\\\").confirm((path) => {\\n        const File = $.require(\\\"hiker://page/File.js\\\");\\n        if (File.deleteFiles(path)) {\\n            back();\\n            return \\\"toast://删除成功\\\";\\n        } else {\\n            return \\\"toast://删除失败\\\";\\n        }\\n    }, path),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    title: [\\\"看漫画\\\", \\\"删除章节\\\"][mode],\\n    url: $(\\\"#noLoading#\\\").lazyRule((mode) => {\\n        putMyVar(\\\".mode\\\", mode === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\"\\n    }, mode),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n})\\nlet mhlist = File.getFilePath(path, \\\"dir\\\");\\nmhlist.sort((a, b) => {\\n    a = (a.name.match(/\\\\d+/) || [])[0] || 0;\\n    b = (b.name.match(/\\\\d+/) || [])[0] || 0;\\n    return a - b;\\n});\\n\\nlayout.push({\\n    title: \\\"““””\\\" + \\\"章节 \\\".big() + (\\\"共有:\\\" + mhlist.length + \\\"章\\\").small(),\\n    url: $(\\\"#noLoading#\\\").lazyRule((isReverse) => {\\n        putMyVar(\\\".isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\"\\n    }, isReverse),\\n    col_type: \\\"text_1\\\"\\n});\\nlet array = [];\\nlet lazy = $(\\\"#noLoading#\\\").lazyRule(() => {\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    let filelist = File.getFilePath(input);\\n    let piclist = filelist.map((item, i) => \\\"file://\\\" + input + \\\"/\\\" + (i + 1) + \\\".jpg\\\");\\n    return \\\"pics://\\\" + piclist.join(\\\"&&\\\");\\n})\\nif (mode === \\\"0\\\") {\\n    for (let item of mhlist) {\\n        array.push({\\n            title: getTitle(item.name),\\n            url: item.path+lazy,\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n} else {\\n    for (let item of mhlist) {\\n        let name = getTitle(item.name);\\n        array.push({\\n            title: name,\\n            url: $(\\\"确认删除[\\\" + name + \\\"]？\\\").confirm((path) => {\\n                const File = $.require(\\\"hiker://page/File.js\\\");\\n                if (File.deleteFiles(path)) {\\n                    refreshPage(true);\\n                    return \\\"toast://删除成功\\\";\\n                } else {\\n                    return \\\"toast://删除失败\\\";\\n                }\\n            }, item.path),\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n}\\nif (isReverse === \\\"1\\\") {\\n    array.reverse();\\n}\\nlayout.push.apply(layout, array);\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.聚合搜索\",\"path\":\"Search.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js?rule=\\\" + MY_RULE._title);\\nconst Config = $.require(\\\"hiker://page/Config.json?rule=\\\" + MY_RULE._title);\\nlet comicRuleDirs = File.getFilePath(Config[getParam(\\\"type\\\") + \\\"Path\\\"], \\\"dir\\\");\\nif (getParam(\\\"isAll\\\") === \\\"1\\\") {\\n    comicRuleDirs = comicRuleDirs.filter(item => item.name === MY_RULE.title);\\n}\\n\\nlet searchResult = [];\\nlet searchTerms = getParam(\\\"searchTerms\\\");\\nlet termsArr = searchTerms.split(\\\"\\\").map(t => t.replace(/\\\\*|\\\\.|\\\\?|\\\\+|\\\\$|\\\\^|\\\\[|\\\\]|\\\\(|\\\\)|\\\\{|\\\\}|\\\\||\\\\/|\\\\\\\\/g, k => \\\"\\\\\\\\\\\" + k));\\nlet reg = new RegExp(termsArr.join(\\\".*\\\"), \\\"i\\\");\\nlet pageUrl = getParam(\\\"type\\\") === \\\"novel\\\" ? \\\"hiker://page/NovelBrowser.view\\\" : \\\"hiker://page/ComicBrowser.view\\\";\\nfor (let sonDir of comicRuleDirs) {\\n    let comicList = File.getFilePath(sonDir.path, \\\"dir\\\");\\n    for (let comic of comicList) {\\n        if (reg.test(comic.name)) {\\n            searchResult.push({\\n                title: comic.name,\\n                pic_url: comic.path + \\\"/\\\" + comic.name + \\\".jpg\\\",\\n                url: pageUrl + \\\"?rule=\\\" + MY_RULE._title,\\n                desc: sonDir.name,\\n                extra: comic\\n            });\\n        }\\n    }\\n\\n}\\nsetResult(searchResult);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.设置\",\"path\":\"Setting.view\",\"rule\":\"js:\\nsetPageTitle(MY_RULE.title + \\\"|设置\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nlet layout = [];\\n\\nlayout.push({\\n    title: \\\"<strong>基础设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"目录路径\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRefresh##noRecordHistory##noHistory#?settingType=contents\\\",\\n    desc: Config.homePath,\\n    col_type: \\\"text_1\\\"\\n});\\nlayout.push({\\n    title: \\\"设置默认封面\\\",\\n    desc: Config.def_Pic,\\n    url: \\\"hiker://page/Setting/More.view#noRefresh##noRecordHistory##noHistory#?settingType=defaultPic\\\",\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        lineVisible: false\\n    }\\n});\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nlayout.push({\\n    title: \\\"<strong>下载器设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\n\\nfunction setNum(key, test) {\\n    let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n    input = parseInt(input);\\n    if (Number.isNaN(input)) return \\\"toast://请输入数字\\\";\\n    if (!test(input)) return \\\"toast://不符合条件\\\";\\n    Config[key] = input;\\n    saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n    refreshPage(false);\\n    return \\\"toast://修改成功\\\";\\n}\\nlayout.push({\\n    title: \\\"log数\\\",\\n    url: $(Config.logNum, \\\"0<N<100\\\").input(setNum, \\\"logNum\\\", it => it > 0 && it < 100),\\n    desc: \\\"\\\" + Config.logNum,\\n    col_type: \\\"text_1\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"分批下载数(0不开启)\\\",\\n    url: $(\\\"\\\" + Config.threadNum, \\\"N>-1\\\").input(setNum, \\\"threadNum\\\", it => it > -1),\\n    desc: \\\"\\\" + Config.threadNum,\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        lineVisible: false,\\n    }\\n});\\n\\n\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"<strong>小说阅读器设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"默认开启分页阅读\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((def_isPaginate) => {\\n        let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n\\n        Config.def_isPaginate = def_isPaginate === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\";\\n\\n        saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\";\\n    }, Config.def_isPaginate),\\n    desc: Config.def_isPaginate === \\\"0\\\" ? \\\"不开启\\\" : \\\"开启\\\",\\n    col_type: \\\"text_1\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"每页最大章数\\\",\\n    url: $(Config.viewPageSize, \\\"30<N<500\\\").input(setNum, \\\"viewPageSize\\\", it => it > 30 && it < 500),\\n    desc: \\\"\\\" + Config.viewPageSize,\\n    col_type: \\\"text_1\\\"\\n});\\nlayout.push({\\n    title: \\\"替换规则\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRecordHistory##noHistory##noRefresh#?settingType=replaceRule\\\",\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        lineVisible: false\\n    }\\n});\\n\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nlayout.push({\\n    title: \\\"<strong>其他设置</strong>\\\".big(),\\n    col_type: \\\"rich_text\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line\\\"\\n});\\nlayout.push({\\n    title: \\\"规则发布页\\\",\\n    url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#?rule=道长仓库Pro\\\",\\n    extra: {\\n        lver: MY_PARAMS.version || \\\"获取版本失败，自行查看\\\",\\n        id: \\\"3559\\\"\\n    },\\n    col_type: \\\"text_1\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"恢复默认设置\\\",\\n    url: $(\\\"确认恢复默认设置？\\\").confirm(() => {\\n        deleteFile(\\\"config.json\\\");\\n        refreshPage(false);\\n        return \\\"toast://恢复完成\\\";\\n    }),\\n    col_type: \\\"text_1\\\"\\n});\\nlayout.push({\\n    title: \\\"清理缓存\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRecordHistory##noHistory#?settingType=cache\\\",\\n    col_type: \\\"text_1\\\"\\n});\\nlet tid = Date.now();\\nlayout.push({\\n    title: \\\"检测更新\\\",\\n    col_type: \\\"text_1\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((oldVersion, tid) => {\\n        try {\\n            let newVersion = JSON.parse(request(\\\"http://hiker.nokia.press/hikerule/dev/getbyid?id=3559\\\", {\\n                timeout: 2000\\n            })).result.ver;\\n            if (newVersion <= oldVersion) {\\n                updateItem(tid + \\\"#设置_更新\\\", {\\n                    title: \\\"已经是最新版本了\\\"\\n                });\\n                return \\\"toast://已经是最新版本了\\\";\\n            } else {\\n                updateItem(tid + \\\"#设置_更新\\\", {\\n                    title: \\\"有新版本还未更新\\\"\\n                });\\n                toast(\\\"有新版本还未更新\\\");\\n                return \\\"rule://5rW36ZiU6KeG55WM77+laG9tZV9ydWxlX3VybO+/pWh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzcy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTM1NTk=\\\";\\n            }\\n        } catch (e) {\\n            updateItem(tid + \\\"#设置_更新\\\", {\\n                title: \\\"信息获取失败\\\"\\n            });\\n            return \\\"toast://更新信息获取失败\\\";\\n        }\\n    }, MY_PARAMS.version, tid),\\n    extra: {\\n        id: tid + \\\"#设置_更新\\\"\\n    }\\n});\\nlayout.push({\\n    title: \\\"关于如何调用\\\",\\n    url: \\\"https://qun.qq.com/qqweb/qunpro/share?_wv=3&_wwv=128&inviteCode=1HFyBJ&from=246610&biz=ka\\\",\\n    desc: \\\"详细点击加入频道，频道里@LoyDgIk\\\",\\n    col_type: \\\"text_1\\\"\\n});\\n/*\\nlayout.push({\\n    title: \\\"清除小说分页记录\\\",\\n    url: $(\\\"确认清除小说分页记录？\\\").confirm(() => {\\n        deleteFile(\\\"novelFootprint.json\\\");\\n        return \\\"toast://清除完成\\\";\\n    }),\\n    col_type: \\\"text_1\\\"\\n});\\n*/\\nsetResult(layout);\"},{\"col_type\":\"text_1\",\"name\":\"#v.小说章节列表\",\"path\":\"NovelBrowser.view\",\"rule\":\"js:\\nif (getParam(\\\"hasParams\\\") === \\\"true\\\") {\\n    MY_PARAMS = {\\n        path: decodeURIComponent(getParam(\\\"path\\\")),\\n        name: decodeURIComponent(getParam(\\\"name\\\"))\\n    }\\n}\\nlet path = MY_PARAMS.path;\\nsetPageTitle(\\\"NV|\\\" + MY_PARAMS.name);\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Tool = $.require(\\\"hiker://page/Tool.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nconst bookInfo = Object.assign({\\n    foot: 0,\\n    isReplace: true\\n}, JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\nlet id = \\\"#\\\" + new Date().getTime();\\nvar layout = [];\\nlet mode = getMyVar(\\\".mode\\\", \\\"0\\\");\\nlet mode2 = getMyVar(\\\".mode2\\\", Config.def_isPaginate);\\n\\nlet isReverse = getMyVar(\\\".isReverse\\\", \\\"0\\\");\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\".mode\\\");\\n    clearMyVar(\\\".mode2\\\");\\n    clearMyVar(\\\".isReverse\\\");\\n    clearMyVar(\\\".pageNum\\\");\\n}));\\n\\nfunction getTitle(title) {\\n    let titles = Tool.split(title, \\\"$\\\", 2);\\n    return titles[2] !== undefined ? titles[2].slice(0, titles[2].lastIndexOf(\\\".\\\")) : title;\\n}\\nlayout.push({\\n    title: \\\"删除整本\\\",\\n    url: $(\\\"确认删除整本小说？\\\").confirm((path) => {\\n        const File = $.require(\\\"hiker://page/File.js\\\");\\n        if (File.deleteFiles(path)) {\\n            back();\\n            return \\\"toast://删除成功\\\";\\n        } else {\\n            return \\\"toast://删除失败\\\";\\n        }\\n    }, path),\\n    col_type: \\\"text_2\\\"\\n});\\n\\nlayout.push({\\n    title: [\\\"看小说\\\", \\\"删除章节\\\"][mode],\\n    url: $(\\\"#noLoading#\\\").lazyRule((mode) => {\\n        putMyVar(\\\".mode\\\", mode === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\"\\n    }, mode),\\n    col_type: \\\"text_2\\\"\\n});\\n\\nlayout.push({\\n    title: \\\"‘‘更多功能 >’’\\\",\\n    url: \\\"hiker://empty\\\",\\n    col_type: \\\"scroll_button\\\"\\n});\\n\\nfunction txt(paths) {\\n    showLoading(\\\"正在合并...\\\");\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    const Tool = $.require(\\\"hiker://page/Tool.js\\\");\\n    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\n    let filelist = File.getFilePath(paths.path, \\\"file\\\", \\\".txt\\\");\\n    let listLength = filelist.length;\\n    if (listLength === 0) {\\n        hideLoading();\\n        return \\\"toast://空的章节\\\";\\n    }\\n    const bookInfo = Object.assign({\\n        selected: [],\\n        isReplace: true\\n    }, JSON.parse(request(\\\"file://\\\" + paths.path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n    let bufilelist = [];\\n    for (let i = 0; i < listLength; i++) {\\n        let file = filelist[i];\\n        let fileInfo = Tool.split(file.name, \\\"$\\\", 2);\\n        bufilelist.push({\\n            name: fileInfo[2].slice(0, fileInfo[2].lastIndexOf(\\\".\\\")),\\n            path: \\\"file://\\\" + file.path,\\n            id: Number(fileInfo[0]) || 0\\n        });\\n    }\\n    bufilelist.sort((a, b) => a.id - b.id);\\n    let entirePath = paths.path.replace(Config.novelPath, Config.novelFullPath) + \\\".txt\\\";\\n    let entirePathto = bookInfo.isReplace ? entirePath + \\\".tmp\\\" : entirePath;\\n\\n    if (fileExist(\\\"file://\\\" + entirePath)) {\\n        toast(\\\"初始化文件\\\");\\n        if (!File.deleteFiles(entirePath)) {\\n            hideLoading();\\n            return \\\"toast://初始化失败\\\";\\n        } else {\\n            toast(\\\"初始化成功\\\");\\n        }\\n    }\\n\\n    for (let i = 0; i < listLength; i++) {\\n        let item = bufilelist[i];\\n        let content = request(item.path);\\n        File.fileWriteAppend(entirePathto, item.name + \\\"\\\\n　　\\\" + content.replace(/^\\\\s+|\\\\s+$/gm, \\\"\\\").replace(/&nbsp;/g,\\\"\\\").split(/\\\\n+/).join(\\\"\\\\r　　\\\") + \\\"\\\\n\\\\n\\\");\\n    }\\n    if (bookInfo.isReplace) {\\n        let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n        let len = ruleList.length;\\n        let replacePattern = [\\\"replace\\\", \\\"replaceAll\\\"];\\n        let flag = File.fileRule(entirePathto, entirePath, (javaString) => {\\n            for (let i = 0; i < len; i++) {\\n                let replaceRule = ruleList[i];\\n                if (!bookInfo.selected.includes(replaceRule.id)) {\\n                    continue;\\n                }\\n                let replace = replacePattern[0 + replaceRule.isRegex];\\n                javaString = javaString[replace](replaceRule.pattern, replaceRule.replacement);\\n            }\\n            return javaString.getBytes();\\n        });\\n        if (!flag) {\\n            hideLoading();\\n            return \\\"toast://合并失败\\\";\\n        }\\n\\n    }\\n    hideLoading();\\n    return \\\"toast://合并完成\\\";\\n}\\nlayout.push({\\n    title: \\\"合并小说\\\",\\n    url: $(\\\"确定合并?\\\\n会覆盖已有TXT\\\").confirm(txt, MY_PARAMS),\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    title: [\\\"☐分页\\\", \\\"☑分页\\\"][mode2],\\n    url: $(\\\"#noLoading#\\\").lazyRule((mode2) => {\\n        putMyVar(\\\".mode2\\\", mode2 === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n        refreshPage(true);\\n        return \\\"hiker://empty\\\";\\n    }, mode2),\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    title: \\\"净化\\\",\\n    url: \\\"hiker://page/NovelCustom.view#noRecordHistory##noHistory##noRefresh#\\\",\\n    extra: MY_PARAMS,\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    title: \\\"外部查看\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((path) => {\\n        const Config = $.require(\\\"hiker://page/Config.json\\\");\\n        let entirePath = path.replace(Config.novelPath, Config.novelFullPath) + \\\".txt\\\";\\n        if (fileExist(\\\"file://\\\" + entirePath)) {\\n            toast(\\\"调用第三方应用打开文件\\\");\\n            return \\\"openFile://file://\\\" + entirePath\\n        } else {\\n            return \\\"toast://本地暂无可供外部打开的txt文件，请先合并小说！\\\"\\n        }\\n    }, path),\\n    col_type: \\\"scroll_button\\\"\\n});\\nlayout.push({\\n    col_type: \\\"line_blank\\\"\\n});\\n\\nlet mhlist = File.getFilePath(path, \\\"file\\\", \\\".txt\\\");\\nmhlist.sort((a, b) => {\\n    a = (a.name.match(/\\\\d+/) || [])[0] || 0;\\n    b = (b.name.match(/\\\\d+/) || [])[0] || 0;\\n    return a - b;\\n});\\nlet chapterList = [];\\nlet chapterCount = mhlist.length;\\n\\nif (mode2 === \\\"1\\\") {\\n    let mhlistChunk = Tool.chunk(mhlist, Config.viewPageSize);\\n    let viewPageCount = mhlistChunk.length;\\n    let defPage = (viewPageCount - 1 < bookInfo.foot ? 0 : bookInfo.foot) || 0;\\n    let pageNum = Number(getMyVar(\\\".pageNum\\\", \\\"\\\" + defPage));\\n    chapterList = mhlistChunk[pageNum] || [];\\n    layout.push({\\n        title: \\\"““””\\\" + \\\"章节 \\\".big() + (\\\"本页:\\\" + chapterList.length + \\\" 共有:\\\" + chapterCount + \\\"章 当前:\\\" + (pageNum + 1) + \\\"/\\\" + viewPageCount).small(),\\n        url: $(\\\"#noLoading#\\\").lazyRule((isReverse) => {\\n            putMyVar(\\\".isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage(true);\\n            return \\\"hiker://empty\\\"\\n        }, isReverse),\\n        col_type: \\\"text_1\\\"\\n    });\\n    layout.push({\\n        title: \\\"跳集\\\",\\n        url: $(chapterCount, \\\"输入跳转章节 1-\\\" + chapterCount).input((chapterCount, pageNum, viewPageSize, path) => {\\n            let inputNum = Number(input);\\n            if (Number.isNaN(inputNum) || inputNum < 0 || inputNum > chapterCount) {\\n                return \\\"toast://请输入正确范围内的数字\\\";\\n            }\\n            inputNum = Math.floor((inputNum + viewPageSize) / viewPageSize) - 1;\\n            if (pageNum === inputNum) return \\\"toast://正在当前页面\\\";\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path, JSON.stringify(bookInfo));\\n            refreshPage(false);\\n        }, chapterCount, pageNum, Config.viewPageSize, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"跳页\\\",\\n        url: $(pageNum + 1, \\\"跳转页数 1-\\\" + viewPageCount).input((viewPageCount, pageNum, path) => {\\n            let inputNum = Number(input) - 1;\\n            if (Number.isNaN(inputNum) || inputNum < 0 || inputNum > viewPageCount - 1) {\\n                return \\\"toast://请输入正确范围内的数字\\\";\\n            }\\n            if (pageNum === inputNum) return \\\"toast://正在当前页面\\\";\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n        }, viewPageCount, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"上一页\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((pageNum, path) => {\\n            let inputNum = pageNum - 1;\\n            if (inputNum < 0) {\\n                return \\\"toast://已经是第一页了\\\";\\n            }\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"下一页\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((viewPageCount, pageNum, path) => {\\n            let inputNum = pageNum + 1;\\n            if (inputNum > viewPageCount - 1) {\\n                return \\\"toast://已经是最后一页了\\\";\\n            }\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, viewPageCount, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n    layout.push({\\n        title: \\\"末页\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((viewPageCount, pageNum, path) => {\\n            let inputNum = viewPageCount - 1;\\n            if (pageNum === inputNum || inputNum === -1) {\\n                return \\\"toast://已经是最后一页了\\\";\\n            }\\n            putMyVar(\\\".pageNum\\\", \\\"\\\" + inputNum);\\n            const bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n            bookInfo.foot = inputNum;\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        }, viewPageCount, pageNum, path),\\n        col_type: \\\"text_5\\\"\\n    });\\n} else {\\n    chapterList = mhlist;\\n    layout.push({\\n        title: \\\"““””\\\" + \\\"章节 \\\".big() + (\\\"共有:\\\" + chapterCount + \\\"章\\\").small(),\\n        url: $(\\\"#noLoading#\\\").lazyRule((isReverse) => {\\n            putMyVar(\\\".isReverse\\\", isReverse === \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage(true);\\n            return \\\"hiker://empty\\\"\\n        }, isReverse),\\n        col_type: \\\"text_1\\\"\\n    });\\n}\\nlet array = [];\\nif (mode === \\\"0\\\") {\\n    for (let item of chapterList) {\\n        let name = getTitle(item.name);\\n        array.push({\\n            title: name,\\n            url: \\\"hiker://page/NovelMainBody#autoPage##readTheme#\\\",\\n            extra: {\\n                path: item.path,\\n                dirPath: path,\\n                title: name,\\n            },\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n} else {\\n    for (let item of chapterList) {\\n        let name = getTitle(item.name);\\n        array.push({\\n            title: name,\\n            url: $(\\\"确认删除[\\\" + name + \\\"]？\\\").confirm((path) => {\\n                const File = $.require(\\\"hiker://page/File.js\\\");\\n                if (File.deleteFiles(path)) {\\n                    refreshPage(true);\\n                    return \\\"toast://删除成功\\\";\\n                } else {\\n                    return \\\"toast://删除失败\\\";\\n                }\\n            }, item.path),\\n            col_type: Config.def_View_Style\\n        });\\n    }\\n}\\nif (isReverse === \\\"1\\\") {\\n    array.reverse();\\n}\\nlayout.push.apply(layout, array);\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.小说正文阅读\",\"path\":\"NovelMainBody\",\"rule\":\"js:\\nvar layout = [];\\nlet content = request(\\\"file://\\\" + MY_PARAMS.path);\\n//content = content.replace(/\\\\n|\\\\r/g, \\\"<br>\\\").replace(/(&nbsp;)+/g,\\\" \\\");\\nconst bookInfo = Object.assign({\\n    selected: [],\\n    isReplace: true\\n}, JSON.parse(request(\\\"file://\\\" + MY_PARAMS.dirPath + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n\\nif (bookInfo.isReplace) {\\n    let javaString = java.lang.String(content);\\n    let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n    let replacePattern = [\\\"replace\\\", \\\"replaceAll\\\"];\\n    for (let i = 0, len = ruleList.length; i < len; i++) {\\n        let replaceRule = ruleList[i];\\n        if (!bookInfo.selected.includes(replaceRule.id)) {\\n            continue;\\n        }\\n        let replace = replacePattern[0 + replaceRule.isRegex];\\n        javaString = javaString[replace](replaceRule.pattern, replaceRule.replacement);\\n    }\\n    content = String(javaString);\\n}\\ncontent = \\\"　　\\\" + content.replace(/^\\\\s+|\\\\s+$/gm, \\\"\\\").split(/\\\\n+/).join(\\\"<br>　　\\\");\\n\\nlayout.push({\\n    col_type: \\\"rich_text\\\",\\n    title: (\\\"<strong>\\\" + MY_PARAMS.title + \\\"</strong>\\\").big(),\\n});\\n\\nlayout.push({\\n    title: content,\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(layout);\"},{\"col_type\":\"text_1\",\"name\":\"#v.合并TXT\",\"path\":\"NovelCollected.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\nlet rulelDir = File.getFilePath(Config.novelFullPath, \\\"dir\\\");\\nsetPageTitle(\\\"合并TXT\\\");\\nlet layout = [];\\n\\nfunction operation(path) {\\n    switch (input) {\\n        case \\\"分享\\\":\\n            return \\\"share://\\\" + path;\\n            break;\\n        case \\\"删除\\\":\\n            const File = $.require(\\\"hiker://page/File.js\\\");\\n            if (File.deleteFiles(path)) {\\n                refreshPage();\\n                return \\\"toast://删除成功\\\";\\n            } else {\\n                return \\\"toast://删除失败\\\";\\n            }\\n            break;\\n        case \\\"海阔预览\\\":\\n            return \\\"hiker://page/txtParser.view\\\";\\n            break;\\n        case \\\"打开方式\\\":\\n            return \\\"openFile://file://\\\" + path;\\n            break;\\n    }\\n}\\nfor (let rulePaths of rulelDir) {\\n    let novels = File.getFilePath(rulePaths.path, \\\"file\\\", \\\".txt\\\");\\n    for (let novel of novels) {\\n        layout.push({\\n            title: novel.name,\\n            url: $([\\\"分享\\\", \\\"删除\\\", \\\"海阔预览\\\", \\\"打开方式\\\"], 1).select(operation, novel.path),\\n            desc: \\\"来源：\\\" + rulePaths.name,\\n            col_type: \\\"text_1\\\",\\n            extra: {\\n                path: novel.path\\n            }\\n        });\\n    }\\n}\\nif (layout.length === 0) {\\n    layout.push({\\n        title: '<h1 style=\\\"text-align: center;\\\">啥都没有耶</h1>',\\n        col_type: \\\"rich_text\\\"\\n    });\\n}\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.更多设置\",\"path\":\"Setting/More.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nconst settingType = MY_PARAMS.settingType || getParam(\\\"settingType\\\");\\n\\nlet layout = [];\\nlet id = \\\"#\\\" + new Date().getTime();\\nswitch (settingType) {\\n    case \\\"cache\\\":\\n        setPageTitle(\\\"清除缓存|设置\\\");\\n        const knownList = new Map([\\n            [File.getName(Config.novelPath), \\\"#管理器#小说缓存目录[不建议清除]\\\"],\\n            [File.getName(Config.comicPath), \\\"#管理器#漫画缓存目录[不建议清除]\\\"],\\n            [File.getName(Config.externalImportPath), \\\"#管理器#导入的TXT目录[不建议清除]\\\"],\\n            [File.getName(Config.novelFullPath), \\\"#管理器#小说合并目录[可以清除]\\\"],\\n            [\\\"dr章节缓存\\\", \\\"道长模板临时缓存[建议清除]\\\"]\\n        ]);\\n\\n        let cacheDir = File.getFilePath(Config.homePath, \\\"dir\\\");\\n\\n        function cleanCache(path) {\\n            const File = $.require(\\\"hiker://page/File.js\\\");\\n            if (File.deleteFiles(path)) {\\n                refreshPage(false);\\n                return \\\"toast://清除完成\\\";\\n            } else {\\n                return \\\"toast://清除失败\\\";\\n            }\\n        }\\n        for (let cache of cacheDir) {\\n            layout.push({\\n                title: cache.name,\\n                desc: \\\"大小：\\\" + File.getFileSize(cache.path) + \\\"\\\\n描述：\\\" + (knownList.get(cache.name) || \\\"未知目录[风险未知]\\\"),\\n                col_type: \\\"text_1\\\",\\n                url: $(\\\"确认清除 \\\" + cache.name + \\\" ?\\\").confirm(cleanCache, cache.path)\\n            });\\n        }\\n        layout.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n        layout.push({\\n            title: \\\"全部清除(\\\" + File.getFileSize(Config.homePath) + \\\")\\\",\\n            col_type: \\\"text_center_1\\\",\\n            url: $(\\\"确认清除全部缓存数据?\\\").confirm(cleanCache, Config.homePath)\\n        });\\n        break;\\n    case \\\"defaultPic\\\":\\n        setPageTitle(\\\"默认封面|设置\\\");\\n        if (getMyVar(\\\":defaultPicBack\\\")) {\\n            back();\\n            clearMyVar(\\\":defaultPicBack\\\");\\n            break;\\n        }\\n\\n        function setDefaultPic(url) {\\n            let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n            Config.def_Pic = url;\\n            saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n            back();\\n            return \\\"toast://修改成功\\\";\\n        }\\n        let start = 1;\\n        if (typeof(MY_NAME) !== \\\"undefined\\\" && MY_NAME === \\\"嗅觉浏览器\\\") {\\n            start = 4;\\n        }\\n        for (let i = start; i <= 4; i++) {\\n            layout.push({\\n                title: \\\"图片\\\" + i,\\n                col_type: \\\"movie_3\\\",\\n                pic_url: \\\"hiker://images/home_pic\\\" + i,\\n                url: $(\\\"#noLoading#\\\").lazyRule(setDefaultPic, \\\"hiker://images/home_pic\\\" + i)\\n            });\\n        }\\n        layout.push({\\n            title: \\\"自定义➕\\\",\\n            col_type: \\\"text_3\\\",\\n            url: $([\\\"自定义url\\\", \\\"选择文件路径\\\"]).select(() => {\\n                if (input === \\\"自定义url\\\") {\\n                    return $(\\\"\\\", \\\"输入图片的路径或者链接\\\").input(() => {\\n                        let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n                        Config.def_Pic = input;\\n                        saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n                        back();\\n                        return \\\"toast://修改成功\\\";\\n                    });\\n                } else {\\n                    let requireUrl = \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\";\\n                    let fileSelect = require(requireUrl);\\n                    return fileSelect.fileSelectionUri({\\n                        callback: $.toString(() => {\\n                            let Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n                            Config.def_Pic = \\\"file://\\\" + PATH;\\n                            saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n                            putMyVar(\\\":defaultPicBack\\\", \\\"true\\\");\\n                            back();\\n                            return \\\"toast://修改成功\\\";\\n                        }),\\n                        requireUrl: requireUrl,\\n                        fileType: \\\".jpg|.jpeg|.gif|.png|.svg|.bmp\\\",\\n                        onClickType: \\\"confirm\\\",\\n                        memory: \\\"selectPathCache2\\\"\\n                    });\\n                }\\n            })\\n        });\\n        break;\\n    case \\\"replaceRule\\\":\\n        if (MY_PARAMS.isRefresh) {\\n            addListener(\\\"onClose\\\", $.toString(() => refreshPage()));\\n        }\\n        setPageTitle(\\\"替换规则|设置\\\");\\n        let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n        layout.push({\\n            title: \\\"新建替换\\\",\\n            url: \\\"hiker://page/editReplaceRule.view#noRecordHistory##noHistory##noRefresh#?isNew=true\\\",\\n            col_type: \\\"text_3\\\"\\n        });\\n        layout.push({\\n            title: \\\"导出规则\\\",\\n            url: $(\\\"确认导出\\\" + ruleList.length + \\\"条规则？\\\\n({homePtah}/replaceRule.json)\\\").confirm((num) => {\\n                const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                let savePta = Config.homePath + \\\"/replaceRule.json\\\";\\n                writeFile(savePta, readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n                log(\\\"\\\\n路径：\\\" + savePta + \\\"\\\\n导出规则 \\\" + num + \\\" 条\\\");\\n                return \\\"share://\\\" + savePta;\\n            }, ruleList.length),\\n            col_type: \\\"text_3\\\"\\n        });\\n\\n        function importRule(isback) {\\n            input = typeof PATH === \\\"undefined\\\" ? input : PATH;\\n            input = input.startsWith(\\\"file://\\\") ? input : \\\"file://\\\" + input\\n            let ruleText = request(input);\\n            if (!ruleText) return \\\"toast://获取文件为空\\\";\\n            try {\\n                let newRuleList = JSON.parse(ruleText);\\n                let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n                let newCount = 0,\\n                    updateCount = 0;\\n                for (let i in newRuleList) {\\n                    let newRule = newRuleList[i];\\n                    if (!newRule.hasOwnProperty(\\\"replacement\\\") || !newRule.hasOwnProperty(\\\"pattern\\\") || !newRule.hasOwnProperty(\\\"name\\\") || (newRule.scopeContent === undefined ? false : !newRule.scopeContent)) {\\n                        continue;\\n                    }\\n                    let id = newRule.id;\\n                    newRule.id = id || new Date().getTime();\\n                    let idIndex = ruleList.findIndex(rule => rule.id === id);\\n                    if (idIndex > -1) {\\n                        updateCount++;\\n                        ruleList.splice(idIndex, 1, newRule);\\n                    } else {\\n                        newCount++;\\n                        ruleList.push(newRule);\\n                    }\\n                }\\n                saveFile(\\\"replaceRule.json\\\", JSON.stringify(ruleList));\\n                if (isback) {\\n                    back();\\n                } else {\\n                    refreshPage();\\n                }\\n                log(\\\"\\\\n路径：\\\" + input + \\\"\\\\n总规则数：\\\" + newRuleList.length + \\\"\\\\n更新规则 \\\" + updateCount + \\\" 条\\\\t新增规则 \\\" + newCount + \\\" 条\\\");\\n                toast(\\\"导入成功\\\");\\n            } catch (e) {\\n                log(e.toString());\\n                if (isback) back();\\n                toast(\\\"导入失败\\\");\\n            }\\n        }\\n        layout.push({\\n            title: \\\"导入规则\\\",\\n            url: $([\\\"外部文件\\\", \\\"内部文件\\\"], 1, \\\"规则导入\\\").select((importRule) => {\\n                if (input === \\\"外部文件\\\") {\\n                    return \\\"fileSelect://\\\" + $.toString(importRule);\\n                } else {\\n                    let requireUrl = \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\";\\n                    let fileSelect = require(requireUrl);\\n                    return fileSelect.fileSelectionUri({\\n                        callback: $.toString(importRule, true),\\n                        requireUrl: requireUrl,\\n                        fileType: \\\".json\\\",\\n                        onClickType: \\\"confirm\\\",\\n                        memory: \\\"selectPathCache\\\"\\n                    });\\n                }\\n            }, importRule),\\n            col_type: \\\"text_3\\\"\\n        });\\n        layout.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n        for (let i = 0, len = ruleList.length; i < len; i++) {\\n            let replaceRule = ruleList[i];\\n            layout.push({\\n                title: replaceRule.name,\\n                col_type: \\\"text_1\\\",\\n                url: \\\"hiker://empty\\\",\\n                extra: {\\n                    cls: id + \\\".\\\" + i,\\n                    lineVisible: false\\n                }\\n            });\\n            layout.push({\\n                title: \\\"删除\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule((id, index) => {\\n                    var ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n                    let g = ruleList.splice(index, 1);\\n\\n                    saveFile(\\\"replaceRule.json\\\", JSON.stringify(ruleList));\\n                    //deleteItemByCls(id + \\\".\\\" + index);\\n                    refreshPage(false);\\n                    toast(\\\"删除成功\\\");\\n                    return \\\"hiker://empty\\\";\\n                }, id, i),\\n                extra: {\\n                    cls: id + \\\".\\\" + i\\n                },\\n                col_type: \\\"text_2\\\"\\n            });\\n            layout.push({\\n                title: \\\"编辑\\\",\\n                url: \\\"hiker://page/editReplaceRule.view#noRecordHistory##noHistory##noRefresh#?index=\\\" + i,\\n                col_type: \\\"text_2\\\",\\n                extra: {\\n                    cls: id + \\\".\\\" + i\\n                }\\n            });\\n            layout.push({\\n                col_type: \\\"line_blank\\\",\\n                extra: {\\n                    cls: id + \\\".\\\" + i\\n                }\\n            });\\n        }\\n        break;\\n    case \\\"contents\\\":\\n        let f = require(\\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\");\\n        setPageTitle(\\\"目录设置|设置\\\");\\n        layout.push({\\n            title: \\\"选择文件夹\\\",\\n            url: JSON.stringify(f.fileSelectionUri({\\n                callback: $.toString((id) => {\\n                    let target = findItem(id).extra;\\n                    updateItem(id, {\\n                        extra: Object.assign(target, {\\n                            defaultValue: PATH\\n                        })\\n                    });\\n                    return true;\\n                }, id),\\n                initialPath: Config.homePath,\\n                requireUrl: \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\",\\n                pattern: 1\\n            })),\\n            col_type: \\\"input\\\",\\n            desc: \\\"支持hiker://files路径(该操作不会初始化目录)\\\",\\n            extra: {\\n                defaultValue: Config.homePath,\\n                onChange: $.toString((id) => {\\n                    putMyVar(id, input);\\n                }, id),\\n                id: id\\n            }\\n        });\\n        layout.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n        layout.push({\\n            title: \\\"确认\\\",\\n            url: $(\\\"#noLoading#\\\").lazyRule((id) => {\\n                let input = getMyVar(id, findItem(id).extra.defaultValue || \\\"\\\");\\n                const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                if (input.startsWith(\\\"hiker://files/\\\")) input = getPath(input).slice(7);\\n                if (input.endsWith(\\\"/\\\")) input=input.replace(/\\\\/$/,\\\"\\\");\\n                if (Config.homePath == input) return \\\"toast://已经是当前目录\\\";\\n                Config = JSON.parse(readFile(\\\"config.json\\\", 0) || \\\"{}\\\");\\n                Config.homePath = input;\\n                saveFile(\\\"config.json\\\", JSON.stringify(Config), 0);\\n                back();\\n                return \\\"toast://已保存\\\";\\n            }, id),\\n            col_type: \\\"text_center_1\\\",\\n        });\\n\\n        break;\\n}\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.编辑替换规则\",\"path\":\"editReplaceRule.view\",\"rule\":\"js:\\nconst isNew = MY_PARAMS.isNew || getParam(\\\"isNew\\\");\\nconst index = MY_PARAMS.index || Number(getParam(\\\"index\\\"));\\nlet layout = [];\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\".editReplaceRule.name\\\");\\n    clearMyVar(\\\".editReplaceRule.isRegex\\\");\\n    clearMyVar(\\\".editReplaceRule.pattern\\\");\\n    clearMyVar(\\\".editReplaceRule.replacement\\\");\\n    clearMyVar(\\\".editReplaceRule.first\\\");\\n    //clearMyVar(\\\".editReplaceRule.scope\\\");\\n}));\\nlet ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\nlet id = \\\"#\\\" + new Date().getTime();\\n//let replaceRule = isNew == \\\"true\\\"?{}:ruleList[index];\\nif (isNew == \\\"true\\\") {\\n    replaceRule = {\\n        id: new Date().getTime(),\\n        isRegex: false,\\n    }\\n} else {\\n    replaceRule = ruleList[index];\\n}\\n//首次初始化\\nif(getMyVar(\\\".editReplaceRule.first\\\",\\\"\\\")==\\\"\\\"){\\n    putMyVar(\\\".editReplaceRule.isRegex\\\", \\\"\\\" + replaceRule.isRegex);\\n    putMyVar(\\\".editReplaceRule.first\\\",\\\"1\\\");\\n}\\nlayout.push({\\n    title: \\\"拷贝\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n        let att = [\\\"name\\\", \\\"isRegex\\\", \\\"pattern\\\", \\\"replacement\\\"];\\n        let json = {};\\n        att.forEach(key => {\\n            let value = getMyVar(\\\".editReplaceRule.\\\" + key, \\\"\\\");\\n            if (key === \\\"isRegex\\\") {\\n                value = value === \\\"true\\\" ? true : false;\\n            }\\n            json[key] = value;\\n        });\\n        copy(JSON.stringify(json));\\n        return \\\"hiker://empty\\\";\\n    }),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    title: \\\"粘贴\\\",\\n    url: $(\\\"{{clipboard}}\\\").input(() => {\\n        try {\\n            let json = JSON.parse(input);\\n            if (Array.isArray(json) || json.pattern == undefined) return;\\n            let att = [\\\"name\\\", \\\"isRegex\\\", \\\"pattern\\\", \\\"replacement\\\"];\\n            att.forEach(key => {\\n                putMyVar(\\\".editReplaceRule.\\\" + key, String(json[key]));\\n            });\\n            refreshPage(false);\\n        } catch (e) {\\n            log(e.toString());\\n        }\\n    }),\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换规则名称\\\",\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getMyVar(\\\".editReplaceRule.name\\\", replaceRule.name),\\n        onChange: 'putMyVar(\\\".editReplaceRule.name\\\",input);'\\n    }\\n});\\n\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换规则\\\",\\n    extra: {\\n        titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: -1,\\n        defaultValue: getMyVar(\\\".editReplaceRule.pattern\\\", replaceRule.pattern),\\n        onChange: 'putMyVar(\\\".editReplaceRule.pattern\\\", input);'\\n    }\\n});\\nlayout.push({\\n    title: \\\"是否使用正则表达式：\\\" + getMyVar(\\\".editReplaceRule.isRegex\\\"),\\n    url: $(\\\"#noLoading#\\\").lazyRule((id) => {\\n        let isRegex = getMyVar(\\\".editReplaceRule.isRegex\\\") === \\\"true\\\" ? false : true;\\n        updateItem({\\n            extra: {\\n                id: id\\n            },\\n            title: \\\"是否使用正则表达式：\\\" + isRegex\\n        });\\n        putMyVar(\\\".editReplaceRule.isRegex\\\", \\\"\\\" + isRegex);\\n        return \\\"hiker://empty\\\";\\n    }, id),\\n    col_type: \\\"text_1\\\",\\n    extra: {\\n        id: id\\n    }\\n});\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换为\\\",\\n    extra: {\\n        titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: -1,\\n        defaultValue: getMyVar(\\\".editReplaceRule.replacement\\\", replaceRule.replacement),\\n        onChange: 'putMyVar(\\\".editReplaceRule.replacement\\\",input);'\\n    }\\n});\\nlayout.push({\\n    title: \\\"保存\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((replaceRule, isNew, index) => {\\n        let pattern = getMyVar(\\\".editReplaceRule.pattern\\\", \\\"\\\");\\n        if (!pattern) {\\n            return \\\"toast://替换规则不能为空\\\";\\n        }\\n        Object.assign(replaceRule, {\\n            name: getMyVar(\\\".editReplaceRule.name\\\", \\\"\\\"),\\n            isRegex: getMyVar(\\\".editReplaceRule.isRegex\\\") === \\\"true\\\" ? true : false,\\n            pattern: pattern,\\n            replacement: getMyVar(\\\".editReplaceRule.replacement\\\", \\\"\\\")\\n        });\\n        let ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\n        if (isNew == \\\"true\\\") {\\n            ruleList.push(replaceRule);\\n        } else {\\n            ruleList.splice(index, 1, replaceRule);\\n        }\\n        saveFile(\\\"replaceRule.json\\\", JSON.stringify(ruleList));\\n        back();\\n        return \\\"toast://保存成功\\\";\\n    }, replaceRule, isNew, index),\\n    col_type: \\\"text_center_1\\\",\\n});\\n\\n/*\\nlayout.push({\\n    col_type: \\\"input\\\",\\n    desc: \\\"替换范围\\\",\\n    extra: {\\n        titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: -1,\\n        defaultValue: \\\"\\\",\\n        onChange: 'putMyVar(\\\".editReplaceRule.scope\\\",input);'\\n    }\\n});\\n\\n*/\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.小说个性化净化\",\"path\":\"NovelCustom.view\",\"rule\":\"js:\\nsetPageTitle(\\\"替换规则|\\\" + MY_PARAMS.name);\\nlet ruleList = JSON.parse(readFile(\\\"replaceRule.json\\\") || \\\"[]\\\");\\nlet id = \\\"#\\\" + new Date().getTime();\\n\\nconst bookInfo = Object.assign({\\n    foot: 0,\\n    isReplace: true,\\n    selected: []\\n}, JSON.parse(request(\\\"file://\\\" + MY_PARAMS.path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n\\nlet layout = [];\\nlayout.push({\\n    title: [\\\"☐净化\\\", \\\"☑净化\\\"][0 + bookInfo.isReplace],\\n    url: $(\\\"#noLoading#\\\").lazyRule(($id, path) => {\\n\\n        var bookInfo = JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\");\\n        let isReplace = bookInfo.isReplace===undefined?true:bookInfo.isReplace;\\n        bookInfo.isReplace = !isReplace;\\n        writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n        updateItem($id, {\\n            title: isReplace ? \\\"☐净化\\\" : \\\"☑净化\\\",\\n        });\\n        return \\\"hiker://empty\\\";\\n    }, id + \\\"#-1\\\", MY_PARAMS.path),\\n    extra: {\\n        id: id + \\\"#-1\\\"\\n    },\\n    col_type: \\\"text_2\\\"\\n});\\nlayout.push({\\n    title: \\\"编辑规则\\\",\\n    url: \\\"hiker://page/Setting/More.view#noRecordHistory##noHistory##noRefresh#?settingType=replaceRule\\\",\\n    col_type: \\\"text_2\\\",\\n    extra:{\\n        isRefresh: true\\n    }\\n});\\nfor (let i = 0, len = ruleList.length; i < len; i++) {\\n    let replaceRule = ruleList[i];\\n    let isTrue = bookInfo.selected.includes(replaceRule.id);\\n    layout.push({\\n        title: (isTrue ? \\\"●\\\" : \\\"○\\\") + replaceRule.name,\\n        col_type: \\\"text_1\\\",\\n        url: \\\"hiker://empty\\\",\\n        y: 0,\\n        extra: {\\n            isTrue: isTrue,\\n            id: id + i,\\n            lineVisible: false\\n        }\\n    });\\n    layout.push({\\n        title: \\\"开启\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(($id, replaceRule, path) => {\\n            if (findItem($id).extra.isTrue) {\\n                return \\\"toast://已开启\\\";\\n            }\\n            const bookInfo = Object.assign({\\n                selected: []\\n            }, JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n            bookInfo.selected.push(replaceRule.id);\\n            updateItem($id, {\\n                title: \\\"●\\\" + replaceRule.name,\\n                extra: {\\n                    isTrue: true,\\n                    id: $id,\\n                    lineVisible: false\\n                }\\n            });\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            return \\\"hiker://empty\\\";\\n        }, id + i, replaceRule, MY_PARAMS.path),\\n        col_type: \\\"text_2\\\"\\n    });\\n    layout.push({\\n        title: \\\"关闭\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(($id, replaceRule, path) => {\\n            if (!findItem($id).extra.isTrue) {\\n                return \\\"toast://已关闭\\\";\\n            }\\n            const bookInfo = Object.assign({\\n                selected: []\\n            }, JSON.parse(request(\\\"file://\\\" + path + \\\"/bookInfo.json\\\") || \\\"{}\\\"));\\n            bookInfo.selected.splice(bookInfo.selected.indexOf(replaceRule.id), 1);\\n            updateItem($id, {\\n                title: \\\"○\\\" + replaceRule.name,\\n                extra: {\\n                    isTrue: false,\\n                    id: $id,\\n                    lineVisible: false\\n                }\\n            });\\n            writeFile(\\\"file://\\\" + path + \\\"/bookInfo.json\\\", JSON.stringify(bookInfo));\\n            return \\\"hiker://empty\\\";\\n        }, id + i, replaceRule, MY_PARAMS.path),\\n        col_type: \\\"text_2\\\"\\n    });\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n}\\n\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#v.外导TXT\",\"path\":\"externalimportTxt.view\",\"rule\":\"js:\\nfunction txtView(layout) {\\n    const File = $.require(\\\"hiker://page/File.js\\\");\\n    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n    let files = File.getFilePath(Config.externalImportPath, undefined, \\\".txt\\\");\\n    setPageTitle(\\\"TXT阅读器\\\");\\n    //let layout = [];\\n    layout.push({\\n        url: '\\\"hiker://page/txtSearch.view#noRefresh#?searchTerms=\\\"+encodeURIComponent(input)',\\n        desc: \\\"TXT搜索\\\",\\n        title: \\\"🔍\\\",\\n        col_type: \\\"input\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"searchKeyByTxt\\\", \\\"\\\"),\\n            onChange: \\\"putMyVar('searchKeyByTxt',input)\\\"\\n        }\\n    });\\n    layout.push({\\n        title: \\\"导入TXT\\\",\\n        col_type: \\\"text_2\\\",\\n        url: $([\\\"系统选择器\\\", \\\"海阔选择器\\\"], 1, \\\"选择器类型\\\").select(() => {\\n            if (input === \\\"系统选择器\\\") {\\n                return \\\"fileSelect://\\\" + $.toString(() => {\\n                    if (!/(\\\\.txt)$/i.test(input)) {\\n                        toast(\\\"选择了错误的文件类型\\\");\\n                        return;\\n                    }\\n                    const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                    let novelName = input.match(/\\\\/([^\\\\/]*?)(\\\\.txt)$/i)[1].replace(\\\"_fileSelect_\\\", \\\"\\\");\\n                    let topath = Config.externalImportPath + novelName + \\\".txt\\\";\\n                    let path = input.replace(\\\"file://\\\", \\\"\\\");\\n                    if (fileExist(\\\"file://\\\" + topath)) {\\n                        confirm({\\n                            title: \\\"导入提示\\\",\\n                            content: \\\"已存在[\\\" + novelName + \\\"]是否覆盖?\\\",\\n                            confirm: $.toString((path, topath) => {\\n                                const File = $.require(\\\"hiker://page/File.js\\\");\\n                                File.copyFile(path, topath, true);\\n                                if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                                    File.deleteFiles(topath + \\\".json\\\");\\n                                }\\n                                refreshPage(false);\\n                                return \\\"toast://导入成功\\\";\\n                            }, path, topath)\\n                        });\\n                        return;\\n                    } else {\\n                        const File = $.require(\\\"hiker://page/File.js\\\");\\n                        File.copyFile(path, topath);\\n                        if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                            File.deleteFiles(topath + \\\".json\\\");\\n                        }\\n                        refreshPage(false);\\n                        toast(\\\"导入成功\\\");\\n                        return;\\n                    }\\n                });\\n            } else {\\n                let requireUrl = \\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5099\\\";\\n                let fileSelect = require(requireUrl);\\n                return fileSelect.fileSelectionUri({\\n                    callback: $.toString(() => {\\n                        const Config = $.require(\\\"hiker://page/Config.json\\\");\\n                        let novelName = PATH.match(/\\\\/([^\\\\/]*?)(\\\\.txt)$/i)[1];\\n                        let topath = Config.externalImportPath + novelName + \\\".txt\\\";\\n                        let path = PATH;\\n                        if (fileExist(\\\"file://\\\" + topath)) {\\n                            return $(\\\"已存在[\\\" + novelName + \\\"]是否覆盖?\\\").confirm((path, topath) => {\\n                                const File = $.require(\\\"hiker://page/File.js\\\");\\n                                File.copyFile(path, topath, true);\\n                                if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                                    File.deleteFiles(topath + \\\".json\\\");\\n                                }\\n                                back();\\n                                return \\\"toast://导入成功\\\";\\n                            }, path, topath);\\n                        } else {\\n                            const File = $.require(\\\"hiker://page/File.js\\\");\\n                            File.copyFile(path, topath);\\n                            if (fileExist(\\\"file://\\\" + topath + \\\".json\\\")) {\\n                                File.deleteFiles(topath + \\\".json\\\");\\n                            }\\n                            back();\\n                            return \\\"toast://导入成功\\\";\\n                        }\\n                    }),\\n                    requireUrl: requireUrl,\\n                    fileType: \\\".txt\\\",\\n                    onClickType: \\\"confirm\\\",\\n                    memory: \\\"selectPathCache1\\\"\\n                });\\n            }\\n        }),\\n        extra: {\\n            lineVisible: false\\n        }\\n    });\\n    let options = [\\\"阅读\\\", \\\"分享\\\", \\\"删除\\\", \\\"打开方式\\\"];\\n\\n    let pattern = getMyVar(\\\":txtPattern\\\", options[0]);\\n    let id = Date.now() + \\\":模式\\\";\\n    layout.push({\\n        title: pattern,\\n        col_type: \\\"text_2\\\",\\n        url: $(options, 1, \\\"操作模式\\\").select((id) => {\\n            putMyVar(\\\":txtPattern\\\", input);\\n            updateItem(id, {\\n                title: input\\n            });\\n        }, id),\\n        extra: {\\n            id: id\\n        }\\n    })\\n    layout.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n\\n    function operation(path, name) {\\n        let pattern = getMyVar(\\\":txtPattern\\\", \\\"阅读\\\");\\n        switch (pattern) {\\n            case \\\"分享\\\":\\n                return \\\"share://\\\" + path;\\n                break;\\n            case \\\"删除\\\":\\n                return $(\\\"确认删除[\\\" + name + \\\"]\\\").confirm((path) => {\\n                    const File = $.require(\\\"hiker://page/File.js\\\");\\n                    if (File.deleteFiles(path)) {\\n                        if (fileExist(\\\"file://\\\" + path + \\\".json\\\")) {\\n                            File.deleteFiles(path + \\\".json\\\");\\n                        }\\n                        refreshPage();\\n                        return \\\"toast://删除成功\\\";\\n                    } else {\\n                        return \\\"toast://删除失败\\\";\\n                    }\\n                }, path);\\n                break;\\n            case \\\"阅读\\\":\\n                return \\\"hiker://page/txtParser.view?rule=\\\" + MY_RULE.title;\\n                break;\\n            case \\\"打开方式\\\":\\n                return \\\"openFile://file://\\\" + path;\\n                break;\\n        }\\n    }\\n\\n    for (let novel of files) {\\n        layout.push({\\n            title: novel.name,\\n            url: $(\\\"#noLoading#\\\").lazyRule(operation, novel.path, novel.name),\\n            desc: \\\"大小：\\\" + File.getFileSize(novel.path) + \\\"\\\\n修改时间：\\\" + $.dateFormat(novel.lastModified, \\\"yyyy-MM-dd HH:mm:ss\\\"),\\n            col_type: \\\"text_1\\\",\\n            extra: {\\n                path: novel.path,\\n                isCache: true,\\n                title: novel.name\\n            }\\n        });\\n    }\\n    if (files.length === 0) {\\n        layout.push({\\n            title: \\\"设置\\\",\\n            url: \\\"hiker://page/Setting.view#noRefresh##noRecordHistory##noHistory#\\\",\\n            col_type: \\\"text_2\\\",\\n            extra: {\\n                version: MY_RULE.version\\n            }\\n        });\\n\\n        layout.push({\\n            title: \\\"““帮助””\\\",\\n            url: \\\"hiker://page/help.view#noRefresh##noRecordHistory##noHistory#?keyword=txt\\\",\\n            col_type: \\\"text_2\\\"\\n        });\\n        layout.push({\\n            title: '<h1 style=\\\"text-align: center;\\\">啥都没有耶</h1>',\\n            col_type: \\\"rich_text\\\"\\n        });\\n    }\\n    setResult(layout);\\n}\\nif ($.importParam === undefined) {\\n    $.exports = txtView;\\n} else if ($.importParam === null) {\\n    setResult(txtView([]));\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"#v.TXT解析器\",\"path\":\"txtParser.view\",\"rule\":\"js:\\n(function() {\\n    let regs = $.require(\\\"hiker://page/regularChapter.f\\\");\\n    let path = decodeURIComponent(getParam(\\\"path\\\") || \\\"\\\") || MY_PARAMS.path;\\n    let charst = decodeURIComponent(getParam(\\\"charst\\\") || \\\"\\\") || MY_PARAMS.charst || \\\"UTF-8\\\";\\n    let isCache = MY_PARAMS.isCache;\\n    if (!path.startsWith(\\\"file://\\\")) {\\n        path = \\\"file://\\\" + path;\\n    }\\n    if(MY_PARAMS.title){\\n        setPageTitle(MY_PARAMS.title);\\n    }else{\\n        setPageTitle($.require(\\\"hiker://page/File.js\\\").getName(path));\\n    }\\n    let layout = [];\\n    let chapterNames = [];\\n    let intervals = [];\\n    let hasPreface = false;\\n    if (fileExist(path + \\\".json\\\") && isCache) {\\n        try {\\n\\n            let c = JSON.parse(request(path + \\\".json\\\"));\\n            chapterNames = c.chapterNames;\\n            intervals = c.intervals;\\n            hasPreface = c.hasPreface;\\n            layout.push({\\n                title: \\\"重新解析目录\\\",\\n                col_type: \\\"text_center_1\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule((path) => {\\n                    deleteFile(path);\\n                    refreshPage();\\n                    return \\\"hiker://empty\\\";\\n                }, path+\\\".json\\\"),\\n                extra: {\\n                    lineVisible:false\\n                }\\n            });\\n            layout.push({\\n                col_type:\\\"line_blank\\\"\\n            });\\n        } catch (e) {\\n            log(e.toString());\\n            setResult([{\\n                title: \\\"““””<strong>目录解析失败(重新解析)</strong>\\\".big(),\\n                col_type: \\\"text_center_1\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule((path) => {\\n                    deleteFile(path);\\n                    refreshPage();\\n                    return \\\"hiker://empty\\\";\\n                }, path+\\\".json\\\"),\\n                extra: {\\n                    lineVisible: false\\n                }\\n            }]);\\n            return;\\n        }\\n\\n    } else {\\n        showLoading(\\\"正在解析目录\\\");\\n        let txt = request(path, {\\n            headers: {\\n                //\\\"content-type\\\": \\\"text/plain; charst=\\\" + charst\\n            }\\n        });\\n        let pattern = regs.getTocRule(txt);\\n        if (!pattern) {\\n            hideLoading();\\n            setResult([{\\n                title: \\\"““””<strong>目录解析失败</strong>\\\".big(),\\n                col_type: \\\"text_center_1\\\",\\n                url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n                    back(false);\\n                    return \\\"hiker://empty\\\";\\n                }),\\n                extra: {\\n                    lineVisible: false\\n                }\\n            }]);\\n            return;\\n        }\\n        let matcher = pattern.matcher(txt);\\n        let pointer = 0;\\n        while (matcher.find()) {\\n            let start = matcher.start();\\n            let end = matcher.end();\\n            let t = matcher.group();\\n            if (pointer === 0 && start > 30) {\\n                hasPreface = true;\\n            }\\n            chapterNames.push(t);\\n            intervals.push([pointer, start]);\\n            pointer = end;\\n        }\\n        intervals.push([pointer, txt.length]);\\n        if (isCache) {\\n            writeFile(path + \\\".json\\\", JSON.stringify({\\n                chapterNames: chapterNames,\\n                intervals: intervals,\\n                hasPreface: hasPreface\\n            }));\\n        }\\n        hideLoading();\\n    }\\n\\n\\n    if (hasPreface) {\\n        let interval = intervals[0];\\n        layout.push({\\n            title: \\\"序言\\\",\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/TXTViewer.view#autoPage##readTheme#\\\",\\n            extra: {\\n                chapterName: \\\"序言\\\",\\n                start: interval[0],\\n                end: interval[1],\\n                path: path,\\n                charst: charst\\n            }\\n        });\\n    }\\n    for (let i = 0; i < chapterNames.length; i++) {\\n        let name = chapterNames[i];\\n        let interval = intervals[i + 1];\\n        layout.push({\\n            title: name,\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/TXTViewer.view#autoPage##readTheme#\\\",\\n            extra: {\\n                start: interval[0],\\n                end: interval[1],\\n                chapterName: name,\\n                path: path,\\n                charst: charst\\n            }\\n        });\\n    }\\n    setResult(layout);\\n})()\"},{\"col_type\":\"movie_3\",\"name\":\"#v.TXT查看器\",\"path\":\"TXTViewer.view\",\"rule\":\"js:\\nlet path = MY_PARAMS.path;\\nlet charst = MY_PARAMS.charst;\\nlet txt = request(path, {\\n    headers: {\\n       //\\\"content-type\\\": \\\"text/plain; charst=\\\" + charst\\n    }\\n});\\n\\nlet targetTexts = txt.substring(MY_PARAMS.start, MY_PARAMS.end);\\n\\nlet content = targetTexts.split(/(\\\\n|\\\\r)+/).filter(it => it.length > 1).join(\\\"<br>\\\");\\nlet layout = [];\\nlayout.push({\\n    col_type: \\\"rich_text\\\",\\n    title: (\\\"<strong>\\\" + MY_PARAMS.chapterName + \\\"</strong>\\\").big(),\\n});\\n\\nlayout.push({\\n    title: content,\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(layout);\"},{\"col_type\":\"movie_3\",\"name\":\"#j.章节正则\",\"path\":\"regularChapter.f\",\"rule\":\"js:\\nlet rules = [{\\n        \\\"id\\\": -1,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"目录(去空白)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和]))).{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 假装第一章前面有空白但我不要\\\",\\n        \\\"serialNumber\\\": 0\\n    },\\n    {\\n        \\\"id\\\": -2,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"目录\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|篇(?!张))).{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 标准的粤语就是这样\\\",\\n        \\\"serialNumber\\\": 1\\n    },\\n    {\\n        \\\"id\\\": -3,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"目录(匹配简介)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])(?:(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|回(?![合来事去])|场(?![和合比电是])|篇(?!张))).{0,30}$\\\",\\n        \\\"example\\\": \\\"简介 老夫诸葛村夫\\\",\\n        \\\"serialNumber\\\": 2\\n    },\\n    {\\n        \\\"id\\\": -4,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"目录(古典、轻小说备用)\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|第?\\\\\\\\s{0,4}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]+?\\\\\\\\s{0,4}(?:章|节(?!课)|卷|集(?![合和])|部(?![分赛游])|回(?![合来事去])|场(?![和合比电是])|话|篇(?!张))).{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 比上面只多了回和话\\\",\\n        \\\"serialNumber\\\": 3\\n    },\\n    {\\n        \\\"id\\\": -5,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"数字(纯数字标题)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])\\\\\\\\d+\\\\\\\\.?[ 　\\\\\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"12\\\",\\n        \\\"serialNumber\\\": 4\\n    },\\n    {\\n        \\\"id\\\": -6,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"大写数字(纯数字标题)\\\",\\n        \\\"rule\\\": \\\"(?<=[　\\\\\\\\s])[〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,12}[ 　\\\\\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"一百七十\\\",\\n        \\\"serialNumber\\\": 4\\n    },\\n    {\\n        \\\"id\\\": -7,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"数字 分隔符 标题名称\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}\\\\\\\\d{1,5}[:：,.， 、_—\\\\\\\\-].{1,30}$\\\",\\n        \\\"example\\\": \\\"1、这个就是标题\\\",\\n        \\\"serialNumber\\\": 5\\n    },\\n    {\\n        \\\"id\\\": -8,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"大写数字 分隔符 标题名称\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|[〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8})[ 、_—\\\\\\\\-].{1,30}$\\\",\\n        \\\"example\\\": \\\"一、只有前面的数字有差别\\\",\\n        \\\"serialNumber\\\": 6\\n    },\\n    {\\n        \\\"id\\\": -9,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"正文 标题/序号\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}正文[ 　]{1,4}.{0,20}$\\\",\\n        \\\"example\\\": \\\"正文 我奶常山赵子龙\\\",\\n        \\\"serialNumber\\\": 7\\n    },\\n    {\\n        \\\"id\\\": -10,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"Chapter/Section/Part/Episode 序号 标题\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:[Cc]hapter|[Ss]ection|[Pp]art|ＰＡＲＴ|[Nn][oO]\\\\\\\\.|[Ee]pisode|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)\\\\\\\\s{0,4}\\\\\\\\d{1,4}.{0,30}$\\\",\\n        \\\"example\\\": \\\"Chapter 1 MyGrandmaIsNB\\\",\\n        \\\"serialNumber\\\": 8\\n    },\\n    {\\n        \\\"id\\\": -11,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"Chapter(去简介)\\\",\\n        \\\"rule\\\": \\\"^[ 　\\\\\\\\t]{0,4}(?:[Cc]hapter|[Ss]ection|[Pp]art|ＰＡＲＴ|[Nn][Oo]\\\\\\\\.|[Ee]pisode)\\\\\\\\s{0,4}\\\\\\\\d{1,4}.{0,30}$\\\",\\n        \\\"example\\\": \\\"Chapter 1 MyGrandmaIsNB\\\",\\n        \\\"serialNumber\\\": 9\\n    },\\n    {\\n        \\\"id\\\": -12,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"特殊符号 序号 标题\\\",\\n        \\\"rule\\\": \\\"(?<=[\\\\\\\\s　])[【〔〖「『〈［\\\\\\\\[](?:第|[Cc]hapter)[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,10}[章节].{0,20}$\\\",\\n        \\\"example\\\": \\\"【第一章 后面的符号可以没有\\\",\\n        \\\"serialNumber\\\": 10\\n    },\\n    {\\n        \\\"id\\\": -13,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"特殊符号 标题(成对)\\\",\\n        \\\"rule\\\": \\\"(?<=[\\\\\\\\s　]{0,4})(?:[\\\\\\\\[〈「『〖〔《（【\\\\\\\\(].{1,30}[\\\\\\\\)】）》〕〗』」〉\\\\\\\\]]?|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)[ 　]{0,4}$\\\",\\n        \\\"example\\\": \\\"『加个直角引号更专业』\\\",\\n        \\\"serialNumber\\\": 11\\n    },\\n    {\\n        \\\"id\\\": -14,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"特殊符号 标题(单个)\\\",\\n        \\\"rule\\\": \\\"(?<=[\\\\\\\\s　]{0,4})(?:[☆★✦✧].{1,30}|(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外)[ 　]{0,4}$\\\",\\n        \\\"example\\\": \\\"☆、晋江作者最喜欢的格式\\\",\\n        \\\"serialNumber\\\": 12\\n    },\\n    {\\n        \\\"id\\\": -15,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"章/卷 序号 标题\\\",\\n        \\\"rule\\\": \\\"^[ \\\\\\\\t　]{0,4}(?:(?:内容|文章)?简介|文案|前言|序章|楔子|正文(?!完|结)|终章|后记|尾声|番外|[卷章][\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8})[ 　]{0,4}.{0,30}$\\\",\\n        \\\"example\\\": \\\"卷五 开源盛世\\\",\\n        \\\"serialNumber\\\": 13\\n    },\\n    {\\n        \\\"id\\\": -16,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"顶格标题\\\",\\n        \\\"rule\\\": \\\"^\\\\\\\\S.{1,20}$\\\",\\n        \\\"example\\\": \\\"不超过20个字顶格写的都是标题\\\",\\n        \\\"serialNumber\\\": 14\\n    },\\n    {\\n        \\\"id\\\": -17,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"双标题(前向)\\\",\\n        \\\"rule\\\": \\\"(?m)(?<=[ \\\\\\\\t　]{0,4})第[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$(?=[\\\\\\\\s　]{0,8}第[\\\\\\\\d零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章)\\\",\\n        \\\"example\\\": \\\"第一章 真正的标题并假装换行第一章 这个不要\\\",\\n        \\\"serialNumber\\\": 15\\n    },\\n    {\\n        \\\"id\\\": -18,\\n        \\\"enable\\\": false,\\n        \\\"name\\\": \\\"双标题(后向)\\\",\\n        \\\"rule\\\": \\\"(?m)(?<=[ \\\\\\\\t　]{0,4}第[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$[\\\\\\\\s　]{0,8})第[\\\\\\\\d零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}章.{0,30}$\\\",\\n        \\\"example\\\": \\\"第一章 这个标题不要并假装换行第一章真正的标题\\\",\\n        \\\"serialNumber\\\": 16\\n    },\\n    {\\n        \\\"id\\\": -19,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"书名 括号 序号\\\",\\n        \\\"rule\\\": \\\"^.{1,20}[(（][\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}[)）][ 　\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"标题后面数字有括号(12)\\\",\\n        \\\"serialNumber\\\": 17\\n    },\\n    {\\n        \\\"id\\\": -20,\\n        \\\"enable\\\": true,\\n        \\\"name\\\": \\\"书名 序号\\\",\\n        \\\"rule\\\": \\\"^.{1,20}[\\\\\\\\d〇零一二两三四五六七八九十百千万壹贰叁肆伍陆柒捌玖拾佰仟]{1,8}[ 　\\\\t]{0,4}$\\\",\\n        \\\"example\\\": \\\"标题后面数字没有括号124\\\",\\n        \\\"serialNumber\\\": 18\\n    }\\n];\\nlet Matcher = java.util.regex.Matcher;\\nlet Pattern = java.util.regex.Pattern;\\n\\nfunction getTocRule(content) {\\n    let maxCs = 1;\\n    let tocPattern = null;\\n    for (let tocRule of rules) {\\n        if (!tocRule.enable) continue;\\n        let pattern = Pattern.compile(tocRule.rule, Pattern.MULTILINE);\\n        let matcher = pattern.matcher(content);\\n        let cs = 0;\\n        while (matcher.find()) {\\n            cs++;\\n        }\\n        if (cs >= maxCs) {\\n            maxCs = cs;\\n            tocPattern = pattern;\\n        }\\n    }\\n    return tocPattern;\\n}\\n$.exports.getTocRule = getTocRule;\"},{\"col_type\":\"movie_3\",\"name\":\"#V.帮助\",\"path\":\"help.view\",\"rule\":\"js:\\nlet helpText = {\\n    \\\"txt\\\": `\\n        <h1 id=\\\"txt是什么\\\">TXT是什么?</h1>\\n        <p><a href=\\\"https://baike.baidu.com/item/txt/1217330\\\">我已经帮你百度了</a>；简单来说就是一种储存小说的文件(扩展名:txt)。</p>\\n        <h1 id=\\\"如何用该小程序阅读txt小说\\\">如何用该小程序阅读txt小说?</h1>\\n        <p>在主页面 ◉TXT 界面下，点击导入TXT，选择目标小说文件(txt文件，<em>该操作不会删除txt文件，而是copy一份到小程序的路径下</em>)，导入后再在 ◉TXT 界面下选择想要阅读的小说即可。</p>\\n\\n    `,\\n    \\\"novelComic\\\": `\\n        <h1 id=\\\"这个小程序有什么用？\\\">这个小程序有什么用？</h1>\\n        <ul>\\n        <li><u>代码上为其他小程序(漫画类/小说类)提供下载接口。</u></li>\\n        <li><u>本体充当阅读器，可以浏览用该小程序提供的下载接口(上面)，下载的漫画/小说。</u></li>\\n        <li><u>提供TXT格式小说文件解析功能。</u>\\n        <h1 id=\\\"为什么列表里什么都没用\\\">为什么列表里什么都没用?</h1>\\n        <u>初次使用，没有很正常吧。🤔</u>\\n        <h1 id=\\\"该如何添加漫画或小说\\\">该如何添加漫画(或小说)?</h1>\\n        <u> 在一个有下载功能的小程序(漫画类/小说类)中下载一本漫画/小说，返回该规则即可浏览。</u></li>\\n        </ul>\\n    `\\n};\\nsetPageTitle(\\\"帮助\\\");\\nlet keyword = getParam(\\\"keyword\\\");\\nlet text;\\nif (keyword === undefined || !(text = helpText[keyword])) {\\n    setResult([{\\n        title: '<h1 style=\\\"text-align: center;\\\">资料不见咯</h1>',\\n        col_type: \\\"rich_text\\\"\\n    }]);\\n} else {\\n    setResult([{\\n        title: text,\\n        col_type: \\\"rich_text\\\"\\n    }]);\\n}\"},{\"col_type\":\"text_1\",\"name\":\"#v.TXT搜索\",\"path\":\"txtSearch.view\",\"rule\":\"js:\\nconst File = $.require(\\\"hiker://page/File.js\\\");\\nconst Config = $.require(\\\"hiker://page/Config.json\\\");\\n\\nlet searchTerms = decodeURIComponent(getParam(\\\"searchTerms\\\"));\\nsetPageTitle(\\\"「\\\" + searchTerms + \\\"」的搜索结果\\\");\\nlet data = File.getFilePath(Config.externalImportPath, undefined, \\\".txt\\\");\\nlet termsArr = searchTerms.split(\\\"\\\").map(t => t.replace(/\\\\*|\\\\.|\\\\?|\\\\+|\\\\$|\\\\^|\\\\[|\\\\]|\\\\(|\\\\)|\\\\{|\\\\}|\\\\||\\\\/|\\\\\\\\/g, k => \\\"\\\\\\\\\\\" + k));\\nlet reg = new RegExp(termsArr.join(\\\".*\\\"), \\\"i\\\");\\nlet searchResult = [];\\nfor (let txt of data) {\\n    if (reg.test(txt.name)) {\\n        searchResult.push({\\n            title: txt.name,\\n            url: \\\"hiker://page/txtParser.view\\\",\\n            desc: txt.path,\\n            extra: {\\n                path: txt.path,\\n                isCache: true,\\n                title: txt.name\\n            }\\n        });\\n    }\\n}\\nif (searchResult.length === 0) {\\n    searchResult.push({\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        col_type:\\\"big_big_blank_block\\\",\\n    },{\\n        title: '<h2 style=\\\"text-align: center;\\\">🔎没有找到相关书籍</h2>',\\n        col_type: \\\"rich_text\\\"\\n    });\\n}\\nsetResult(searchResult);\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/q/58.png"},{"last_chapter_rule":"","title":"期刊杂志demo","author":"Joker","version":6,"type":"read","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\nlet now = getItem('now', '推荐期刊');\nif (MY_PAGE == 1) {\n    let arr = ['推荐期刊', '热门期刊', '直播', '收藏'];\n    for (let it of arr) {\n        d.push({\n            title: now == it ? '““””' + it.fontcolor('red') : it,\n            col_type: 'scroll_button',\n            url: $('#noLoading#').lazyRule((it) => {\n                setItem(\"now\", it);\n                refreshPage();\n                return 'hiker://empty';\n            }, it)\n        })\n    }\n    d.push({\n        title: '规则设置',\n        col_type: 'scroll_button',\n        url: 'hiker://page/setting'\n    });\n}\nif (now == '直播') {\n    eval(JSON.parse(fetch(\"hiker://page/getHeaders\")).rule);\n    let zb_list = JSON.parse(request(\"https://api.lifves.com/magazine/source\", {\n            headers: headers\n        })).data_list.live_source_list,\n        select_list = zb_list.select_list,\n        source_list = zb_list.source_list,\n        select_zb = getItem('select_zb', select_list[0].value);\n    if (MY_PAGE == 1) {\n        d.push({\n            col_type: \"blank_block\"\n        });\n        for (let obj of select_list) {\n            d.push({\n                title: obj.value == select_zb ? '““””' + obj.label.fontcolor('red') : obj.label,\n                url: $('#noLoading#').lazyRule((e) => {\n                    setItem('select_zb', e);\n                    refreshPage();\n                    return 'hiker://empty'\n                }, obj.value),\n                col_type: \"scroll_button\"\n            });\n        }\n        for (let it of source_list[select_zb].list) {\n            d.push({\n                title: it.title,\n                url: $().lazyRule((tag) => {\n                    eval(JSON.parse(fetch(\"hiker://page/getHeaders\")).rule);\n                    let list = JSON.parse(request('http://api.lifves.com/video/getLiveSourceLink?tag=' + tag, {\n                            headers: headers\n                        })).data_list,\n                        urls = list.map(v => v.href);\n                    return JSON.stringify({\n                        urls: urls\n                    });\n                }, it.tag),\n                col_type: \"icon_4_card\",\n                desc: it.sub_title,\n                pic_url: it.img\n            });\n        }\n    }\n} else if (now == '推荐期刊' || now == '热门期刊') {\n    eval(JSON.parse(fetch(\"hiker://page/getHeaders\")).rule);\n    let category_id = now == \"推荐期刊\" ? 0 : 1,\n        qk_list = JSON.parse(request(\"https://api.lifves.com/magazine/more?category_id=\" + category_id + \"&page=\" + MY_PAGE, {\n            headers: headers\n        })).data_list;\n    for (let i in qk_list) {\n        let it = qk_list[i];\n        d.push({\n            title: it.title,\n            desc: it.qishu,\n            img: it.img,\n            col_type: 'movie_3',\n            url: 'hiker://page/catalogue#immersiveTheme#',\n            extra: {\n                href: 'https://api.lifves.com/magazine/book?mag_id=' + it.mag_id + '&qishu=' + it.qishu,\n            }\n        });\n    }\n} else if (now == '收藏') {\n    if (MY_PAGE == 1) {\n        let collection = JSON.parse(readFile('collection') || '{}');\n        for (let i in collection) {\n            let it = collection[i];\n            d.push({\n                title: i,\n                col_type: 'movie_3',\n                img: it.img,\n                url: 'hiker://page/history',\n                extra: {\n                    href: it.url,\n                    title: i,\n                    img: it.img\n                }\n            })\n        }\n    }\n}\nsetResult(d);","searchFind":"js:\nlet d = [];\neval(JSON.parse(fetch(\"hiker://page/getHeaders\")).rule);\nlet qk_list = JSON.parse(request(\"https://api.lifves.com/magazine/search?keyword=\" + MY_URL.split(\"##\")[1], {\n    headers: headers\n})).data_list;\nfor (let i in qk_list) {\n    let it = qk_list[i];\n    d.push({\n        title: it.title,\n        desc: it.qishu,\n        img: it.img,\n        col_type: 'movie_3',\n        url: 'hiker://page/catalogue#immersiveTheme#',\n        extra: {\n            href: 'https://api.lifves.com/magazine/book?mag_id=' + it.mag_id + '&qishu=' + it.qishu,\n        }\n    });\n}\nsetResult(d);","search_url":"hiker://empty##**","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"目录\",\"path\":\"catalogue\",\"rule\":\"js:\\neval(JSON.parse(fetch(\\\"hiker://page/getHeaders\\\")).rule);\\nlet readTheme = getItem('readTheme', 'false') == 'true' ? '#readTheme#' : '',\\n    fullTheme = getItem('fullTheme', 'true') == 'true' ? '#fullTheme#' : '',\\n    url = MY_PARAMS.href,\\n    data_list = JSON.parse(request(url, {\\n        headers: headers\\n    })).data_list;\\n\\nlet d = [];\\nd.push({\\n    title: data_list.title + \\\"\\\\n\\\" + data_list.qishu,\\n    desc: \\\"““””\\\" + \\\"点我查看往期期刊\\\".bold().big(),\\n    img: data_list.img,\\n    col_type: 'movie_1_vertical_pic_blur',\\n    url: \\\"hiker://page/history\\\",\\n    extra: {\\n        href: \\\"https://api.lifves.com/magazine/history?mag_id=\\\" + data_list.mag_id,\\n        title: data_list.title,\\n        img: data_list.img\\n    }\\n})\\nd.push({\\n    title: '目录'.big().bold(),\\n    col_type: 'rich_text'\\n})\\n\\nlet stroge = {};\\nfor (let i in data_list.ml) {\\n    let list = data_list.ml[i].list;\\n    for (let j in list) {\\n        stroge[list[j].title] = \\\"https://api.lifves.com/magazine/read?read_id=\\\" + list[j].read_id;\\n    }\\n}\\nsaveFile('stroge', JSON.stringify(stroge));\\nlet star = Object.keys(stroge);\\n\\nfor (let i in data_list.ml) {\\n    let item = data_list.ml[i];\\n    d.push({\\n        title: '““””<strong>▶' + item.title + '</strong>',\\n        col_type: 'text_1',\\n        url: \\\"hiker://empty\\\",\\n        extra: {\\n            lineVisible: false\\n        }\\n    })\\n\\n    item.list.forEach(e => {\\n        let index = star.indexOf(e.title);\\n        d.push({\\n            title: '““””&nbsp;&nbsp;&nbsp;&nbsp;•' + e.title,\\n            col_type: 'text_1',\\n            url: 'hiker://page/text' + fullTheme + readTheme,\\n            extra: {\\n                lineVisible: false,\\n                href: \\\"https://api.lifves.com/magazine/read?read_id=\\\" + e.read_id,\\n                index: index\\n            }\\n        })\\n    })\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"获取请求头\",\"path\":\"getHeaders\",\"rule\":\" function random_char(t) {\\n     for (var n = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'], i = '', e = 0; e < t; e++) {\\n         var o = Math.ceil(35 * Math.random())\\n         i += n[o]\\n     }\\n     return i\\n }\\n\\n function getSecretdate() {\\n     var t = parseInt((new Date()).getTime() / 1e3)\\n     var n = random_char(32)\\n     var i = 'timestamp=' + t + '&nonce=' + n\\n     return i\\n }\\n\\n\\n var secretdate = getSecretdate()\\n var secreted = md5(secretdate + 'apilifves5201314')\\n\\n var headers = {\\n     'Secret-Date': secretdate,\\n     'Secreted': secreted,\\n     \\\"Content-Type\\\": \\\"application/json;charset=utf-8\\\"\\n }\"},{\"col_type\":\"movie_3\",\"name\":\"往期期刊\",\"path\":\"history\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"year\\\")');\\neval(JSON.parse(fetch(\\\"hiker://page/getHeaders\\\")).rule);\\nlet d = [],\\n    {\\n        href: url,\\n        title: name,\\n        img\\n    } = MY_PARAMS,\\n    collection = JSON.parse(readFile('collection') || '{}'),\\n    isCollected = !!(collection[name] && collection[name].url == url),\\n    data_list = JSON.parse(request(url, {\\n        headers: headers\\n    })).data_list;\\nsetPageTitle(name);\\nsetLastChapterRule('js:' + $.toString(() => {\\n    eval(JSON.parse(fetch(\\\"hiker://page/getHeaders\\\")).rule);\\n    let url = MY_PARAMS.href,\\n        data_list = JSON.parse(request(url, {\\n            headers: headers\\n        })).data_list,\\n        data = data_list[0].data[0].qishu;\\n    setResult('最新：' + data);\\n}));\\nd.push({\\n    title: isCollected ? '♥已收藏' : '♡添加收藏',\\n    url: $().lazyRule((is, url, name, img) => {\\n        let collection = JSON.parse(readFile('collection') || '{}');\\n        if (is) {\\n            delete collection[name];\\n            saveFile('collection', JSON.stringify(collection));\\n            refreshPage();\\n            return 'toast://已取消收藏'\\n        } else {\\n            collection[name] = {\\n                url: url,\\n                img: img\\n            };\\n            saveFile('collection', JSON.stringify(collection));\\n            refreshPage();\\n            return 'toast://已添加收藏'\\n        }\\n    }, isCollected, url, name, img),\\n    col_type: \\\"scroll_button\\\",\\n});\\n\\nlet data = {},\\n    now = getVar('year', String(data_list[0].year));\\nfor (let list of data_list) {\\n    if (now == list.year) data = list.data;\\n    d.push({\\n        title: '““””' + (list.year == now ? '<font color=red>' + list.year + '</font>' : list.year),\\n        col_type: 'scroll_button',\\n        url: $().lazyRule((year) => {\\n            putVar('year', String(year));\\n            refreshPage();\\n            return 'hiker://empty'\\n        }, list.year)\\n    });\\n}\\nfor (let item of data) {\\n    d.push({\\n        title: item.qishu,\\n        url: 'hiker://page/catalogue#immersiveTheme#',\\n        img: item.img,\\n        extra: {\\n            href: \\\"https://api.lifves.com/magazine/book?mag_id=\\\" + item.mag_id + \\\"&qishu=\\\" + item.qishu\\n        }\\n    });\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"文章\",\"path\":\"text\",\"rule\":\"js:\\naddListener('onClose', $.toString(() => {\\n    clearVar('texthref');\\n    clearVar('texttitle');\\n    clearVar('textindex');\\n}));\\nlet click = getItem('click', 'true'),\\n    fontsize = parseInt(getItem('fontsize', String(17))),\\n    indent = parseInt(getItem('indent', String(7))),\\n    indents = '';\\nfor (let i = 0; i < indent; i++) {\\n    indents += '&nbsp;';\\n}\\nlet stroge = JSON.parse(readFile('stroge')),\\n    star = Object.keys(stroge);\\n\\neval(JSON.parse(fetch(\\\"hiker://page/getHeaders\\\")).rule);\\nlet index = parseInt(getVar('textindex') || MY_PARAMS.index),\\n    href = getVar('texthref', '') || MY_PARAMS.href,\\n    data_list = JSON.parse(request(href, {\\n        headers: headers\\n    })).data_list;\\n\\nlet d = [];\\nd.push({\\n    title: '““””<h2>' + data_list.title + '</h2>',\\n    col_type: 'text_center_1',\\n    url: \\\"http://qk.demo.lifves.com/book/read/\\\" + data_list.mag_id + \\\"/\\\" + data_list.qishu + \\\"/\\\" + data_list.read_id,\\n    extra: {\\n        lineVisible: false\\n    }\\n}, {\\n    title: data_list.content.replace(/\\\\>[a-zA-Z0-9+=\\\\-\\\\/]*\\\\</g, '><').replace(/(\\\\<p\\\\>\\\\s*)+\\\\</g,'<').replace(/\\\\<p\\\\>/g, '<p>' + indents),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: fontsize,\\n        click: click\\n    }\\n})\\nif (index != 0) {\\n    let title = star[index - 1];\\n    let href = stroge[title];\\n    d.push({\\n        title: '上一篇:' + title,\\n        col_type: 'text_center_1',\\n        url: $('hiker://empty#noLoading#').lazyRule((href, title, index) => {\\n            putVar('texthref', href);\\n            putVar('texttitle', title);\\n            putVar('textindex', String(index - 1));\\n            refreshPage();\\n            return 'hiker://empty'\\n        }, href, title, index),\\n        extra: {\\n            href: href,\\n            lineVisible: false\\n        }\\n    })\\n}\\nif (index != star.index) {\\n    let title = star[index + 1];\\n    let href = stroge[title];\\n    d.push({\\n        title: '下一篇:' + title,\\n        col_type: 'text_center_1',\\n        url: $('hiker://empty#noLoading#').lazyRule((href, title, index) => {\\n            putVar('texthref', href);\\n            putVar('texttitle', title);\\n            putVar('textindex', String(index + 1));\\n            refreshPage();\\n            return 'hiker://empty'\\n        }, href, title, index),\\n        extra: {\\n            href: href,\\n            lineVisible: false\\n        }\\n    })\\n}\\nfor (let i = 0; i < 10; i++) {\\n    d.push({\\n        col_type: 'blank_block'\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"设置页\",\"path\":\"setting\",\"rule\":\"js:\\nlet d = [];\\nlet fontsize = parseInt(getItem('fontsize', String(17)));\\nlet indent = parseInt(getItem('indent', String(7)));\\nlet indents = '';\\nfor (let i = 0; i < indent; i++) {\\n    indents += '&nbsp;';\\n}\\nlet readTheme = getItem('readTheme','false');\\nlet fullTheme = getItem('fullTheme', 'true');\\nlet click = getItem('click', 'true');\\n\\nd.push({\\n    title: '阅读模式' + (readTheme == 'true' ? '✔' : '✘'),\\n    col_type: 'text_3',\\n    url: readTheme == 'true' ? $('hiker://empty#noLoading#').lazyRule(() => {\\n        setItem('readTheme', 'false');\\n        refreshPage();\\n        return 'hiker://empty';\\n    }) :$('注意：开启阅读模式后,全屏模式设置和字号设置将不起作用！').confirm(() => {\\n        setItem('readTheme', 'true');\\n        refreshPage();\\n        return 'hiker://empty';\\n    })\\n})\\nd.push({\\n    title: '全屏模式' + (fullTheme == 'true' ? '✔' : '✘'),\\n    col_type: 'text_3',\\n    url: $('hiker://empty#noLoading#').lazyRule((i) => {\\n        setItem('fullTheme', i == 'true' ? 'false' : 'true');\\n        refreshPage();\\n        return 'hiker://empty';\\n    }, fullTheme)\\n})\\nd.push({\\n    title: '点击翻页' + (click == 'true' ? '✔' : '✘'),\\n    col_type: 'text_3',\\n    url: $('hiker://empty#noLoading#').lazyRule((i) => {\\n        setItem('click', i == 'true' ? 'false' : 'true');\\n        refreshPage();\\n        return 'hiker://empty';\\n    }, click)\\n})\\n\\nd.push({\\n    title: '调整字号'.big().bold(),\\n    col_type: 'rich_text'\\n})\\nd.push({\\n    title: '字号➕',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('fontsize', String(s + 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, fontsize)\\n}, {\\n    title: '字号➖',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('fontsize', String(s - 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, fontsize)\\n})\\n\\nd.push({\\n    col_type: 'line'\\n})\\n\\nd.push({\\n    title: '调整缩进'.big().bold(),\\n    col_type: 'rich_text'\\n})\\nd.push({\\n    title: '缩进➕',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('indent', String(s + 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, indent)\\n}, {\\n    title: '缩进➖',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('indent', String(s - 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, indent)\\n})\\n\\nd.push({\\n    col_type: 'line'\\n})\\n\\nd.push({\\n    title: '预览'.big() + '(字号:' + fontsize + ',缩进:' + indent + ')',\\n    col_type: 'rich_text'\\n}, {\\n    title: '<p>小棉袄帅吗?</p><p>小棉袄怎么这么帅？</p><p>小棉袄真是超超超超超超超超级帅!!!!帅炸了好不好？举世颜无双!!!!</p>'.replace(/\\\\<p\\\\>/g, '<p>' + indents),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: fontsize\\n    }\\n})\\nsetResult(d);\"}]","proxy":"","icon":"http://qk.demo.lifves.com/favicon.ico"},{"last_chapter_rule":"","title":"海壳=>嗅觉","author":"小棉袄🌞&永远の明日","version":2,"type":"tool","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nfunction converter(title) {\n    eval(JSON.parse(fetch('hiker://page/convertFunc')).rule)\n    let rule = JSON.parse(fetch('hiker://home@' + title)),\n        pageList = JSON.parse(rule.pages)\n    pageList.push({\n        name: '海壳数据',\n        path: 'hiker_cs_data',\n        rule: JSON.stringify({\n            url: rule.url,\n            search_url: rule.search_url,\n            class_name: rule.class_name,\n            class_url: rule.class_url,\n            area_name: rule.area_name,\n            area_url: rule.area_url,\n            year_name: rule.year_name,\n            year_url: rule.year_url,\n            sort_name: rule.sort_name,\n            sort_url: rule.sort_url,\n            searchFind: rule.searchFind,\n            sdetail_find_rule: rule.sdetail_find_rule,\n            sdetail_col_type: rule.sdetail_col_type\n        })\n    })\n    let r = {\n            title: rule.title,\n            url: convertUrl(rule.url),\n            find_rule: convertRule(rule.find_rule),\n            col_type: rule.col_type,\n            // interceptor: ru.searchFind && ru.search_url,\n            detail_find_rule: rule.detail_find_rule,\n            detail_col_type: rule.detail_col_type,\n            ua: rule.ua,\n            preRule: rule.preRule,\n            pages: JSON.stringify(pageList),\n        },\n        clipboard = getItem('clipboard', '不使用'),\n        share = '海阔视界￥home_rule_v2￥base64://@@' + base64Encode(JSON.stringify(r))\n    if (clipboard != '不使用')\n        share = sharePaste(share, clipboard) + '\\n\\n小程序：' + title\n    return 'copy://' + share\n}\nsetResult([{\n    desc: '搜索小程序，点击生成分享口令',\n    col_type: 'input',\n    extra: {\n        id: 'searchBar',\n        onChange: $.toString((converter) => {\n            if (input) {\n                putMyVar('title', input)\n                input = input.toLowerCase()\n                let rules = JSON.parse(fetch('hiker://home'))\n                    .filter((v) => v.title && v.title.toLowerCase().includes(input) ||\n                        v.url && v.url.toLowerCase().includes(input))\n                    .map((v) => ({\n                        title: v.title,\n                        url: $('#noLoading#').lazyRule((converter, title) => {\n                            let his = storage0.getItem('history', []),\n                                i = his.indexOf(title)\n                            if (i > -1) his.splice(i, 1)\n                            his.unshift(title)\n                            if (his.length > 15) his.pop()\n                            storage0.setItem('history', his)\n                            return converter(title)\n                        }, converter, v.title),\n                        col_type: 'text_3',\n                        extra: {\n                            cls: 'list'\n                        }\n                    }))\n                deleteItemByCls('list')\n                addItemAfter('searchBar', rules)\n            } else {\n                clearMyVar('title')\n                deleteItemByCls('list')\n                addItemAfter('searchBar', storage0.getItem('history', []).map((v) => ({\n                    title: v,\n                    url: $('#noLoading#').lazyRule((converter, t) => converter(t), converter, v),\n                    col_type: 'text_3',\n                    extra: {\n                        cls: 'list'\n                    }\n                })))\n            }\n        }, converter),\n        titleVisible: false,\n        textSize: 13,\n        defaultValue: getMyVar('title', ''),\n    },\n}, {\n    col_type: 'big_big_blank_block'\n}, {\n    title: '清空历史',\n    url: $('确认清空历史记录').confirm(() => {\n        clearItem('history')\n        refreshPage(false)\n    }),\n    col_type: 'text_2',\n}, {\n    title: '云剪贴板: ' + getItem('clipboard', '不使用'),\n    url: $(['不使用'].concat(getPastes()), 1, '分享时使用云剪切板').select(() => {\n        setItem('clipboard', input)\n        refreshPage(false)\n    }),\n    col_type: 'text_2',\n}, {\n    title: `　　本规则会对原小程序添加一层外壳，将分类及搜索转换为首页内置，不再依赖海阔原生功能，从而兼容嗅觉浏览器。\n　　在海阔视界里面创建规则，解析规则对应嗅觉小程序的rule，链接对应url，名称对应title，ua对应ua，子页面对应子页面，二级对应详情页，预处理对应预处理，分类及搜索转至hiker_cs_data子页面，根据这个对应关系，可以快速在海阔视界编辑规则，然后转换后导入给嗅觉浏览器。\n!!! 注意 !!!\n　　转换后小程序会使用hiker_cs_data子页面，所以不要在原小程序中使用同路径的子页面。\n　　海阔视界和嗅觉浏览器都可以检测到新生成的口令，要谨慎导入海阔，会覆盖同名的原规则。\n　　部分小程序会有依赖小程序或文件，可能使导入嗅觉浏览器后无法使用，这种情况请自行解决。`,\n    col_type: 'long_text',\n    extra: {\n        textSize: 16\n    }\n}])","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"首页代码\",\"path\":\"indexCode\",\"rule\":\"js:\\n// 头部分类构造器\\nfunction hiker_ClassHeader(classArray) {\\n    this.arr = classArray.map(v => this.init(v))\\n    this.color = '#12b668'\\n    this.boundary = 'blank_block'\\n}\\nhiker_ClassHeader.prototype = {\\n    constructor: hiker_ClassHeader,\\n    load(el) {\\n        this.arr.forEach((v) => {\\n            let {\\n                id,\\n                class_name,\\n                class_url\\n            } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({\\n                        name: name,\\n                        url: url\\n                    })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((id, now) => {\\n                        putMyVar('$hikerClassHeader_' + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({\\n                col_type: this.boundary\\n            })\\n        })\\n    },\\n    init(classObject) {\\n        classObject.class_name = classObject.class_name.split('&')\\n        classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : {\\n            name: 'cannot find id: ' + id + ' in hikerClassHeader',\\n            url: ''\\n        })\\n        return JSON.parse(getMyVar('$hikerClassHeader_' + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 运行链接.js:\\nfunction hiker_runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) {\\n        return rule\\n    }\\n}\\n// 定义变量\\nconst hiker_RULE = JSON.parse(JSON.parse(fetch('hiker://page/hiker_cs_data')).rule),\\n    hiker_pageNum = parseInt(MY_URL.split('##')[2]),\\n    hiker_fyAll = hiker_RULE.url.includes('fyAll')\\nlet hiker_el = [],\\n    hiker_URL = hiker_RULE.url.split(';'),\\n    hikerHTML = '',\\n    hiker_classHeader = []\\n// 头部分类实例\\nif (hiker_RULE.class_name) hiker_classHeader.push({\\n    id: hiker_fyAll ? 'fyAll' : 'fyclass',\\n    class_name: hiker_RULE.class_name,\\n    class_url: hiker_RULE.class_url\\n})\\nif (hiker_RULE.area_name) hiker_classHeader.push({\\n    id: hiker_fyAll ? 'fyAll' : 'fyarea',\\n    class_name: hiker_RULE.area_name,\\n    class_url: hiker_RULE.area_url\\n})\\nif (hiker_RULE.year_name) hiker_classHeader.push({\\n    id: hiker_fyAll ? 'fyAll' : 'fyyear',\\n    class_name: hiker_RULE.year_name,\\n    class_url: hiker_RULE.year_url\\n})\\nif (hiker_RULE.sort_name) hiker_classHeader.push({\\n    id: hiker_fyAll ? 'fyAll' : 'fysort',\\n    class_name: hiker_RULE.sort_name,\\n    class_url: hiker_RULE.sort_url\\n})\\nhiker_classHeader = new hiker_ClassHeader(hiker_classHeader)\\n// 处理MY_URL\\nMY_URL = hiker_URL.shift()\\nMY_URL = hiker_classHeader.setUrl(hiker_fyAll ?\\n        MY_URL.replace(/fyAll/g, '$${fyAll}') :\\n        MY_URL.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    .replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g,\\n        (_, start, space) => parseInt(start || 0) + 1 + (hiker_pageNum - 1) * parseInt(space || 1))\\nMY_URL = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(MY_URL)\\nif (hiker_pageNum == 1 && MY_URL[2]) MY_URL[1] = MY_URL[2]\\nif (MY_URL[3] && !MY_URL[1].includes('.js:')) MY_URL[1] += MY_URL[3]\\nMY_URL = hiker_runCode(MY_URL[1])\\n// 处理MY_URL参数并获取HTML\\nhiker_URL = {\\n    method: hiker_URL[0] || 'get',\\n    headers: {\\n        'Content-Type': hiker_URL[1] ? 'text/plain;charst=' + hiker_URL[1] : null\\n    },\\n    headerStr: hiker_URL[2]\\n}\\nif (/^post$/i.test(hiker_URL.method)) {\\n    let [url, body] = MY_URL.split('?')\\n    MY_URL = url.replace(/\\\\？\\\\？/g, '?')\\n    if (body.startsWith('JsonBody=')) body = body.slice(9)\\n    hiker_URL.body = body\\n}\\nif (hiker_URL.headerStr) hiker_URL.headerStr.match(/{(.*)}/)[1]\\n    .split('&&').forEach((v) => {\\n        let [key, value] = v.split('@')\\n        hiker_URL.headers[key] = hiker_runCode(value)\\n    })\\ndelete hiker_URL.headerStr\\nif (!hiker_URL.headers['User-Agent']) {\\n    if (MY_RULE.ua == 'pc')\\n        hiker_URL.headers['User-Agent'] = PC_UA\\n    else if (MY_RULE.ua == 'mobile')\\n        hiker_URL.headers['User-Agent'] = MOBILE_UA\\n}\\nhikerHTML = fetch(MY_URL, hiker_URL)\\n// 劫持内置变量\\ngetResCode = () => hikerHTML\\nMY_RULE.class_url = hiker_classHeader.getClass(hiker_fyAll ? 'fyAll' : 'fyclass').url\\nMY_RULE.area_url = hiker_fyAll ? MY_RULE.class_url : hiker_classHeader.getClass('fyarea').url\\nMY_RULE.year_url = hiker_fyAll ? MY_RULE.class_url : hiker_classHeader.getClass('fyyear').url\\nMY_RULE.sort_url = hiker_fyAll ? MY_RULE.class_url : hiker_classHeader.getClass('fysort').url\\n// 生成头部分类及搜索功能\\nif (MY_PAGE == 1) {\\n    hiker_classHeader.load(hiker_el)\\n    if (hiker_RULE.search_url) hiker_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        extra: {\\n            rules: $.toString(() => {\\n                let rule = JSON.parse(fetch('hiker://home')).find((v) => v.title == MY_RULE.title),\\n                    exRule = JSON.parse(JSON.parse(fetch('hiker://page/hiker_cs_data')).rule)\\n                if (rule.nextRule) {\\n                    rule.detail_find_rule = rule.nextRule\\n                    rule.detail_col_type = rule.nextColType\\n                }\\n                return JSON.stringify([Object.assign(rule, exRule)])\\n            }),\\n            defaultValue: getMyVar('hiker_searchKey', ''),\\n            onChange: \\\"putMyVar('hiker_searchKey',input)\\\"\\n        },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 劫持setResult\\nsetResult = function(el, param1, param2, param3) {\\n    param1 = CALLBACK_KEY\\n    param2 = MY_RULE\\n    param3 = MY_TYPE\\n    if (Array.isArray(el.data)) el = el.data\\n    el = hiker_el.concat(el)\\n    method_setResult.invoke(javaContext, el, param1, param2, param3)\\n}\\nsetHomeResult = setResult\\nsetSearchResult = setResult; // 原代码\"},{\"col_type\":\"movie_3\",\"name\":\"转换函数\",\"path\":\"convertFunc\",\"rule\":\"function convertUrl(url) {\\n    url = url.split(';')\\n    let fypage = url[0].includes('fypage') ? 'fypage' : '1',\\n        domain = (/^(?:hiker:\\\\/\\\\/empty#*?)?(https?:\\\\/\\\\/.+?)(?:#|\\\\?|\\\\/|$)/i.exec(url[0]) || [, ''])[1]\\n    url[0] = 'hiker://empty##' + domain + '/##' + fypage\\n    return  url.join(';')\\n}\\nfunction convertRule(code) {\\n    const preCode = JSON.parse(fetch('hiker://page/indexCode')).rule\\n    if (code.startsWith('js:')) {\\n        code = preCode + code.slice(3)\\n    } else {\\n        code = preCode + 'let code=`' + code + '`;\\\\n' +\\n            `code = code.split(';')\\nsetResult(parseDomForArray(getResCode(), code.shift()).map((data) => {\\n    let [title, img, desc, url] = code.map((v, i) => {\\n        try {\\n            if (v == '*') return ''\\n            else v = (i == 1 || i == 3) ?\\n                parseDom(data, v) :\\n                parseDomForHtml(data, v)\\n            if (i != 3) v = hiker_runCode(v)\\n            return v\\n        } catch (e) { return '' }\\n    })\\n    return { title: title, url: url, desc: desc, img: img }\\n}))`\\n    }\\n    return code\\n}\\n\"}]","proxy":"","icon":"https://s1.ax1x.com/2022/08/16/vwGvTO.png"},{"last_chapter_rule":"","title":"游戏集𝔥","author":"小棉袄🌞&小🔥星&鬼四&爱是用心&Joker&Hood","version":5,"type":"other","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html = getResCode();\n\nd.push({\n    title: \"更新数据\",\n    pic_url: \"https://lanmeiguojiang.com/tubiao/movie/38.svg\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        confirm({\n            title: \" 确认更新数据？\",\n            content: \"这会覆盖本地文件\",\n            confirm: `eval(JSON.parse(fetch('hiker://page/update')).rule);refreshPage();'toast://数据已更新'`,\n            cancel: ''\n        });\n        return 'hiker://empty'\n    }),\n    col_type: 'avatar'\n});\n\n//列表\neval(fetch(\"hiker://files/rules/Hood/yxj.json\"));\n\nfor(var i in list){\n    let picurl = list[i].split(\",\")[2];\n    if(!picurl) picurl = \"https://lanmeiguojiang.com/tubiao/ke/58.png\";\n    d.push({\n        title: list[i].split(\",\")[0],\n        pic_url: picurl + \"@Referer=\",\n        url: list[i].split(\",\")[1] + \"#gameTheme#\"\n    });\n}\n\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"js:\nsetResult([{\n    col_type: 'x5_webview_single',\n    url: MY_URL,\n    desc: \"auto&&float\",\n    extra: {\n        canBack: true\n    }\n}])","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"//自动更新？1启用, 0关闭\nvar update = 0;\n\n//更新间隔, 单位为天\nvar uptime = 3;\n\nvar local = \"hiker://files/rules/Hood/yxj.json\";\nvar date_txt = \"hiker://files/cache/update/yxj.txt\";\n\n//计算时间间隔\nvar start = new Date(fetch(date_txt)); \nvar now = new Date(); \nvar D_T = now.getTime() - start.getTime(); \nvar D_D = D_T / (1000 * 3600 * 24);\nvar mytime=parseInt(D_D)+'';\n\nif(!fetch(date_txt) || !fetch(local) || (update==1&&mytime>=uptime)){\n    try{\n        var cloud = base64Decode(fetch(\"https://ghproxy.com/https://raw.githubusercontent.com/xixifree/Hiker/main/yxj.json\",{}));\n        if(cloud.includes(\"合集\")){\n            writeFile(local,cloud);\n            writeFile(date_txt,new Date()+'');\n        }\n    }catch(e){}\n}","pages":"[{\"col_type\":\"movie_3\",\"name\":\"更新数据\",\"path\":\"update\",\"rule\":\"var cloud = base64Decode(fetchCache(\\\"https://ghproxy.com/https://raw.githubusercontent.com/xixifree/Hiker/main/yxj.json\\\",24));\\nif(cloud.includes(\\\"合集\\\")){\\n    writeFile(\\\"hiker://files/rules/Hood/yxj.json\\\",cloud);\\n    writeFile(\\\"hiker://files/cache/update/yxj.txt\\\",new Date()+'');\\n}\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/ke/58.png"},{"last_chapter_rule":"","title":"奇妙工具箱","author":"小棉袄🌞","version":7,"type":"tool","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet vip = getItem(\"vip\", \"0\") == \"1\";\nd.push({\n    title: vip ? \"欢迎您，尊贵的会员！\" : \"您还不是会员\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        confirm({\n            title: \"说明\",\n            content: \"本工具箱所有功能免费无广告使用，为激励作者不断更新和新增优秀功能，因此搞了一个会员制，本会员制为分享制，只需要分享软件或者官方公众号给您的朋友，然后点击确定按钮即可，会员领取方案为无人售票制度，点击确定按钮即可\",\n            confirm: $.toString(() => {\n                confirm({\n                    title: \"领取会员\",\n                    content: \"确定领取会员吗？确认您已分享软件或者官方公众号给您的朋友，确认请点击下方的确定按钮\",\n                    confirm: $.toString(() => {\n                        setItem(\"vip\", \"1\");\n                        refreshPage();\n                        return \"toast://恭喜，您已成为会员！\"\n                    })\n                });\n                return \"hiker://empty\"\n            })\n        });\n        return \"hiker://empty\"\n    }),\n    col_type: \"avatar\",\n    desc: \"\",\n    pic_url: vip ? \"http://gh.haikuoshijie.cn/https://github.com/qiusunshine/hiker-rules/blob/master/plugins/%E5%86%A0%E5%86%9B3.png\" : \"hiker://images/account\"\n});\n\nd.push({\n    title: \"磁力云播\",\n    url: \"hiker://empty\",\n    desc: \"““””<small>基于迅雷SDK，支持磁力、电驴、种子、FTP、HTTP、RTMP等多种格式</small>\",\n    col_type: \"text_center_1\",\n    extra: {\n        lineVisible: false\n    }\n});\n\nd.push({\n    title: \"播放\",\n    url: $.toString(() => {\n        return input;\n    }),\n    col_type: \"input\",\n    desc: \"请输入链接\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: \"视频提取\",\n    desc: \"直接输入网页地址即可提取播放、下载视频\",\n    url: \"hiker://empty\",\n    col_type: \"text_center_1\",\n    extra: {\n        lineVisible: false\n    }\n});\n\nd.push({\n    title: \"提取\",\n    url: $.toString(() => {\n        return \"video://\" + input;\n    }),\n    col_type: \"input\",\n    desc: \"请输入网页链接\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: \"电子书阅读器(txt)\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        let r = fetch(\"hiker://home@本地资源管理\");\n        if (r && r.length > 5) {\n            return \"hiker://home@本地资源管理\";\n        } else {\n            confirm({\n                title: \"温馨提示\",\n                content: \"当前未导入扩展插件，点击下方确定按钮导入\",\n                confirm: $.toString(() => {\n                    return \"海阔视界首页频道规则【本地资源管理】￥home_rule_url￥http://hiker.nokia.press/hikerule/rulelist.json?id=3559\"\n                })\n            });\n            return \"hiker://empty\"\n        }\n    }),\n    col_type: \"card_pic_2\",\n    pic_url: \"hiker://images/home_pic4\",\n});\nd.push({\n    title: \"epub转换器\",\n    url: \"web://https://convertio.co/zh/\",\n    col_type: \"card_pic_2_2\",\n    pic_url: \"hiker://images/home_pic3\"\n});\nd.push({\n    title: \"WebDav\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        let r = fetch(\"hiker://home@Webdav\");\n        log(r);\n        if (r && r.length > 5) {\n            return \"hiker://home@Webdav\";\n        } else {\n            confirm({\n                title: \"温馨提示\",\n                content: \"当前未导入扩展插件，点击下方确定按钮导入\",\n                confirm: $.toString(() => {\n                    return \"海阔视界首页频道规则【Webdav】￥home_rule_url￥http://hiker.nokia.press/hikerule/rulelist.json?id=5210\"\n                })\n            });\n            return \"hiker://empty\"\n        }\n    }),\n    col_type: \"card_pic_2_2\",\n    pic_url: \"hiker://images/home_pic2\"\n});\nd.push({\n    title: \"图片提取器\",\n    url: \"hiker://page/pic\",\n    col_type: \"text_center_1\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: \"““””<span style=\\\"color: #aaaaaa\\\"><small>扩展插件来自小棉袄、LoyDgIk、Joe等</small></span>\",\n    url: \"hiker://empty\",\n    col_type: \"text_center_1\",\n    extra: {\n        lineVisible: false\n    }\n});\n\nd.push({\n    col_type: \"line_blank\",\n    extra: {\n        id: \"qmgjx\"\n    }\n});\n\nsetResult(d);\ntry {\n    MY_URL = \"https://haikuoshijie.cn/\";\n    let html = request(MY_URL);\n    let arr = pdfa(html, \".post-list&&li\");\n    addItemAfter(\"qmgjx\", arr.map(it => {\n        return {\n            title: pdfh(it, \"h3--time&&Text\"),\n            url: \"x5://\" + pd(it, \"a&&href\"),\n            col_type: \"text_1\",\n            desc: pdfh(it, \".index-time&&Text\") + \"   \" + pdfh(it, \".post-meta&&span&&Text\")\n        }\n    }))\n} catch (e) {}","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"pic\",\"path\":\"pic\",\"rule\":\"js:\\nvar d = [];\\nlet x = getItem(\\\"x\\\", \\\"否\\\");\\nlet desc = x == \\\"是\\\" ? \\\"float&&300\\\" : \\\"float&&1\\\";\\nd.push({\\n    col_type: \\\"x5_webview_single\\\",\\n    url: \\\"\\\",\\n    desc: desc,\\n    title: \\\"\\\",\\n    extra: {\\n        js: $.toString(() => {\\n            function getimgs() {\\n                var videoElements = document.getElementsByTagName(\\\"img\\\");\\n                if (videoElements == null) {\\n                    return [];\\n                }\\n                let urls = [];\\n                for (let i = 0; i < videoElements.length; i++) {\\n                    if (videoElements[i].width > 70 && videoElements[i].height > 70) {\\n                        const src = videoElements[i].src;\\n                        if (src == null || src.length < 5 || urls.includes(src) || src.indexOf(\\\"data:\\\") == 0) {\\n                            continue;\\n                        }\\n                        //log(src);\\n                        urls.push(new URL(src).toString());\\n                    }\\n                }\\n                return urls;\\n            }\\n\\n            function check() {\\n                try {\\n                    let urls = getimgs();\\n                    //fba.log(\\\"getimgs：\\\" + urls.length);\\n                    if (window.checkedUrls == null) {\\n                        window.checkedUrls = [];\\n                    }\\n                    let checkedUrls = window.checkedUrls;\\n                    urls = urls.filter(it => {\\n                        return !checkedUrls.includes(it)\\n                    });\\n\\n                    if (urls.length > 0) {\\n                        let pics = urls.filter(it => it != null && it != \\\"\\\")\\n                            .map(it => {\\n                                let u = fba.getHeaderUrl(it);\\n                                let uu = u.split(\\\";\\\");\\n                                let pic = u;\\n                                if (uu.length > 1) {\\n                                    let u1 = uu[0];\\n                                    let u2 = uu[1].slice(1, -1).split(\\\"&&\\\");\\n                                    let referer = null;\\n                                    let ua = null;\\n                                    let cookie0 = null;\\n                                    for (let ii of u2) {\\n                                        let it2 = ii.split(\\\"@\\\");\\n                                        if (it2[0] == \\\"Referer\\\") {\\n                                            referer = it2[1].replace(/；；/g, \\\";\\\");\\n                                        }\\n                                        if (it2[0] == \\\"User-Agent\\\") {\\n                                            ua = it2[1].replace(/；；/g, \\\";\\\");\\n                                        }\\n                                        if (it2[0] == \\\"Cookie\\\") {\\n                                            cookie0 = it2[1].replace(/；；/g, \\\";\\\");\\n                                        }\\n                                    }\\n                                    pic = u1;\\n                                    if (referer) {\\n                                        pic = pic + \\\"@Referer=\\\" + referer;\\n                                    }\\n                                    if (ua) {\\n                                        pic = pic + \\\"@User-Agent=\\\" + ua;\\n                                    }\\n                                    if (cookie0) {\\n                                        pic = pic + \\\"@Cookie=\\\" + cookie0\\n                                    }\\n\\n                                } else {\\n                                    pic = it;\\n                                }\\n                                return {\\n                                    pic: pic,\\n                                    url: u\\n                                }\\n                            });\\n                        fba.log(pics.length + \\\"\\\");\\n                        fba.parseLazyRuleAsync($$$().lazyRule((urls) => {\\n                            //log(urls);\\n\\n                            let arr = urls.map(it => {\\n                                return {\\n                                    title: \\\"\\\",\\n                                    url: it.pic,\\n                                    pic_url: it.pic,\\n                                    col_type: \\\"card_pic_3\\\",\\n                                    extra: {\\n                                        cls: \\\"pics\\\"\\n                                    }\\n                                }\\n                            });\\n                            addItemBefore(\\\"pic_line\\\", arr);\\n                        }, pics), function() {\\n\\n                        });\\n                        for (let it of urls) {\\n                            window.checkedUrls.push(it);\\n                        }\\n                    }\\n\\n                } catch (e) {\\n                    fba.log(e.toString());\\n                }\\n                setTimeout(check, 300);\\n            }\\n            check();\\n        })\\n    }\\n});\\n\\n\\nd.push({\\n    title: \\\"提取\\\",\\n    url: $.toString(() => {\\n        putMyVar(\\\"i\\\", input);\\n        deleteItemByCls(\\\"pics\\\");\\n        refreshX5WebView(input);\\n    }),\\n    col_type: \\\"input\\\",\\n    desc: \\\"请输入网页地址\\\",\\n    pic_url: \\\"\\\",\\n    extra: {\\n        defaultValue: getMyVar(\\\"i\\\", \\\"\\\")\\n    }\\n});\\nd.push({\\n    title: \\\"显示网页组件：\\\" + x,\\n    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n        let x = getItem(\\\"x\\\", \\\"否\\\");\\n        let next = x == \\\"否\\\" ? \\\"是\\\" : \\\"否\\\";\\n        setItem(\\\"x\\\", next);\\n        let desc = x == \\\"否\\\" ? \\\"float&&300\\\" : \\\"float&&1\\\";\\n        updateItem(\\\"pic_tip\\\", {\\n            title: \\\"显示网页组件：\\\" + next\\n        });\\n        refreshX5Desc(desc);\\n        return \\\"hiker://empty\\\"\\n    }),\\n    col_type: \\\"text_1\\\",\\n    desc: \\\"\\\",\\n    pic_url: \\\"\\\",\\n    extra: {\\n        id: \\\"pic_tip\\\"\\n    }\\n});\\n\\nd.push({\\n    col_type: \\\"line_blank\\\",\\n    extra: {\\n        id: \\\"pic_line\\\"\\n    }\\n});\\n\\nsetResult(d);\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"AI测试","author":"","version":44,"type":"tool","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require('hiker://page/pro')","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"二级解析\",\"path\":\"p\",\"rule\":\"js:\\nvar d = [];\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlet html = request(url);\\nlet alist = pdfa(html, \\\"body&&a\\\");\\nlet arr = alist.map(it => {\\n    return {\\n        //html: it,\\n        text: pdfh(it, \\\"a&&Text\\\"),\\n        title: pdfh(it, \\\"a&&title\\\"),\\n        href: pd(it, \\\"a&&href\\\", url)\\n    }\\n});\\n//log(arr);\\nlet debug = false;\\n\\nfunction clearText(it) {\\n    return it.replace(/第|集|章/g, \\\"\\\");\\n}\\n\\nfunction isMovie(it) {\\n    if (it == null || it.text == null) {\\n        return false;\\n    }\\n    let tit = it.title || \\\"\\\";\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\" || it.length > 8) {\\n        return false;\\n    }\\n    //排除\\n    let reg = /\\\\.|高清直播|写真推荐/;\\n    if (tit != \\\"\\\" && !tit.includes(it) || reg.test(it)) {\\n        return false;\\n    }\\n    return it.match(/原画|备用|蓝光|超清|高清|正片|韩版|4K|4k|1080P|720P|TC|HD|BD/)\\n}\\n\\nfunction notChapter(it) {\\n    if (it == null || it.text == null) {\\n        return true;\\n    }\\n    return it.text.match(/[0-9]\\\\.[0-9]分/);\\n}\\n\\nfunction isChapter(it, pre, next) {\\n    if (notChapter(it)) {\\n        //优先排除\\n        return false;\\n    }\\n    //判断是不是电影\\n    if (isMovie(it)) {\\n        return true;\\n    }\\n    return isChapter0(it, pre) || isChapter0(it, next);\\n}\\n\\nfunction getChapterNum(it) {\\n    if (it == null || it.text == null) {\\n        return -1;\\n    }\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\") {\\n        return -1;\\n    }\\n    it = clearText(it);\\n    let reg = /^[0-9]*$/;\\n    if (!reg.test(it)) {\\n        return -1;\\n    }\\n    it = parseInt(it);\\n    if (isNaN(it)) {\\n        return -1;\\n    }\\n    return it;\\n}\\n\\nfunction isChapter0(it, brother) {\\n    /*if (debug) {\\n        log({\\n            it: it,\\n            brother: brother\\n        });\\n    }*/\\n    it = getChapterNum(it);\\n    //if (debug) log(it);\\n    if (it < 0) {\\n        return false;\\n    }\\n    brother = getChapterNum(brother);\\n    //if (debug) log(brother);\\n    if (brother < 0) {\\n        return false;\\n    }\\n    return it - brother < 2 && it - brother > -2;\\n}\\n\\nlet _web = $.toString(() => {\\n    let urls = _getUrls();\\n    let reg = /\\\\.html|\\\\.css|\\\\.js/;\\n    for (let k in urls) {\\n        if (!reg.test(urls[k]) && urls[k].match(/\\\\.mp4|\\\\.m3u8/)) {\\n            fy_bridge_app.log(urls[k]);\\n            return fy_bridge_app.getHeaderUrl(urls[k].replace(/.*?url=/, \\\"\\\")) + \\\"#ignoreImg=true#\\\";\\n        }\\n    }\\n});\\n\\nlet web = getItem('web', '0') == \\\"1\\\";\\n\\nfor (let i = 0; i < arr.length; i++) {\\n    let it = arr[i];\\n    let t = it.text;\\n    if (!it.href || it.href == \\\"\\\") {\\n        continue;\\n    }\\n    let pre = i == 0 ? null : arr[i - 1];\\n    let next = i == (arr.length - 1) ? null : arr[i + 1];\\n    if (isChapter(it, pre, next)) {\\n        if (web) {\\n            var urlx = \\\"webRule://\\\" + it.href + \\\"@\\\" + _web;\\n            var extrax = {\\n                jsLoadingInject: true,\\n                id: it.href,\\n                blockRules: ['.m4a', '.mp3', '.flv', '.avi', '.3gp', '.mpeg', '.wmv', '.mov', '.rmvb', '.gif', '.jpeg', '.png', '.ico', '.svg']\\n            };\\n        } else {\\n            var urlx = \\\"video://\\\" + it.href;\\n            var extrax = {\\n                id: it.href\\n            };\\n        }\\n        d.push({\\n            title: t,\\n            url: urlx,\\n            col_type: \\\"text_3\\\",\\n            extra: extrax\\n        });\\n    }\\n}\\nif (d.length == 0) {\\n    //匹配失败\\n    d.push({\\n        title: \\\"\\\",\\n        url: url,\\n        col_type: \\\"x5_webview_single\\\",\\n        desc: \\\"float&&100%\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            canBack: true\\n        }\\n    });\\n    toast(\\\"AI匹配失败，已使用X5加载\\\");\\n    setResult(d);\\n} else {\\n    //为线路加分割线\\n    let d2 = [];\\n    for (let i = 0; i < d.length; i++) {\\n        d2.push(d[i]);\\n        if (i < d.length - 1) {\\n            let it = d[i];\\n            let t1 = parseInt(clearText(it.title));\\n            let next = d[i + 1];\\n            let t2 = parseInt(clearText(next.title));\\n            if (t2 - t1 > 1 || t1 - t2 > 1) {\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"line_blank\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n            }\\n        }\\n    }\\n\\n    setResult(d2);\\n}\"},{\"col_type\":\"text_1\",\"name\":\"搜索测试\",\"path\":\"s\",\"rule\":\"js:\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlog(url);\\nlet key = getParam(\\\"key\\\");\\nlet sp = $.require(\\\"hiker://page/sp\\\");\\nsetResult(sp(url, key, \\\"搜索测试\\\"));\"},{\"col_type\":\"movie_3\",\"name\":\"聚合搜索\",\"path\":\"pro\",\"rule\":\"var d = [];\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(() => {\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: \\\"input\\\",\\n        desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"sou\\\", \\\"\\\"),\\n            onChange: $.toString(() => {\\n                putMyVar(\\\"sou\\\", input);\\n            })\\n        }\\n    });\\n    addListener(\\\"onClose\\\", $.toString(() => {\\n        clearMyVar(\\\"sou\\\");\\n        clearMyVar(\\\"so\\\");\\n    }));\\n}\\n\\nlet s = getMyVar(\\\"sou\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let p = MY_PAGE;\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n    let data = load(p, r != \\\"\\\" ? r : null);\\n\\n    let pageid = MY_RULE.title + \\\"-page\\\" + p;\\n    if (data.length > 0) {\\n        d.push({\\n            title: \\\"加载第\\\" + p + \\\"页中，进度：1/\\\" + data.length,\\n            url: \\\"\\\",\\n            col_type: \\\"text_center_1\\\",\\n            desc: \\\"\\\",\\n            pic_url: \\\"\\\",\\n            extra: {\\n                id: pageid\\n            }\\n        });\\n    }\\n    setResult(d);\\n    log(data.length);\\n    if (data.length > 0) {\\n        //多线程加载        \\n        let realPage = \\\"\\\" == r ? 1 : p;\\n        let tasks = data.map(it => {\\n            return {\\n                func: function(rule) {\\n                    return rule.find(s, realPage);\\n                },\\n                param: it,\\n                id: \\\"rule@\\\" + it.name\\n            }\\n        });\\n\\n        batchExecute(tasks, {\\n            func: function(param, id, error, result) {\\n                //log(\\\"listener: \\\" + (result || []).length)\\n                param.i = param.i + 1;\\n                if (result) {\\n                    try {\\n                        for (let it of result) {\\n                            param.j = param.j + 1;\\n                            addItemBefore(pageid, {\\n                                title: wrap(it.title, s),\\n                                desc: it.desc,\\n                                url: it.url,\\n                                pic_url: it.pic_url,\\n                                col_type: it.pic_url ? 'movie_1_vertical_pic' : \\\"text_1\\\",\\n                                extra: it.extra\\n                            })\\n                        }\\n                    } catch (e) {}\\n\\n                }\\n                if (param.i >= param.all) {\\n                    deleteItem(pageid)\\n                } else {\\n                    updateItem({\\n                        title: \\\"加载第\\\" + MY_PAGE + \\\"页中，进度：\\\" + (param.i + 1) + \\\"/\\\" + param.all,\\n                        url: \\\"\\\",\\n                        col_type: \\\"text_center_1\\\",\\n                        desc: \\\"\\\",\\n                        pic_url: \\\"\\\",\\n                        extra: {\\n                            id: pageid\\n                        }\\n                    })\\n                }\\n            },\\n            param: {\\n                all: data.length,\\n                i: 0,\\n                j: -1\\n            }\\n        })\\n    }\\n} else {\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let data = load(-1, null);\\n    if (data.length > 0) {       \\n        $.require(\\\"hiker://page/manage\\\")(d, data.map(it => it.name));\\n        for (let it of data) {\\n            d.push({\\n                title: it.name,\\n                url: \\\"select://\\\" + JSON.stringify({\\n                    title: \\\"请选择操作\\\",\\n                    col: 1,\\n                    options: [\\\"访问首页\\\", \\\"搜索此站\\\"],\\n                    js: $.toString((url) => {\\n                        if (input == \\\"访问首页\\\") {\\n                            MY_URL = url;\\n                            return \\\"x5://\\\" + getHome(url)\\n                        } else {\\n                            return \\\"hiker://page/singles\\\"\\n                        }\\n                    }, it.url)\\n                }),\\n                col_type: \\\"flex_button\\\",\\n                desc: \\\"\\\",\\n                pic_url: \\\"\\\",\\n                extra: {\\n                    RULE: {\\n                        name: it.name,\\n                        url: it.url\\n                    }\\n                }\\n            });\\n        }       \\n    }\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"数据\",\"path\":\"data\",\"rule\":\"//并发规则数\\nlet size0 = 10;\\nlet rulesText0 = `AppMovie@https://www.appmovie.cc/index.php/vod/search.html?wd=**&submit=\\n追剧达人@http://zjdr.vip/vod/search/wd/**.html\\n疯狗影视@https://m.fenggoudy3.com/index.php?s=vod-search-name&wd=**\\n在线之家@https://zxzj.vip/vodsearch/-------------.html?wd=**&submit=`;\\nlet rulesText = getItem(\\\"rules\\\", rulesText0);\\nlet sp = $.require(\\\"hiker://page/sp\\\");\\nrules = rulesText.split(\\\"\\\\n\\\")\\n    .filter(it => it.includes(\\\"@\\\"))\\n    .map(rule => {\\n        let s = rule.split(\\\"@\\\");\\n        return {\\n            name: s[0],\\n            find: function(key, page) {\\n                return sp(s[1], key, s[0]);\\n            },\\n            url: s[1]\\n        };\\n    });\\n\\nfunction load(page, rule) {\\n    let size = page <= 0 ? rules.length : size0;\\n    page = page <= 0 ? 1 : page;\\n    if (!page && !rule) {\\n        return rules.map(it => it.name);\\n    }\\n    if (rule != null) {\\n        if (page != null && page > 1) {\\n            return rules.filter(i => i.name == rule && i.page);\\n        }\\n        return rules.filter(i => i.name == rule);\\n    }\\n    let start = (page - 1) * size;\\n    if (rules.length < start + 1) {\\n        return [];\\n    }\\n    let len = size;\\n    if (rules.length < page * size) {\\n        len = rules.length - start\\n    }\\n    return rules.slice(start, start + len);\\n}\\n\\nfunction addRule(name, surl) {\\n    setItem(\\\"rules\\\", rulesText + \\\"\\\\n\\\" + name + \\\"@\\\" + surl);\\n}\\n\\nfunction removeRule(name) {\\n    let newT = rulesText.split(\\\"\\\\n\\\")\\n        .filter(it => it.indexOf(name + \\\"@\\\") < 0)\\n        .join(\\\"\\\\n\\\");\\n    setItem(\\\"rules\\\", newT);\\n}\\n\\n$.exports = {\\n    load: load,\\n    addRule: addRule,\\n    removeRule: removeRule\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"搜索解析\",\"path\":\"sp\",\"rule\":\"function search(url, key, rule) {\\n    let d = [];\\n    let html = \\\"\\\";\\n    if (url.includes(\\\"**\\\")) {\\n        //get请求\\n        let old = url;\\n        url = url.replace(\\\"**\\\", key);\\n        html = request(url);\\n        //自动过验证码和频繁访问限制\\n        let {\\n            check, test\\n        } = $.require(\\\"hiker://page/yzm\\\");\\n        if (check(url, html, d)) {\\n            log(\\\"重试了\\\");\\n            html = request(url, {\\n                headers: {\\n                    \\\"Referer\\\": url\\n                }\\n            });           \\n        }         \\n        test(url, html, d, old, key, rule);\\n    } else {\\n        //自动识别post请求\\n        html = request(url);\\n        let form = pdfh(html, \\\"body&&form&&Html\\\");\\n        let action = pd(html, \\\"form&&action\\\", url);\\n        let inputs = pdfa(html, \\\"body&&form&&input\\\");\\n        let body = {};\\n        for (let it of inputs) {\\n            let name = pdfh(it, \\\"input&&name\\\");\\n            if (name && name != \\\"\\\") {\\n                let value = pdfh(it, \\\"input&&value\\\");\\n                body[name] = value || key;\\n            }\\n        }\\n        html = post(action, {\\n            body: body\\n        });\\n    }\\n\\n    let alist = pdfa(html, \\\"body&&a\\\");\\n    let arr = alist.map(it => {\\n        let t = pdfh(it, \\\"a&&Text\\\");\\n        let t2 = pdfh(it, \\\"a&&title\\\");\\n        return {\\n            //html: it,\\n            text: t2 && t2.includes(key) ? t2 : t,\\n            href: pd(it, \\\"a&&href\\\", url)\\n        }\\n    });\\n\\n    function isResult(it) {\\n        it = it.text || \\\"\\\";\\n        if (it == \\\"\\\" || it.match(/搜索|结果/)) {\\n            return false\\n        }\\n        return it.includes(key);\\n    }\\n\\n    for (let i = 0; i < arr.length; i++) {\\n        let it = arr[i];\\n        let t = it.text;\\n        if (!it.href || it.href == \\\"\\\") {\\n            continue;\\n        }\\n        if (isResult(it)) {\\n            d.push({\\n                title: t,\\n                url: \\\"hiker://page/p?u=\\\" + base64Encode(it.href),\\n                col_type: \\\"text_1\\\",\\n                desc: \\\"““””<font color=#f13b66a>\\\" + rule + \\\"</font>\\\"\\n            });\\n        }\\n    }\\n    return d;\\n}\\n$.exports = search;\"},{\"col_type\":\"movie_3\",\"name\":\"增删\",\"path\":\"manage\",\"rule\":\"$.exports = function(d, names) {\\n    d.push({\\n        title: \\\"AI技术\\\",\\n        url: \\\"confirm://基于AI识片自动分析源码技术，代码完全开源，数据来源于原网站，软件和规则不提供任何内容.js:''\\\",\\n        col_type: \\\"flex_button\\\"\\n    }, {\\n        title: getItem('web', '0') == \\\"0\\\" ? \\\"视频嗅探\\\" : \\\"Web通免\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            if (getItem('web', '0') == \\\"0\\\") {\\n                setItem('web', '1')\\n            } else {\\n                setItem('web', '0')\\n            }\\n            refreshPage();\\n            return 'hiker://empty'\\n        }),\\n        col_type: \\\"flex_button\\\"\\n    });\\n    d.push({\\n        title: \\\" + \\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule((rr) => {\\n            deleteItemByCls(\\\"aiadd\\\");\\n            addItemAfter(rr + \\\"aisdel\\\", [{\\n                    title: \\\"\\\",\\n                    desc: \\\"请输入网站名称\\\",\\n                    col_type: \\\"input\\\",\\n                    extra: {\\n                        titleVisible: false,\\n                        onChange: \\\"putMyVar('name', input)\\\",\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                },\\n                {\\n                    title: \\\"\\\",\\n                    desc: \\\"请输入网站搜索地址\\\",\\n                    col_type: \\\"input\\\",\\n                    extra: {\\n                        titleVisible: false,\\n                        onChange: \\\"putMyVar('surl', input)\\\",\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                },\\n                {\\n                    title: \\\"提交保存\\\",\\n                    col_type: \\\"text_center_1\\\",\\n                    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n                        let surl = getMyVar(\\\"surl\\\", \\\"\\\");\\n                        let name = getMyVar(\\\"name\\\", \\\"\\\");\\n                        if (surl == \\\"\\\" || name == \\\"\\\") {\\n                            return \\\"toast://请输入完整内容\\\"\\n                        }\\n                        let r = decodeURIComponent(surl);\\n                        r = r.replace(new RegExp(\\\"[\\\\u4e00-\\\\u9fa5]+\\\", \\\"g\\\"), \\\"**\\\");\\n                        let {\\n                            addRule\\n                        } = $.require(\\\"hiker://page/data\\\");\\n                        addRule(name, r);\\n                        refreshPage();\\n                        return \\\"toast://已保存\\\";\\n                    }),\\n                    extra: {\\n                        cls: \\\"aiadd\\\"\\n                    }\\n                }\\n            ]);\\n            return \\\"hiker://empty\\\"\\n        }, MY_RULE.title),\\n        col_type: \\\"flex_button\\\",\\n    });\\n    d.push({\\n        title: \\\" - \\\",\\n        url: \\\"select://\\\" + JSON.stringify({\\n            options: names,\\n            title: \\\"请选择要删除的站点\\\",\\n            js: $.toString(() => {\\n                let {\\n                    removeRule\\n                } = $.require(\\\"hiker://page/data\\\");\\n                removeRule(input);\\n                refreshPage();\\n                return \\\"toast://OK\\\";\\n            })\\n        }),\\n        col_type: \\\"flex_button\\\",\\n        extra: {\\n            id: MY_RULE.title + \\\"aisdel\\\"\\n        }\\n    });\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"验证码\",\"path\":\"yzm\",\"rule\":\"function check(url, html, d) {\\n    let reload = false;\\n    if (/验证码|系统安全验证/.test(html)) {\\n        let headers = {\\n            \\\"User-Agent\\\": MOBILE_UA,\\n            \\\"Referer\\\": url\\n        };\\n        MY_HOME = getHome(url);\\n        let ssyz = 'TloGnnikThrfs/5fDNlk5CSsbaGtAH7W/uMZjuYoIupB6bCoo9CotLQHfPIdGgbkbynKqL2aUE2Xy558X2QxHYtTU09vD+4oaCDIuSZO7nxDbLfRGfWj7zql+yMbvF+aJoD/m6Psfw/PyYOAp/ZVGdrPzaCByfd0HL5DFVSw+YF2OC40V8SP9RxdFKKdrBuPxCWdxUCFrJ+1lRy/TU3LC84C4xxEBhgud7RtBp0zZArqBE06+Z3JtDP0eFCz/D5X0409qPHK3e1y/LuUgccuxpHnjYLE1GjlP8wYA2hQWe7yPngggQBHw33/gvb3tuCcxEKTWgmah/R32AH9ZF8jF7WemT26lUizVXe/spCdhDgHR/zUhODD4PO6glI8JPhdu+VwfPyRLG2D7CUo1L6SIF+0fYf0oTOWN13UPITo5+uZd/WnQQLU8NYx/WFCThEnkbzln9YGt60fRxsH+8uMDFgaBiC+z2SpcxB9gZ6GXypLSXWaj+qEUbGJKEx+jK/v5fnrkIhCdwNbkp9dRks6dmlYlBifzoWF8RkuC3rqPtoScBkMOMZu7GiVtoHEdHUozmnUIdrU1LGIqq9WnG7X2a3yH8s65mjLuLnd3q0U8v+LMPnHL2/GjQuTQKVh+RKEPqK/JdrChGLNrjcHvLHDbHEshrGZuQOdEphbx/PkhkvaYy4K1MO84R17guRsKs/V6niUPaL+XbQ7c3fqJS4VHJwludJTDe02euffGCm0PJIPlAOgLHnX0izJhA6q738R2UwQcWBQjJt79aF+kyqSdyt1QPVQVjaC3IpRf7PgsDhEJ7bi9nSclyIzgJ9DCJ4T+8dG1xHhKyZasT7L/x9Lfr1Mgs8nBZER2W9ax7iTkNK+X5ACU//p/YoP/uAanDtb3D0iKUUuXFH+Jbb0x1P322S2w6BJ46nuNHBMHTpVuWwhZeZzriGh7qoOywLWiExBMKyxTGLnmKh7r03/yXKYWIJnpBN2MMycVHRZJ7RumHV4CIsVrq7iRP48823RJVt9OtyP7uuc3wBBV3kcZUzbbaYdWBx1+Au+Od2u7lR6joOL810mcJm/f7J5TvGQP6HGph1YHHX4C7453a7uVHqOgyjjh5EBd720MEBY23c+TKq/z9UpWDDOg48ZFnwSIhFqitWdiZiqsaYuN0/SXwiK8EG9eQ29u2XDJoDW4mlwtcRO7vaX5XcFsgf4/mLU07mi';\\n        evalPrivateJS(ssyz);\\n\\n        let vcode = getVCode2(MY_HOME + '/index.php/verify/index.html?', JSON.stringify(headers), 'num');\\n        fetch(MY_HOME + html.match(/\\\\/index.php.*?verify=/)[0] + JSON.parse(vcode).ret, {\\n            headers: headers,\\n            method: 'POST'\\n        });\\n        reload = true;\\n    }\\n    return reload;\\n}\\n\\nfunction test(url, html, d, old, key, rule) {\\n    if (/5秒|频繁/.test(html)) {\\n        d.push({\\n            title: '搜索需间隔5秒，点击重新加载',\\n            col_type: \\\"text_1\\\",\\n            desc: \\\"““””<font color=#f13b66a>\\\" + rule + \\\"</font>\\\",\\n            url: $().lazyRule((url, old, key, rule) => {\\n                let sp = $.require(\\\"hiker://page/sp\\\");\\n                let d = sp(old, key, rule);\\n                let {\\n                    wrap\\n                } = $.require(\\\"hiker://page/tool\\\");\\n                for (let it of d) {\\n                    it.title = wrap(it.title, key);\\n                }\\n                addItemAfter(url, d);\\n                deleteItem(url);\\n                return \\\"toast://OK\\\";\\n            }, url, old, key, rule),\\n            extra: {\\n                id: url\\n            }\\n        });\\n    }\\n}\\n\\n$.exports = {\\n    check: check,\\n    test: test\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"tool\",\"rule\":\"function wrap(text, s) {\\n    return text.includes(\\\"““””\\\") ? text : \\\"““””\\\" + text.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\")\\n}\\n$.exports = {\\n    wrap: wrap\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"单搜\",\"path\":\"singles\",\"rule\":\"js:\\nvar d = [];\\nd.push({\\n    title: \\\"搜索\\\",\\n    url: $.toString(() => {\\n        putMyVar(\\\"so\\\", input);\\n        refreshPage();\\n    }),\\n    col_type: \\\"input\\\",\\n    desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n    pic_url: \\\"\\\",\\n    extra: {\\n        defaultValue: getMyVar(\\\"so\\\", \\\"\\\")\\n    }\\n});\\nlet s = getMyVar(\\\"so\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let p = MY_PAGE;\\n    let {\\n        load\\n    } = $.require(\\\"hiker://page/data\\\");\\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n    let data = load(p, MY_PARAMS.RULE.name);\\n    let arr = data[0].find(s, p);\\n    for (let it of arr) {\\n        it.title = wrap(it.title, s)\\n        d.push(it);\\n    }\\n}\\nsetResult(d);\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"tvbox云盘推送","author":"tee&MrFly&小棉袄🌞&香雅情","version":8,"type":"video","url":"hiker://empty##fyclass","col_type":"text_1","class_name":"全部&喵搜&小纸条&找资源&小站&UP云搜&盘基地登陆&云盘资源&网盘资源&JIKE&更多&云盘盘TG&懒狗TG&云盘发布TG&meow","class_url":"all&https://www.alipansou.com&https://u.gitcafe.net/&https://zhaoziyuan.me/so&https://www.pan666.cn/&https://www.upyunso.com&https://www.panjd.com/&https://yunpan1.com/&https://aliwp.cn/&https://jike.info/category/2/讨论区?lang=en-US&https://dalao.ru/w/&https://tx.me/s/YunPanPan&https://tx.me/s/vip115hot&https://tx.me/s/shareAliyun&https://meow.tg","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n\nlet random = 1;\n\nlet white = [\n    \"//tx.me/\",\n]\nlet d = [];\nlet r = fetch(\"hiker://home@云盘汇影\");\nif (!r || r.length <= 5) {\n    let ru = $.toString(() => {\n        return \"海阔视界规则分享，当前分享的是：小程序￥home_rule_v2￥base64://@云盘汇影@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi5LqR55uY5rGH5b2xIiwiYXV0aG9yIjoiTXJGbHkiLCJ1cmwiOiJoaWtlcjovL2VtcHR5JCQkZnlwYWdlIiwidmVyc2lvbiI6NiwiY29sX3R5cGUiOiJ0ZXh0XzEiLCJjbGFzc19uYW1lIjoiIiwidHlwZSI6ImFsbCIsImNsYXNzX3VybCI6IiIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwic29ydF9uYW1lIjoiIiwieWVhcl9uYW1lIjoiIiwic29ydF91cmwiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xuYWxpLmhvbWVQYWdlKCk7Iiwic2VhcmNoX3VybCI6Imhpa2VyOi8vZW1wdHkkJCQqKiQkJGZ5cGFnZSQkJCIsImdyb3VwIjoi4pGg572R55uYIiwic2VhcmNoRmluZCI6ImpzOlxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xuYWxpLnNlYXJjaFBhZ2UodHJ1ZSk7XG4iLCJkZXRhaWxfY29sX3R5cGUiOiJtb3ZpZV8xIiwiZGV0YWlsX2ZpbmRfcnVsZSI6ImpzOlxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xuYWxpLmRldGFpbFBhZ2UoKTsiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiIiwidWEiOiJtb2JpbGUiLCJwcmVSdWxlIjoidmFyIGFsaWpzID0gZmV0Y2goJ2h0dHBzOi8vZ2l0ZWUuY29tL2ZseTEzOTcvaGlrZXItaWN5L3Jhdy9tYXN0ZXIvYWxpLmpzJyk7XG5pZighYWxpanMgfHwgIWFsaWpzLmluY2x1ZGVzKCdhbGknKSl7XG5cdGFsaWpzID0gZmV0Y2goJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9mbHkxMzk3L2hpa2VyLWljeS9hbGkuanMnKVxufVxuaWYoIWFsaWpzIHx8ICFhbGlqcy5pbmNsdWRlcygnYWxpJykpe1xuXHRhbGlqcyA9IGZldGNoKCdodHRwOi8vbGZpY3kuY29tOjMwMDAwL21yZmx5L2hpa2VyLWljeS9yYXcvbWFzdGVyL2FsaS5qcycpXG59XG5pZihhbGlqcykge1xuXHR3cml0ZUZpbGUoXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2ljeS9hbGkuanNcIixhbGlqcyk7XG5cdGV2YWwoYWxpanMpO1xuXHRhbGkucHJlUnVsZSgpO1xufVxuIiwicGFnZXMiOiJbe1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIue9keebmOivpuaDhVwiLFwicGF0aFwiOlwiZGV0YWlsXCIsXCJydWxlXCI6XCJqczpcXG5ldmFsKGZldGNoKCdoaWtlcjovL2ZpbGVzL3J1bGVzL2ljeS9hbGkuanMnKSk7XFxuYWxpLmluaXRDb25maWcoKTtcXG5hbGkuYWxpUnVsZSgpO1wifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfMV9sZWZ0X3BpY1wiLFwibmFtZVwiOlwi6LWE5rqQ572R6aG16K+m5oOFXCIsXCJwYXRoXCI6XCJzaXRlLWRldGFpbFwiLFwicnVsZVwiOlwianM6XFxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xcbmFsaS5kZXRhaWxQYWdlKCk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLkuKrkurrnvZHnm5jor6bmg4VcIixcInBhdGhcIjpcImRyaXZlXCIsXCJydWxlXCI6XCJqczpcXG5ldmFsKGZldGNoKCdoaWtlcjovL2ZpbGVzL3J1bGVzL2ljeS9hbGkuanMnKSk7XFxuYWxpLmluaXRDb25maWcoKTtcXG5hbGkubXlBbGlSdWxlKCk7XCJ9XSIsImljb24iOiJodHRwczovL2dpdGVlLmNvbS9mbHkxMzk3L2hpa2VyLWljeS9yYXcvbWFzdGVyL2FsaXl1bi5wbmcifQ==\"\n    });\n    confirm({\n        title: MY_RULE.title + '提示',\n        content: '本规则依赖云盘汇影规则，点击下面的确定按钮导入',\n        confirm: ru,\n        cancel: ru\n    })\n}\nlet u = MY_URL.split(\"##\")[1];\n\nfunction loadUrl(u) {\n    let desc = \"auto\";\n    for (let it of white) {\n        if (u.includes(it)) {\n            desc = \"100%&&float\";\n        }\n    }\n    if (getAppVersion() >= 3018) {\n        desc = \"float&&top\";\n    }\n    setResult([{\n        col_type: \"x5_webview_single\",\n        url: u,\n        desc: desc,\n        extra: {\n            canBack: true,\n            urlInterceptor: $.toString((myrule) => {\n                if (input.startsWith('https://www.aliyundrive.com/s/') || input.startsWith('magnet:')) {\n                    //fba.fetch(input, {});\n                    clearMyVar('name');\n                    return $.toString((url, myrule) => {\n                        fba.open(JSON.stringify({\n                            rule: myrule,\n                            url: 'hiker://page/push?rule=' + myrule + '&url=hiker://empty##' + encodeURIComponent(url)\n                        }));\n                    }, input, myrule)\n                }\n            }, MY_RULE.title),\n            ua: MOBILE_UA\n        }\n    }])\n}\nif (u == \"all\") {\n    let cls = getMyVar(\"cls\", \"\");\n    if (cls) {\n        u = cls;\n        loadUrl(u);\n        clearMyVar(\"cls\");\n    } else {\n        let r = JSON.parse(fetch(\"hiker://home@\" + MY_RULE.title));\n        let cn = r.class_name.split(\"&\");\n        let cu = r.class_url.split(\"&\");\n        let arr = [];\n        arr.push({\n            title: \"推送\",\n            url: $.toString(() => {\n                clearMyVar('name');\n                var link = 'hiker://page/push?url=hiker://empty##' + encodeURIComponent(input.replace(\"#isMusic=true#\", '').replace('#isVideo=true#', ''));\n                if (input.startsWith('http') || input.startsWith('magnet:') || input.includes(\"\\n\")) {\n                    return link;\n                } else if (input.startsWith(\"{\") && input.endsWith(\"}\")) {\n                    return link;\n                } else if (/\\.torrent|ed2k\\:/.test(input)) {\n                    return 'toast://不支持推送这种链接。'\n                } else {\n                    return 'toast://请输入正确的链接。'\n                }\n            }),\n            extra: {\n                titleVisible: true\n            },\n            col_type: 'input'\n        });\n        arr.push({\n            title: \"TVB搜索\",\n            url: $.toString(() => {\n                let tvip = getItem('hikertvboxset', '');\n                let state = 'false';\n                if (tvip != '' && tvip.includes(':997')) {\n                    var state = request(tvip + '/action', {\n                        headers: {\n                            'Content-Type': 'application/x-www-form-urlencoded',\n                            //'X-Requested-With': 'XMLHttpRequest',\n                            'Referer': tvip\n                        },\n                        timeout: 2000,\n                        body: 'do=search&word=' + input,\n                        method: 'POST'\n                    });\n                }\n                log(state);\n                if (state == 'ok') {\n                    return 'toast://搜索推送成功，请注意观看电视端tvbox界面';\n                } else {\n                    return 'toast://搜索推送失败'\n                }\n            }),\n            extra: {\n                titleVisible: true\n            },\n            col_type: 'input'\n        });\n        arr.unshift({\n            title: getItem('hikertvboxset', ''),\n            url: 'hiker://empty',\n            col_type: 'scroll_button'\n        });\n        arr.unshift({\n            title: '设置IP地址',\n            url: \"input://\" + getItem('hikertvboxset', 'http://' + getIP() + ':9978') + \"////请输入tvbox推送IP地址，如http://\" + getIP() + \":9978.js:setItem('hikertvboxset',input);refreshPage()\",\n            col_type: 'scroll_button'\n        });\n        \n        for (let i = 1; i < cn.length; i++) {\n            arr.push({\n                title: cn[i],\n                url: $().lazyRule((u) => {\n                    putMyVar(\"cls\", u);\n                    //refreshX5Desc(\"top&&float\");\n                    refreshPage();\n                    return \"hiker://empty\";\n                }, cu[i]),\n                col_type: \"text_2\",\n                desc: \"\",\n                pic_url: \"\"\n            });\n        }\n        refreshX5Desc(\"0&&float\");\n        setResult(arr);\n    }\n} else {\n    loadUrl(u);\n}","searchFind":"","search_url":"","group":"①搜索","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"\nif (!getMyVar(\"aliaccessTk\")) {\n    let ntoken=[];\n    if (!fileExist(\"hiker://files/rules/icy/icy-ali-token.json\")) {\n        var reftoken = \"\";\n    } else {\n        var reftoken = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0].refresh_token;\n    }\n    var refresh = fetch('https://auth.aliyundrive.com/v2/account/token', {\n        headers: {\n            'Content-Type': 'application/json',\n            'User-Agent': PC_UA,\n            'Referer': 'https://www.aliyundrive.com/'\n        },\n        body: '{\"refresh_token\":\"' + reftoken + '\",\"grant_type\":\"refresh_token\"}',\n        method: 'POST'\n    });\n    //log(refresh);\n    if (!fileExist(\"hiker://files/rules/icy/icy-ali-token.json\") || refresh.length > 300) {\n        ntoken.push(JSON.parse(refresh));\n        writeFile(\"hiker://files/rules/icy/icy-ali-token.json\", JSON.stringify(ntoken));\n    }\n    \n    var refresh = fetch('hiker://files/rules/icy/icy-ali-token.json', {});\n    var accessTk = JSON.parse(refresh)[0].token_type + ' ' + JSON.parse(refresh)[0].access_token;\n    putMyVar(\"aliaccessTk\", accessTk);\n}\n\n\n","pages":"[{\"col_type\":\"movie_3\",\"name\":\"推送\",\"path\":\"push\",\"rule\":\"js:\\nlog(MY_URL);\\nvar items = [];\\nvar realurl = MY_URL.split('##')[1];\\nvar tvip = getItem('hikertvboxset', '');\\nvar cltext = getMyVar(\\\"name\\\", realurl);\\n\\nitems.push({\\n    title: decodeURIComponent(cltext),\\n    url: \\\"input://\\\" + JSON.stringify({\\n        value: \\\"\\\",\\n        hint: \\\"请输入tvbox推送内容\\\",\\n        js: $.toString(() => {\\n            clearMyVar('name');\\n            var num = encodeURIComponent(input);\\n            if (num == '') {\\n                return 'toast://输入的值是空的。';\\n            } else {\\n                putMyVar('name', num);\\n                return refreshPage(true);\\n            }\\n        }),\\n    }),\\n    col_type: 'icon_1_search'\\n});\\n\\nif (getMyVar('name', '') != '') {\\n    realurl = getMyVar('name');\\n}\\n//log(\\\"实际\\\"+realurl);\\nif (tvip.includes('http')) {\\n    items.push({\\n        title: \\\"📽 推送到TVBox 📺\\\",\\n        url: $(realurl).lazyRule((tvip) => {\\n            clearMyVar('name');\\n            input = decodeURIComponent(input);\\n            var purl = input.split(\\\";\\\")[0];\\n            if (purl.includes(\\\"\\\\n\\\")) {\\n                purl = purl.replace(\\\"\\\\n\\\", '$');\\n            }\\n            var head = input.split(\\\";\\\")[1];\\n            if (input.startsWith(\\\"{\\\") && input.endsWith(\\\"}\\\")) {\\n\\n                purl = input.replace(/\\\\&/g, '＆＆');\\n                //log(purl);\\n            } else if (head != undefined) {\\n                var head = input.split(\\\";{\\\")[1].split(\\\"}\\\")[0].split(\\\"&&\\\");\\n                var purl = input.split(\\\";{\\\")[0].replace(/\\\\&/g, '＆＆');\\n\\n                var aaa = \\\"\\\";\\n                for (let i = 0; i < head.length; i++) {\\n                    let key = head[i].split(\\\"@\\\")[0];\\n                    let val = head[i].split(\\\"@\\\")[1].replace(/\\\\；\\\\；/g, ';');\\n                    let vvv = key + \\\"=\\\" + encodeURIComponent(val);\\n                    if (i < 1) {\\n                        aaa = vvv;\\n                    } else {\\n                        aaa += \\\"&\\\" + vvv\\n                    }\\n                }\\n                purl = purl + \\\"|\\\" + aaa;\\n            } else {\\n                purl = purl.replace(/\\\\&/g, '＆＆')\\n\\n            }\\n            //log(purl);\\n            //log(tvip);\\n            if (input.startsWith('https://www.aliyundrive.com/s/')) {\\n                let reftoken = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0].refresh_token;\\n                purl = JSON.stringify({\\n                    \\\"url\\\": input,\\n                    \\\"refresh_token\\\": reftoken\\n                })\\n            }\\n\\n            var state = request(tvip + '/action', {\\n                headers: {\\n                    'Content-Type': 'application/x-www-form-urlencoded',\\n                    //'X-Requested-With': 'XMLHttpRequest',\\n                    'Referer': tvip\\n                },\\n                timeout: 2000,\\n                body: 'do=push&url=' + purl,\\n                method: 'POST'\\n            });\\n            log(state);\\n            if (state == 'ok') {\\n                return 'toast://推送成功，如果tvbox显示“没找到数据”可能是该链接需要密码或者当前的jar不支持。';\\n            } else {\\n                return 'toast://推送失败'\\n            }\\n        }, tvip),\\n        col_type: \\\"text_center_1\\\",\\n        desc: \\\"\\\",\\n        pic_url: \\\"\\\"\\n    });\\n} else {\\n    items.push({\\n        title: '推送失败，IP地址设置不正确。',\\n        col_type: 'text_center_1'\\n    });\\n}\\nif (decodeURIComponent(realurl).includes('www.aliyundrive') && !realurl.includes('%3B%7B')) {\\n    eval(JSON.parse(fetch('hiker://page/sharid', {})).rule)\\n}\\nsetResult(items);\"},{\"col_type\":\"movie_3\",\"name\":\"分享资源一级\",\"path\":\"sharid\",\"rule\":\"js:\\n//var items = [];\\nfunction formatDate(_date, _fmt) {\\n    let fmt = _fmt || \\\"yyyy-MM-dd HH:mm:ss\\\";\\n    const date = !isNaN(_date) ? new Date(_date * 1000) : new Date(_date);\\n    const o = {\\n        \\\"M+\\\": date.getMonth() + 1, //月份 \\n        \\\"d+\\\": date.getDate(), //日 \\n        \\\"h+\\\": date.getHours() % 12 == 0 ? 12 : date.getHours() % 12,\\n        \\\"H+\\\": date.getHours(), //小时 \\n        \\\"m+\\\": date.getMinutes(), //分 \\n        \\\"s+\\\": date.getSeconds(), //秒 \\n        \\\"q+\\\": Math.floor((date.getMonth() + 3) / 3), //季度 \\n        \\\"S\\\": date.getMilliseconds() //毫秒 \\n    };\\n    if (/(y+)/.test(fmt)) {\\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \\\"\\\").substr(4 - RegExp.$1.length));\\n    }\\n    for (let k in o) {\\n        if (new RegExp(\\\"(\\\" + k + \\\")\\\").test(fmt)) {\\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\\\"00\\\" + o[k]).substr((\\\"\\\" + o[k]).length)));\\n        }\\n    }\\n    return fmt;\\n};\\n\\nfunction formatSize(size) {\\n    if (!size) {\\n        return '';\\n    }\\n    const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\\n    let i = 0;\\n    while (size >= 1024) {\\n        size /= 1024;\\n        i++;\\n    }\\n    size = i ? Number(size.toFixed(2)) : size;\\n    return `${size} ${units[i]}`;\\n}\\n//log(realurl);\\ntry {\\n    //var reftoken = JSON.parse(fetch('hiker://files/rules/xyq/alitoken.json', {})).refresh_token;\\n    var reftoken = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0].refresh_token;\\n    var shareId = decodeURIComponent(realurl).split('com/s/')[1].substring(0, 11);\\n    let pushname = JSON.parse(fetch('https://api.aliyundrive.com/adrive/v3/share_link/get_share_by_anonymous', {\\n        headers: {\\n            'Content-Type': 'application/json'\\n        },\\n        body: '{\\\"share_id\\\":\\\"' + shareId + '\\\"}',\\n        method: 'POST'\\n    })).share_name;\\n    var sharetoken = JSON.parse(fetch('https://api.aliyundrive.com/v2/share_link/get_share_token', {\\n        headers: {\\n            'Content-Type': 'application/json'\\n        },\\n        body: '{\\\"share_pwd\\\":\\\"\\\",\\\"share_id\\\":\\\"' + shareId + '\\\"}',\\n        method: 'POST'\\n    })).share_token;\\n    //log(sharetoken);\\n    if (!decodeURIComponent(realurl).includes('/folder/')) {\\n        var rescod = fetch('https://api.aliyundrive.com/adrive/v3/file/list', {\\n            headers: {\\n                'Content-Type': 'application/json',\\n                'X-Share-Token': sharetoken\\n            },\\n            body: '{\\\"share_id\\\":\\\"' + shareId + '\\\",\\\"parent_file_id\\\":\\\"root\\\",\\\"limit\\\":100,\\\"image_thumbnail_process\\\":\\\"image/resize,w_160/format,jpeg\\\",\\\"image_url_process\\\":\\\"image/resize,w_1920/format,jpeg\\\",\\\"video_thumbnail_process\\\":\\\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\\\",\\\"order_by\\\":\\\"name\\\",\\\"order_direction\\\":\\\"ASC\\\"}',\\n            method: 'POST'\\n        });\\n        //log(rescod);\\n        var listyp = JSON.parse(rescod).items[0].type;\\n        var pfileid = JSON.parse(rescod).items[0].file_id;\\n    } else {\\n        var listyp = 'folder';\\n        var pfileid = decodeURIComponent(realurl).split('folder/')[1]\\n\\n    }\\n    //log(html);\\n    if (listyp == 'folder') {\\n        var rescod = fetch('https://api.aliyundrive.com/adrive/v3/file/list', {\\n            headers: {\\n                'Content-Type': 'application/json',\\n                'X-Share-Token': sharetoken\\n            },\\n            body: '{\\\"share_id\\\":\\\"' + shareId + '\\\",\\\"parent_file_id\\\":\\\"' + pfileid + '\\\",\\\"limit\\\":100,\\\"image_thumbnail_process\\\":\\\"image/resize,w_160/format,jpeg\\\",\\\"image_url_process\\\":\\\"image\\\\/resize,w_1920/format,jpeg\\\",\\\"video_thumbnail_process\\\":\\\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\\\",\\\"order_by\\\":\\\"name\\\",\\\"order_direction\\\":\\\"ASC\\\"}',\\n            method: 'POST'\\n        });\\n\\n    } //取文件夹\\n    //log(rescod);\\n    var conts = JSON.parse(rescod).items;\\n    var dongtai = JSON.parse(fetch('hiker://page/lazyurl', {})).rule.toString();\\n    var tuisong = [];\\n    for (var i in conts) {\\n        var listyp = conts[i].type;\\n        if (listyp != 'folder') {\\n            var cate = conts[i].category;\\n            var fname = conts[i].name;\\n            if (cate == 'video') {\\n                var title = '📺' + conts[i].name;\\n            } else if (cate == 'doc') {\\n                var title = '📖' + conts[i].name;\\n            } else if (cate == 'image') {\\n                var title = '🖼' + conts[i].name;\\n            } else if (cate == 'zip') {\\n                var title = '📦' + conts[i].name;\\n            } else {\\n                var title = conts[i].name\\n            }\\n            items.push({\\n                title: title,\\n                url: $(conts[i].file_id).lazyRule((shareId, sharetoken, dongtai, cate, fname) => {\\n                    eval(dongtai);\\n                    return play\\n                }, shareId, sharetoken, dongtai, cate, fname),\\n                desc: formatDate(conts[i].updated_at) + '  ' + formatSize(conts[i].size),\\n                col_type: 'text_1'\\n\\n            });\\n            if (cate == 'video' || cate == 'audio') {\\n                tuisong.push(\\n                    title.replace(/\\\\#/g, '_').replace(/\\\\$/g, '_') + '$' + cate + '|' + conts[i].file_id\\n                );\\n            }\\n        } else {\\n            items.push({\\n                title: '📂' + conts[i].name,\\n                url: $('hiker://empty' + conts[i].file_id).rule((shareId, sharetoken, pushname) => {\\n                    eval(JSON.parse(fetch('hiker://page/ruleloop', {})).rule);\\n                }, shareId, sharetoken, conts[i].name),\\n                col_type: 'flex_button'\\n            });\\n\\n        } //end if\\n    } //end for i\\n    //log(tuisong);\\n    //let pushname = JSON.parse(rescod).items[0].name;\\n    eval(JSON.parse(fetch('hiker://page/pushcode', {})).rule);\\n} catch (e) {\\n    items.push({\\n        title: '欧欧，报错了。',\\n        url: decodeURIComponent(getResCode().split('##')[1]),\\n        col_type: 'text_center_1'\\n    });\\n}\\n/*\\nsetHomeResult({\\n    data: items\\n});\\n*/\"},{\"col_type\":\"movie_3\",\"name\":\"分享资源嵌套\",\"path\":\"ruleloop\",\"rule\":\"var items = [];\\n\\nfunction formatDate(_date, _fmt) {\\n    let fmt = _fmt || \\\"yyyy-MM-dd HH:mm:ss\\\";\\n    const date = !isNaN(_date) ? new Date(_date * 1000) : new Date(_date);\\n    const o = {\\n        \\\"M+\\\": date.getMonth() + 1, //月份 \\n        \\\"d+\\\": date.getDate(), //日 \\n        \\\"h+\\\": date.getHours() % 12 == 0 ? 12 : date.getHours() % 12,\\n        \\\"H+\\\": date.getHours(), //小时 \\n        \\\"m+\\\": date.getMinutes(), //分 \\n        \\\"s+\\\": date.getSeconds(), //秒 \\n        \\\"q+\\\": Math.floor((date.getMonth() + 3) / 3), //季度 \\n        \\\"S\\\": date.getMilliseconds() //毫秒 \\n    };\\n    if (/(y+)/.test(fmt)) {\\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \\\"\\\").substr(4 - RegExp.$1.length));\\n    }\\n    for (let k in o) {\\n        if (new RegExp(\\\"(\\\" + k + \\\")\\\").test(fmt)) {\\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\\\"00\\\" + o[k]).substr((\\\"\\\" + o[k]).length)));\\n        }\\n    }\\n    return fmt;\\n};\\n\\nfunction formatSize(size) {\\n    if (!size) {\\n        return '';\\n    }\\n    const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\\n    let i = 0;\\n    while (size >= 1024) {\\n        size /= 1024;\\n        i++;\\n    }\\n    size = i ? Number(size.toFixed(2)) : size;\\n    return `${size} ${units[i]}`;\\n}\\nvar reftoken = JSON.parse(fetch('hiker://files/rules/xyq/alitoken.json', {})).refresh_token;\\n    \\nvar rescod = fetch('https://api.aliyundrive.com/adrive/v3/file/list', {\\n    headers: {\\n        'Content-Type': 'application/json',\\n        'X-Share-Token': sharetoken\\n    },\\n    body: '{\\\"share_id\\\":\\\"' + shareId + '\\\",\\\"parent_file_id\\\":\\\"' + getResCode() + '\\\",\\\"limit\\\":100,\\\"image_thumbnail_process\\\":\\\"image/resize,w_160/format,jpeg\\\",\\\"image_url_process\\\":\\\"image\\\\/resize,w_1920/format,jpeg\\\",\\\"video_thumbnail_process\\\":\\\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\\\",\\\"order_by\\\":\\\"name\\\",\\\"order_direction\\\":\\\"ASC\\\"}',\\n    method: 'POST'\\n});\\n//log(rescod);\\nvar conts = JSON.parse(rescod).items;\\nvar dongtai = JSON.parse(fetch('hiker://page/lazyurl', {})).rule.toString();\\nvar tuisong = [];\\nfor (var i in conts) {\\n\\n    var listyp = conts[i].type;\\n    if (listyp != 'folder') {\\n        var cate = conts[i].category;\\n        var fname = conts[i].name;\\n        if (cate == 'video') {\\n            var title = '📺' + conts[i].name;\\n        } else if (cate == 'doc') {\\n            var title = '📖' + conts[i].name;\\n        } else if (cate == 'image') {\\n            var title = '🖼' + conts[i].name;\\n        } else if (cate == 'zip') {\\n            var title = '📦' + conts[i].name;\\n        } else {\\n            var title = conts[i].name\\n        }\\n        items.push({\\n            title: title,\\n            url: $(conts[i].file_id).lazyRule((shareId, sharetoken, dongtai, cate, fname) => {\\n                eval(dongtai);\\n                return play\\n            }, shareId, sharetoken, dongtai, cate, fname),\\n            desc: formatDate(conts[i].updated_at) + '  ' + formatSize(conts[i].size),\\n            col_type: 'text_1'\\n\\n        });\\n        if (cate == 'video' || cate == 'audio') {\\n            tuisong.push(\\n                title.replace(/\\\\#/g, '_').replace(/\\\\$/g, '_') + '$' + cate + '|' + conts[i].file_id\\n            );\\n        }\\n    } else {\\n        items.push({\\n            title: '📂' + conts[i].name,\\n            url: $('hiker://empty' + conts[i].file_id).rule((shareId, sharetoken,pushname) => {\\n                eval(JSON.parse(fetch('hiker://page/ruleloop', {})).rule);\\n            }, shareId, sharetoken,conts[i].name),\\n            col_type: 'flex_button'\\n        });\\n\\n    } //end if\\n\\n\\n}\\neval(JSON.parse(fetch('hiker://page/pushcode', {})).rule);\\nsetHomeResult({\\n    data: items\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"分享资源动态解析\",\"path\":\"lazyurl\",\"rule\":\"function accessTk() {\\n    let ntoken = [];\\n    //let reftoken = request('http://home.jundie.top:81/jar/token666.txt', {});\\n    //var reftoken = JSON.parse(fetch('hiker://files/rules/xyq/alitoken.json', {})).refresh_token;\\n    var reftoken = JSON.parse(fetch('hiker://files/rules/icy/icy-ali-token.json', {}))[0].refresh_token;\\n    let accessTk = \\\"\\\";\\n    let refresh = fetch('https://auth.aliyundrive.com/v2/account/token', {\\n        headers: {\\n            'Content-Type': 'application/json',\\n            'Referer': 'https://www.aliyundrive.com/'\\n        },\\n        body: '{\\\"refresh_token\\\":\\\"' + reftoken + '\\\",\\\"grant_type\\\":\\\"refresh_token\\\"}',\\n        method: 'POST'\\n    });\\n    ntoken.push(JSON.parse(refresh));\\n    if (!fileExist(\\\"hiker://files/rules/icy/icy-ali-token.json\\\") || refresh.length > 300) {\\n        writeFile(\\\"hiker://files/rules/icy/icy-ali-token.json\\\", JSON.stringify(ntoken));\\n    }\\n    accessTk = JSON.parse(refresh).token_type + ' ' + JSON.parse(refresh).access_token;\\n    putMyVar(\\\"aliaccessTk\\\", accessTk);\\n    return accessTk\\n    //putVar(\\\"aliaccessTk\\\", accessTk);\\n}\\n\\nif (cate == 'video'||cate == 'audio') {\\n    //处理视频  \\n    var dsid = shareId;\\n    var dfid = input;\\n    if(cate == 'video'){\\n    var json = fetch('https://api.aliyundrive.com/v2/file/get_share_link_video_preview_play_info', {\\n        headers: {\\n            'Content-Type': 'application/json',\\n            'Authorization': accessTk(),\\n            'X-Share-Token': sharetoken\\n        },\\n        body: '{\\\"share_id\\\":\\\"' + shareId + '\\\",\\\"category\\\":\\\"live_transcoding\\\",\\\"file_id\\\":\\\"' + input + '\\\",\\\"template_id\\\":\\\"\\\"}',\\n        method: 'POST'\\n    });\\n    //log(json);\\n    \\n    var dsid = JSON.parse(json).share_id;\\n    var dfid = JSON.parse(json).file_id;\\n    }\\n    if(cate == 'video'){\\n       var body='{\\\"expire_sec\\\":600,\\\"file_id\\\":\\\"' + dfid + '\\\",\\\"share_id\\\":\\\"' + dsid + '\\\"}';\\n        \\n    }else{\\n      var body='{\\\"file_id\\\":\\\"' + dfid + '\\\",\\\"get_audio_play_info\\\":true,\\\"share_id\\\":\\\"' + dsid + '\\\"}';   \\n    }\\n    var djson = fetch('https://api.aliyundrive.com/v2/file/get_share_link_download_url', {\\n        headers: {\\n            'Content-Type': 'application/json',\\n            'Authorization': accessTk(),\\n            'X-Share-Token': sharetoken\\n        },\\n        body: body,\\n        method: 'POST'\\n    });\\n    var link = JSON.parse(djson).download_url;\\n    \\n    \\n    //log(link);\\n    var play = JSON.parse(fetch(link, {\\n        headers: {\\n            'User-Agent': MOBILE_UA,\\n            'Content-Type': 'application/x-www-form-urlencoded',\\n            'Referer': 'https://www.aliyundrive.com/'\\n        },\\n        redirect: false,\\n        withStatusCode: true\\n    })).headers.location[0] + (cate == 'video'?';{Referer@https://www.aliyundrive.com/}':'#isMusic=true#;{Referer@https://www.aliyundrive.com/}');\\n} else if (cate == 'image') {\\n    //处理文档\\n    var json = fetch('https://api.aliyundrive.com/v2/file/get_share_link_download_url', {\\n        headers: {\\n            'Content-Type': 'application/json',\\n            'Authorization': accessTk(),\\n            'X-Share-Token': sharetoken\\n        },\\n        body: '{\\\"share_id\\\":\\\"' + shareId + '\\\",\\\"expire_sec\\\": 600,\\\"file_id\\\":\\\"' + input + '\\\"}',\\n        method: 'POST'\\n    });\\n\\n    //log(json);\\n\\n    var loclink = JSON.parse(fetch(JSON.parse(json).url, {\\n        headers: {\\n            'User-Agent': MOBILE_UA,\\n            'Content-Type': 'application/x-www-form-urlencoded',\\n            'Referer': 'https://www.aliyundrive.com/'\\n        },\\n        redirect: false,\\n        withStatusCode: true\\n    })).headers.location[0];\\n\\n    //log(loclink);\\n    if (cate == 'image') {\\n        var play = 'pics://' + loclink + '@Referer=https://www.aliyundrive.com/';\\n    } else {\\n        var play = loclink + ';{Referer@https://www.aliyundrive.com/}';\\n    }\\n} else {\\n    var play = 'toast://该格式暂未支持，目前只支持音视频和图片。'\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"推送代码\",\"path\":\"pushcode\",\"rule\":\"js:\\n//推送代码\\nlet push = JSON.stringify({\\n    \\\"name\\\":pushname,\\n    \\\"url\\\": tuisong.join('#'),\\n    \\\"share_id\\\": shareId,\\n    \\\"refresh_token\\\": reftoken\\n}).replace(/\\\\&/g, '＆＆');\\n//log(push);\\nlet tvip = getItem('hikertvboxset', '');\\n//log(tuisong.length);\\nif(tuisong.length>0){\\nitems.unshift({\\n    title: \\\"📽推送当前页音视频到TVBox📺\\\",\\n    url: $(push).lazyRule((tvip) => {\\n        if (!tvip.includes(':997')) {\\n            return 'toast://IP为空或不正确，请先设置。'\\n        };\\n        var state = request(tvip + '/action', {\\n            headers: {\\n                'Content-Type': 'application/x-www-form-urlencoded',\\n                //'X-Requested-With': 'XMLHttpRequest',\\n                'Referer': tvip\\n            },\\n            timeout: 2000,\\n            body: 'do=push&url=' + input,\\n            method: 'POST'\\n        });\\n        log(state);\\n        if (state == 'ok') {\\n            return 'toast://推送成功，如果tvbox显示“没找到数据”可能是当前的jar不支持。';\\n        } else {\\n            return 'toast://推送失败'\\n        }\\n    }, tvip),\\n    col_type: \\\"scroll_button\\\"\\n});\\n}\\n//\"}]","proxy":"","icon":"https://www.alipansou.com/favicon.ico"},{"last_chapter_rule":"","title":"云盘汇影","author":"MrFly","version":6,"type":"all","url":"hiker://empty$$$fypage","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/rules/icy/ali.js'));\nali.homePage();","searchFind":"js:\neval(fetch('hiker://files/rules/icy/ali.js'));\nali.searchPage(true);\n","search_url":"hiker://empty$$$**$$$fypage$$$","group":"①网盘","detail_col_type":"movie_1","detail_find_rule":"js:\neval(fetch('hiker://files/rules/icy/ali.js'));\nali.detailPage();","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var alijs = fetch('https://gitee.com/fly1397/hiker-icy/raw/master/ali.js');\nif(!alijs || !alijs.includes('ali')){\n\talijs = fetch('https://cdn.jsdelivr.net/gh/fly1397/hiker-icy/ali.js')\n}\nif(!alijs || !alijs.includes('ali')){\n\talijs = fetch('http://lficy.com:30000/mrfly/hiker-icy/raw/master/ali.js')\n}\nif(alijs) {\n\twriteFile(\"hiker://files/rules/icy/ali.js\",alijs);\n\teval(alijs);\n\tali.preRule();\n}\n","pages":"[{\"col_type\":\"movie_3\",\"name\":\"网盘详情\",\"path\":\"detail\",\"rule\":\"js:\\neval(fetch('hiker://files/rules/icy/ali.js'));\\nali.initConfig();\\nali.aliRule();\"},{\"col_type\":\"movie_1_left_pic\",\"name\":\"资源网页详情\",\"path\":\"site-detail\",\"rule\":\"js:\\neval(fetch('hiker://files/rules/icy/ali.js'));\\nali.detailPage();\"},{\"col_type\":\"movie_3\",\"name\":\"个人网盘详情\",\"path\":\"drive\",\"rule\":\"js:\\neval(fetch('hiker://files/rules/icy/ali.js'));\\nali.initConfig();\\nali.myAliRule();\"}]","proxy":"","icon":"https://gitee.com/fly1397/hiker-icy/raw/master/aliyun.png"},{"last_chapter_rule":"","title":"云盘君","author":"小棉袄🌞","version":8,"type":"video","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet r1 = fetch(\"hiker://home@云盘汇影\");\nif (!r1 || r1.length <= 5) {\n    let ru = $.toString(() => {\n        return \"海阔视界规则分享，当前分享的是：小程序￥home_rule_v2￥base64://@云盘汇影@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi5LqR55uY5rGH5b2xIiwiYXV0aG9yIjoiTXJGbHkiLCJ1cmwiOiJoaWtlcjovL2VtcHR5JCQkZnlwYWdlIiwidmVyc2lvbiI6NiwiY29sX3R5cGUiOiJ0ZXh0XzEiLCJjbGFzc19uYW1lIjoiIiwidHlwZSI6ImFsbCIsImNsYXNzX3VybCI6IiIsImFyZWFfbmFtZSI6IiIsImFyZWFfdXJsIjoiIiwic29ydF9uYW1lIjoiIiwieWVhcl9uYW1lIjoiIiwic29ydF91cmwiOiIiLCJ5ZWFyX3VybCI6IiIsImZpbmRfcnVsZSI6ImpzOlxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xuYWxpLmhvbWVQYWdlKCk7Iiwic2VhcmNoX3VybCI6Imhpa2VyOi8vZW1wdHkkJCQqKiQkJGZ5cGFnZSQkJCIsImdyb3VwIjoi4pGg572R55uYIiwic2VhcmNoRmluZCI6ImpzOlxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xuYWxpLnNlYXJjaFBhZ2UodHJ1ZSk7XG4iLCJkZXRhaWxfY29sX3R5cGUiOiJtb3ZpZV8xIiwiZGV0YWlsX2ZpbmRfcnVsZSI6ImpzOlxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xuYWxpLmRldGFpbFBhZ2UoKTsiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiIiwidWEiOiJtb2JpbGUiLCJwcmVSdWxlIjoidmFyIGFsaWpzID0gZmV0Y2goJ2h0dHBzOi8vZ2l0ZWUuY29tL2ZseTEzOTcvaGlrZXItaWN5L3Jhdy9tYXN0ZXIvYWxpLmpzJyk7XG5pZighYWxpanMgfHwgIWFsaWpzLmluY2x1ZGVzKCdhbGknKSl7XG5cdGFsaWpzID0gZmV0Y2goJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9mbHkxMzk3L2hpa2VyLWljeS9hbGkuanMnKVxufVxuaWYoIWFsaWpzIHx8ICFhbGlqcy5pbmNsdWRlcygnYWxpJykpe1xuXHRhbGlqcyA9IGZldGNoKCdodHRwOi8vbGZpY3kuY29tOjMwMDAwL21yZmx5L2hpa2VyLWljeS9yYXcvbWFzdGVyL2FsaS5qcycpXG59XG5pZihhbGlqcykge1xuXHR3cml0ZUZpbGUoXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2ljeS9hbGkuanNcIixhbGlqcyk7XG5cdGV2YWwoYWxpanMpO1xuXHRhbGkucHJlUnVsZSgpO1xufVxuIiwicGFnZXMiOiJbe1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIue9keebmOivpuaDhVwiLFwicGF0aFwiOlwiZGV0YWlsXCIsXCJydWxlXCI6XCJqczpcXG5ldmFsKGZldGNoKCdoaWtlcjovL2ZpbGVzL3J1bGVzL2ljeS9hbGkuanMnKSk7XFxuYWxpLmluaXRDb25maWcoKTtcXG5hbGkuYWxpUnVsZSgpO1wifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfMV9sZWZ0X3BpY1wiLFwibmFtZVwiOlwi6LWE5rqQ572R6aG16K+m5oOFXCIsXCJwYXRoXCI6XCJzaXRlLWRldGFpbFwiLFwicnVsZVwiOlwianM6XFxuZXZhbChmZXRjaCgnaGlrZXI6Ly9maWxlcy9ydWxlcy9pY3kvYWxpLmpzJykpO1xcbmFsaS5kZXRhaWxQYWdlKCk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLkuKrkurrnvZHnm5jor6bmg4VcIixcInBhdGhcIjpcImRyaXZlXCIsXCJydWxlXCI6XCJqczpcXG5ldmFsKGZldGNoKCdoaWtlcjovL2ZpbGVzL3J1bGVzL2ljeS9hbGkuanMnKSk7XFxuYWxpLmluaXRDb25maWcoKTtcXG5hbGkubXlBbGlSdWxlKCk7XCJ9XSIsImljb24iOiJodHRwczovL2dpdGVlLmNvbS9mbHkxMzk3L2hpa2VyLWljeS9yYXcvbWFzdGVyL2FsaXl1bi5wbmcifQ==\"\n    });\n    confirm({\n        title: MY_RULE.title + '提示',\n        content: '本规则依赖云盘汇影规则，点击下面的确定按钮导入，注意导入后一定要在云盘汇影登录阿里云盘账号，否则不能用',\n        confirm: ru,\n        cancel: ru\n    })\n}\n\nlet r = getItem(\"r\", \"\");\nif (MY_PAGE == 1) {\n    addListener(\"onClose\", $.toString(() => {\n        clearMyVar(\"s\");\n    }));\n    let tip = \"云盘搜索君 检索功能由对应网站提供，本规则不提供任何内容\";\n    d.push({\n        title: tip,\n        url: $(\"#noLoading#\").lazyRule((tip) => {\n            confirm({\n                title: \"使用说明\",\n                content: tip + \"，本规则代码完全开源，仅供学习和研究；点击下方确定按钮跳转云盘汇影小程序\",\n                confirm: \"'hiker://home@云盘汇影'\"\n            });\n            return \"hiker://empty\"\n        }, tip),\n        col_type: \"avatar\",\n        desc: \"\",\n        pic_url: \"hiker://images/account\"\n    });\n\n    d.push({\n        title: '搜索',\n        desc: '请输入关键词',\n        col_type: 'input',\n        url: $.toString(() => {\n            putMyVar('s', input);\n            refreshPage();\n            return 'hiker://empty'\n        }),\n        extra: {\n            defaultValue: getMyVar('s', '')\n        }\n    });\n    let rules = $.require(\"hiker://page/data\")();\n    d.push({\n        title: \"\" == r ? \"““全部””\" : \"全部\",\n        url: $(\"#noLoading#\").lazyRule(() => {\n            clearItem(\"r\");\n            refreshPage();\n            return \"hiker://empty\"\n        }),\n        col_type: \"scroll_button\",\n        desc: \"\",\n        pic_url: \"\"\n    });\n    for (let it of rules) {\n        d.push({\n            title: it == r ? \"““\" + it + \"””\" : it,\n            url: $(\"#noLoading#\").lazyRule((r) => {\n                setItem(\"r\", r);\n                refreshPage();\n                return \"hiker://empty\"\n            }, it),\n            col_type: \"scroll_button\",\n            desc: \"\",\n            pic_url: \"\"\n        });\n    }\n    d.push({\n        col_type: 'line',\n        extra: {\n            id: 'ypj-l'\n        }\n    });\n}\nlet s = getMyVar('s', '');\nif (s != \"\") {\n    let p = MY_PAGE;\n    let data = $.require(\"hiker://page/data\")(p, r != \"\" ? r : null);\n\n    let pageid = \"ypj-page\" + p;\n    if (data.length > 0) {\n        d.push({\n            title: \"加载第\" + p + \"页中，进度：1/\" + data.length,\n            url: \"\",\n            col_type: \"text_center_1\",\n            desc: \"\",\n            pic_url: \"\",\n            extra: {\n                id: pageid\n            }\n        });\n    }\n    setResult(d);\n    log(data.length);\n    if (data.length > 0) {\n        //多线程加载        \n        let realPage = \"\" == r ? 1 : p;\n        let tasks = data.map(it => {\n            return {\n                func: function(rule) {\n                    return rule.find(s, realPage);\n                },\n                param: it,\n                id: \"rule@\" + it.name\n            }\n        });\n\n        batchExecute(tasks, {\n            func: function(param, id, error, result) {\n                //log(\"listener: \" + (result || []).length)\n                param.i = param.i + 1;\n                if (result) {\n                    try {\n                        for (let it of result) {\n                            param.j = param.j + 1;\n                            addItemBefore(pageid, {\n                                title: it.title.includes(\"““””\") ? it.title : \"““””\" + it.title.replace(new RegExp(\"<em>|</em>\", \"g\"), \"\").replace(new RegExp(s, \"g\"), \"<strong><span style=\\\"color: #1E90FF\\\">\" + s + \"</span></strong>\"),\n                                desc: it.desc,\n                                url: it.url,\n                                pic_url: it.pic_url,\n                                col_type: it.pic_url ? 'movie_1_vertical_pic' : \"text_1\",\n                                extra: {\n                                    id: \"__app\" + MY_PAGE + \"@\" + param.j\n                                }\n                            })\n                        }\n                    } catch (e) {}\n\n                }\n                if (param.i >= param.all) {\n                    deleteItem(pageid)\n                } else {\n                    updateItem({\n                        title: \"加载第\" + MY_PAGE + \"页中，进度：\" + (param.i + 1) + \"/\" + param.all,\n                        url: \"\",\n                        col_type: \"text_center_1\",\n                        desc: \"\",\n                        pic_url: \"\",\n                        extra: {\n                            id: pageid\n                        }\n                    })\n                }\n            },\n            param: {\n                all: data.length,\n                i: 0,\n                j: -1\n            }\n        })\n    }\n} else {\n    if (MY_PAGE == 1) {\n\n        header = {\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Mobile Safari/537.36',\n            'Host': 'top.baidu.com',\n            'Accept': 'application/json, text/plain, */*',\n            'Accept-Language': 'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7',\n            'Accept-Encoding': 'gzip, deflate, br',\n            'Referer': 'https://top.baidu.com/board?tab=novel',\n        }\n\n        let json = request('https://top.baidu.com/api/board?platform=wise&tab=teleplay&tag=%7B%22category%22:%22%E5%85%A8%E9%83%A8%E7%B1%BB%E5%9E%8B%22,%22country%22:%22%E6%AC%A7%E7%BE%8E%22%7D', {\n            headers: header\n        });\n\n        let list = JSON.parse(json).data.cards[0].content;\n\n        for (let i = 0; i < list.length; i++) {\n            let name = list[i].word + '    (' + list[i].show[2] + ')';\n            let des = list[i].desc;\n            d.push({\n                title: i == \"0\" ? '““””<span style=\"color:#ff3300\">' + (parseInt(i) + 1).toString() + '</span>' + \"\\t\\t\\t\" + name : i == \"1\" ? '““””<span style=\"color:#ff6600\">' + (parseInt(i) + 1).toString() + '</span>' + \"\\t\\t\\t\" + name : i == \"2\" ? '““””<span style=\"color:#ff9900\">' + (parseInt(i) + 1).toString() + '</span>' + \"\\t\\t\\t\" + name : '““””<span>' + (parseInt(i) + 1).toString() + '</span>' + \"\\t\\t\\t\" + name,\n                url: $('#noLoading#').lazyRule((name) => {\n                    name = name.split('    (')[0];\n                    putMyVar('s', name);\n                    refreshPage();\n                    return 'hiker://empty'\n                }, name),\n                desc: des,\n                col_type: \"text_1\"\n            });\n        }\n    }\n    setResult(d);\n}","searchFind":"","search_url":"","group":"①网盘","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"规则列表\",\"path\":\"data\",\"rule\":\"let rules = [{\\n        name: \\\"云盘资源\\\",\\n        page: true,\\n        find: function(s, page) {\\n            let url = \\\"https://res.yunpan.win/?PageIndex=\\\" + page + \\\"&PageSize=12&Keyword=\\\" + s + \\\"&Type=&Tag=\\\";\\n            let html = request(url, {\\n                headers: {\\n                    \\\"Referer\\\": \\\"https://res.yunpan.win/\\\"\\n                }\\n            });\\n\\n            let arr = pdfa(html, \\\"main&&.card\\\");\\n            //log(arr);\\n            let d = [];\\n            for (let i = 0; i < arr.length; i++) {\\n                let it = arr[i];\\n                let u = pdfh(it, \\\".card-link,1&&onclick\\\").match(/https:\\\\/\\\\/(www\\\\.aliyundrive\\\\.com\\\\/s|alywp\\\\.net)\\\\/\\\\w*/g) || [];\\n                u = u.length > 0 ? u[0] : url;\\n                d.push({\\n                    title: pdfh(it, \\\".card-title&&Text\\\"),\\n                    pic_url: pd(it, \\\"img&&src\\\", url),\\n                    url: 'hiker://page/detail?rule=云盘汇影&url=' + u + '??fypage',\\n                    desc: \\\"““””<font color=#f13b66a>云盘资源</font>&nbsp;\\\" + (pdfh(it, \\\".card-text,-1&&Text\\\")),\\n                });\\n            }\\n            return d;\\n        }\\n    }, {\\n        name: \\\"猫狸盘搜\\\",\\n        page: false,\\n        find: function(s, page) {\\n            let html = request(\\\"https://www.alipansou.com/search?k=\\\" + s, {\\n                headers: {\\n                    \\\"Referer\\\": \\\"https://www.alipansou.com/search?k=\\\" + s\\n                }\\n            });\\n            let arr = pdfa(html, \\\"#app&&a\\\");\\n            //log(arr);\\n            let d = [];\\n            for (let i = 0; i < arr.length; i++) {\\n                let it = \\\"<div>\\\" + arr[i] + \\\"</div>\\\";\\n                let u = pdfh(it, \\\"a&&href\\\");\\n                //log(u);\\n                if (!u.includes(\\\"/s/\\\")) {\\n                    continue;\\n                }\\n                u = \\\"https://www.alipansou.com\\\" + u.replace(\\\"/s/\\\", \\\"/cv/\\\");\\n                d.push({\\n                    title: pdfh(it, \\\"template&&Text\\\"),\\n                    url: $(u).lazyRule(() => {\\n                        let html = request(input, {\\n                            headers: {\\n                                \\\"Cookie\\\": \\\"no_show_donate=1\\\",\\n                                \\\"Referer\\\": input.replace(\\\"/cv/\\\", \\\"/s/\\\")\\n                            },\\n                            redirect: false\\n                        });\\n                        var _links = html.match(/https:\\\\/\\\\/(www\\\\.aliyundrive\\\\.com\\\\/s|alywp\\\\.net)\\\\/\\\\w*/g) || [];\\n                        //log(_links);\\n                        if (_links.length > 0) {\\n                            return 'hiker://page/detail?rule=云盘汇影&url=' + _links[0] + '??fypage';\\n                        } else {\\n                            return input;\\n                        }\\n                    }),\\n                    desc: \\\"““””<font color=#f13b66a>猫狸盘搜</font>&nbsp;\\\" + pdfh(it, \\\"template,1&&Text\\\"),\\n                });\\n            }\\n            return d;\\n        }\\n    }, {\\n        name: \\\"易搜\\\",\\n        page: true,\\n        find: function(s, page) {\\n            let html = request(\\\"https://yiso.fun/api/search?name=\\\" + s + \\\"&pageNo=\\\" + page, {\\n                headers: {\\n                    \\\"Referer\\\": \\\"https://yiso.fun/info?searchKey=\\\" + s\\n                }\\n            });\\n            let arr = JSON.parse(html).data.list;\\n            log(arr);\\n            let d = [];\\n            for (let i = 0; i < arr.length; i++) {\\n                let it = arr[i];\\n                let u = it.url;\\n                if (u == null || !u.includes(\\\"aliyun\\\")) {\\n                    continue;\\n                }\\n                d.push({\\n                    title: \\\"““””\\\" + it.name,\\n                    url: 'hiker://page/detail?rule=云盘汇影&url=' + u + '??fypage',\\n                    desc: \\\"““””<font color=#f13b66a>易搜</font>&nbsp;\\\" + (it.gmtShare || it.gmtCreate),\\n                });\\n            }\\n            return d;\\n        }\\n    }, {\\n        name: \\\"找资源\\\",\\n        page: false,\\n        find: function(s, page) {\\n            let html = request(\\\"https://zhaoziyuan.la/so?filename=\\\" + s, {\\n                headers: {\\n                    \\\"Referer\\\": \\\"https://zhaoziyuan.la/so\\\",\\n                    //\\\"X-Requested-With\\\": \\\"com.example.hikerview\\\",\\n                    \\\"Accept\\\": \\\"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\\\"\\n                }\\n            });\\n            let arr = pdfa(html, \\\"body&&.newsList&&li:not(:first-child)\\\");\\n            log(arr);\\n            let d = [];\\n            for (let i = 0; i < arr.length; i++) {\\n                let it = arr[i];\\n                let u = pdfh(it, \\\"a&&href\\\");\\n                if (u == null) {\\n                    continue;\\n                }\\n                u = \\\"https://zhaoziyuan.la/\\\" + u;\\n                log(u);\\n                let title = pdfh(it, \\\".news_text&&h3&&Text\\\");\\n                d.push({\\n                    title: title,\\n                    desc: \\\"““””<font color=#f13b66a>找资源</font>&nbsp;\\\" + (pdfh(it, \\\".news_text&&p&&Text\\\")),\\n                    url: $(u).lazyRule(() => {\\n                        let html = request(input);\\n                        var _links = html.match(/https:\\\\/\\\\/(www\\\\.aliyundrive\\\\.com\\\\/s|alywp\\\\.net)\\\\/\\\\w*/g) || [];\\n                        //log(_links);\\n                        if (_links.length > 0) {\\n                            return 'hiker://page/detail?rule=云盘汇影&url=' + _links[0] + '??fypage';\\n                        } else {\\n                            return input;\\n                        }\\n                    })\\n                });\\n            }\\n            return d;\\n        }\\n    }, {\\n        name: \\\"小纸条\\\",\\n        page: false,\\n        find: function(s, page) {\\n            function cat_code(a) {\\n                var d, e, b = [\\\"华语电视\\\", \\\"日韩电视\\\", \\\"欧美电视\\\", \\\"其他电视\\\", \\\"华语电影\\\", \\\"日韩电影\\\", \\\"欧美电影\\\", \\\"其他电影\\\", \\\"华语动漫\\\", \\\"日韩动漫\\\", \\\"欧美动漫\\\", \\\"纪录片\\\", \\\"综艺片\\\", \\\"教育培训\\\", \\\"其他视频\\\", \\\"华语音乐\\\", \\\"日韩音乐\\\", \\\"欧美音乐\\\", \\\"其他音乐\\\", \\\"娱乐软件\\\", \\\"系统软件\\\", \\\"网络软件\\\", \\\"办公软件\\\", \\\"其他软件\\\", \\\"漫画\\\", \\\"小说\\\", \\\"出版书\\\", \\\"知识培训\\\", \\\"其他文档\\\", \\\"壁纸\\\", \\\"人物\\\", \\\"风景\\\", \\\"其他图片\\\", \\\"其他\\\"],\\n                    c = [\\\"hyds\\\", \\\"rhds\\\", \\\"omds\\\", \\\"qtds\\\", \\\"hydy\\\", \\\"rhdy\\\", \\\"omdy\\\", \\\"qtdy\\\", \\\"hydm\\\", \\\"rhdm\\\", \\\"omdm\\\", \\\"jlp\\\", \\\"zyp\\\", \\\"jypx\\\", \\\"qtsp\\\", \\\"hyyy\\\", \\\"rhyy\\\", \\\"omyy\\\", \\\"qtyy\\\", \\\"kfrj\\\", \\\"xtrj\\\", \\\"wlrj\\\", \\\"bgrj\\\", \\\"qtrj\\\", \\\"mh\\\", \\\"xs\\\", \\\"cbs\\\", \\\"zspx\\\", \\\"qtwd\\\", \\\"bz\\\", \\\"rw\\\", \\\"fj\\\", \\\"qttp\\\", \\\"qt\\\"];\\n                for (d = 0, e = c.length; e > d; d++)\\n                    if (c[d] == a) return b[d];\\n            }\\n            let d = [];\\n            let html = post(\\\"https://gitcafe.net/tool/alipaper/\\\", {\\n                headers: {\\n                    'Referer': 'https://u.gitcafe.net/'\\n                },\\n                body: {\\n                    action: \\\"search\\\",\\n                    keyword: s\\n                }\\n            })\\n            let list = JSON.parse(html);\\n            for (let i = 0; i < list.length; i++) {\\n                let it = list[i]\\n                let title = it.title;\\n                let murl = it.key\\n                if (title.includes(s)) {\\n                    d.push({\\n                        title: title,\\n                        desc: \\\"““””<font color=#f13b66a>小纸条</font>&nbsp;\\\" + cat_code(it.cat),\\n                        extra: {\\n                            des: it.des\\n                        },\\n                        url: 'hiker://page/detail?rule=云盘汇影&url=https://www.aliyundrive.com/s/' + murl + '??fypage',\\n                    });\\n                }\\n            }\\n            return d;\\n        }\\n    }  \\n];\\n\\nlet qian = $.require(\\\"hiker://page/qian\\\");\\nrules.push(qian);\\n\\n//并发规则数\\nlet size = 10;\\n\\n$.exports = function(page, rule) {\\n    if (!page && !rule) {\\n        return rules.map(it => it.name);\\n    }\\n    if (rule != null) {\\n        if (page != null && page > 1) {\\n            return rules.filter(i => i.name == rule && i.page);\\n        }\\n        return rules.filter(i => i.name == rule);\\n    }\\n    let start = (page - 1) * size;\\n    if (rules.length < start + 1) {\\n        return [];\\n    }\\n    let len = size;\\n    if (rules.length < page * size) {\\n        len = rules.length - start\\n    }\\n    return rules.slice(start, start + len);\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"芊芊\",\"path\":\"qian\",\"rule\":\"$.exports = {\\n    name: \\\"芊芊\\\",\\n    page: true,\\n    find: function(s, page) {\\n        let d = [];\\n        let u = \\\"https://pan.qianfan.app/search/?pan=aliyundrive&q=\\\" + s + \\\"&page=\\\" + page;\\n        let html = request(u);\\n        let arr = pdfa(html, \\\"body&&.search-item\\\");\\n        for (let it of arr) {\\n            let url = $(pd(it, \\\"a&&href\\\", u)).lazyRule(() => {\\n                let html = request(input, {\\n                    headers: {},\\n                });\\n                let url = pdfh(html, \\\".item-detail-info&&.copy-url&&data-url\\\");\\n                let flag = pdfh(html, \\\".item-detail-info&&.copy-url&&id\\\");\\n                for (let obj of flag) {\\n                    if (isNaN(parseInt(obj))) {\\n                        let flagNum = parseInt(obj, 16);\\n                        url = url.substring(0, flagNum) + url.substring(flagNum + 1, flagNum + 10000)\\n                    }\\n                }\\n                url = base64Decode(url);\\n                log(url);\\n                let _links = url.match(/https:\\\\/\\\\/(www\\\\.aliyundrive\\\\.com\\\\/s|alywp\\\\.net)\\\\/\\\\w*/g) || [];\\n                //log(_links);\\n                if (_links.length > 0) {\\n                    return 'hiker://page/detail?rule=云盘汇影&url=' + _links[0] + '??fypage';\\n                } else {\\n                    return input;\\n                }\\n            });\\n\\n            d.push({\\n                title: pdfh(it, \\\"h2&&Text\\\"),\\n                desc: \\\"““””<font color=#f13b66a>芊芊</font>&nbsp;\\\" + pdfh(it, \\\".search-note&&Text\\\"),\\n                url: url\\n            });\\n        }\\n\\n        return d;\\n    }\\n}\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"Webdav","author":"Joe&小棉袄🌞","version":23,"type":"tool","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require(\"hiker://page/main\")","searchFind":"","search_url":"","group":"①网盘","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"/*\n你想自定义的文件格式\ntext：文本，自动打开，\naudio：音频，自动播放，\nmovie：视频，自动播放\nimg：图片，自动预览\nsubtitle：字幕，手动开关\n*/\n$.extend({\n    text: [\"htm\", \"html\", \"xml\", \"java\", \"properties\", \"sql\", \"js\", \"md\", \"json\", \"conf\", \"ini\", \"vue\", \"php\", \"py\", \"bat\", \"gitignore\", \"yml\", \"go\", \"sh\", \"c\", \"cpp\", \"h\", \"hpp\", \"tsx\"],\n    audio: [\"mp3\", \"flac\", \"ogg\", \"m4a\", \"wav\", \"opus\"],\n    movie: [\"mp4\", \"mkv\", \"avi\", \"mov\", \"rmvb\", \"webm\", \"flv\", \"m4v\", \"m3u8\"],\n    img: [\"jpg\", \"png\", \"jpeg\", \"gif\", \"svg\", \"raw\"],\n    subtitle: [\"vtt\", \"srt\", \"ass\"]\n})","pages":"[{\"col_type\":\"text_1\",\"name\":\"设置\",\"path\":\"settings\",\"rule\":\"js:\\n/*addListener('onClose', $.toString(() => {\\n    //saveFile(\\\"hiker://files/rules/webdav/info.json\\\", JSON.stringify([getItem(\\\"dav\\\"), getItem(\\\"username\\\"), getItem(\\\"passwd\\\")]))\\n    //clearMyVar(\\\"path\\\")\\n    //refreshPage()\\n}))*/\\nvar d = [];\\nd.push({\\n    title: \\\"webdav地址：\\\" + getItem(\\\"dav\\\", \\\"请输入WebDav地址\\\"),\\n    url: $(getItem(\\\"dav\\\", \\\"\\\"), \\\"请输入正确格式的webdav链接！！！\\\").input(() => {\\n        if (!input.startsWith(\\\"http\\\")) {\\n            return \\\"toast://请输入正确的webdav链接！！！\\\"\\n        } else {\\n            if (input[input.length - 1] == \\\"/\\\") {\\n                url = input.substring(0, input.length - 1)\\n                setItem(\\\"dav\\\", url)\\n            } else {\\n                setItem(\\\"dav\\\", input)\\n            }\\n        }\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }),\\n    col_type: \\\"text_1\\\"\\n})\\nd.push({\\n    title: \\\"账户\\\",\\n    url: $(getItem(\\\"user\\\", \\\"\\\")).input(() => {\\n        setItem(\\\"user\\\", input)\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }),\\n    col_type: \\\"text_2\\\"\\n})\\nd.push({\\n    title: \\\"密码\\\",\\n    url: $(getItem(\\\"passwd\\\", \\\"\\\")).input(() => {\\n        setItem(\\\"passwd\\\", input)\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }),\\n    col_type: \\\"text_2\\\"\\n})\\nd.push({\\n    title: \\\"测试连接\\\",\\n    url: $().lazyRule(() => {\\n        const {\\n            getFiles\\n        } = $.require(\\\"hiker://page/code\\\")\\n        if (getFiles(getItem(\\\"dav\\\") + \\\"/\\\")) {\\n            return \\\"toast://连接成功\\\"\\n        } else {\\n            return \\\"toast://连接失败，请检查账户密码\\\"\\n        }\\n    }),\\n    col_type: \\\"text_center_1\\\"\\n})\\nlet icon = getItem(\\\"iconStyle\\\", \\\"默认\\\")\\nlet detail = getItem(\\\"detail\\\", \\\"开\\\")\\nlet subtitle = getItem(\\\"subtitle\\\", \\\"开\\\")\\nlet timestamp = getItem(\\\"time\\\", \\\"0\\\")\\nlet newVersion;\\nlet myVersion = MY_PARAMS.version || 999;\\ntry {\\n    res = JSON.parse(fetch(\\\"http://hiker.nokia.press/hikerule/dev/getbyid?id=5210\\\"))\\n    newVersion = res.result.ver\\n} catch (e) {\\n    toast(\\\"道长仓库抽风了，本次未检测到新版信息\\\");\\n    newVersion = myVersion;\\n}\\nlet isUpdate = Number(newVersion) <= Number(myVersion);\\nlet isVer = Number(newVersion) === Number(myVersion);\\nd.push({\\n    col_type: \\\"line_blank\\\"\\n}, {\\n    title: isUpdate ? \\\"已是最新版\\\" : \\\"🆙新版本\\\",\\n    url: \\\"rule://5rW36ZiU6KeG55WM6aaW6aG16aKR6YGT6KeE5YiZ44CQV2ViZGF244CR77+laG9tZV9ydWxlX3VybO+/pWh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzcy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTUyMTAmYXV0aD1hYjIzMDUyYi1jMGQ2LTU4ZmMtOTU1NS1hMjUwMmEwMGEzODc=\\\",\\n    col_type: \\\"text_2\\\"\\n}, {\\n    title: \\\"设置图标：\\\" + icon,\\n    url: $().lazyRule((icon) => {\\n        setItem(\\\"iconStyle\\\", icon == \\\"默认\\\" ? \\\"蓝莓\\\" : \\\"默认\\\")\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }, icon),\\n    col_type: \\\"text_2\\\"\\n}, {\\n    title: \\\"显示详细：\\\" + detail,\\n    url: $().lazyRule((detail) => {\\n        setItem(\\\"detail\\\", detail == \\\"开\\\" ? \\\"关\\\" : \\\"开\\\")\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }, detail),\\n    col_type: \\\"text_2\\\"\\n}, {\\n    title: \\\"字幕功能：\\\" + subtitle,\\n    url: $().lazyRule((subtitle) => {\\n        setItem(\\\"subtitle\\\", subtitle == \\\"开\\\" ? \\\"关\\\" : \\\"开\\\")\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }, subtitle),\\n    col_type: \\\"text_2\\\"\\n}, {\\n    title: \\\"时间格式：\\\" + (timestamp == \\\"0\\\" ? \\\"2022/08/20 17:14:31\\\" : \\\"Sat, 20 Aug 2022 09:14:31 GMT\\\"),\\n    url: $().lazyRule((timestamp) => {\\n        setItem(\\\"time\\\", timestamp == \\\"0\\\" ? \\\"1\\\" : \\\"0\\\")\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }, timestamp),\\n    col_type: \\\"text_1\\\"\\n}, {\\n    url: $().rule(() => {\\n        setResult([{\\n            title: `\\n            <p>本篇文章只针对设置，其他的使用方法已经在规则中说明清除了</p> <p><ins><ins>前提条件：已经更新7.9版本</ins></ins></p> <p>海阔视界首页频道规则【Webdav】￥home_rule_url￥http://hiker.nokia.press/hikerule/rulelist.json?id=5210&amp;auth=ab23052b-c0d6-58fc-9555-a2502a00a387</p> <h1 id=\\\"webdav%E6%98%AF%E4%BB%80%E4%B9%88\\\" tabindex=\\\"-1\\\">Webdav是什么</h1> <p>webdav就是一种网盘文件传输协议，常用于小众软件的数据备份。本规则可以管理webdav的文件，支持浏览、播放、下载、上传、删除等操作</p> <h1 id=\\\"%E6%89%93%E5%BC%80%E8%AE%BE%E7%BD%AE\\\" tabindex=\\\"-1\\\">打开设置</h1> <p><img src=\\\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_082550_com.example.hikerview.jpg\\\" alt=\\\"Screenshot_20220821_082550_com.example.hikerview\\\" /></p> <p>将你的webdav链接和账户密码填进去（这里推荐使用坚果云，优点:稳定;缺点:容量少，价格贵。也可以自己搭建webdav系统，例如alist和cloudreve，需要一定的动手能力）</p> <h2 id=\\\"%E8%AE%BE%E7%BD%AE%E5%9B%BE%E6%A0%87\\\" tabindex=\\\"-1\\\">设置图标</h2> <p>本规则内置两种风格的图标，分别为道长的和蓝莓的，自己选择</p> <h2 id=\\\"%E6%98%BE%E7%A4%BA%E8%AF%A6%E7%BB%86\\\" tabindex=\\\"-1\\\">显示详细</h2> <p>可以列出当前文件夹或文件的创建时间。<br /> <strong><strong>问题：</strong></strong><br /> 不能自动播放下一集</p> <h2 id=\\\"%E5%AD%97%E5%B9%95\\\" tabindex=\\\"-1\\\">字幕</h2> <p>字幕功能如果打开，那么如果视频与字幕的文件名相同，那么就会自动挂载上。如果当前文件夹有这个字幕文件，但是名字不同，就会跳出选择框选择</p> <h1 id=\\\"%E8%BF%94%E5%9B%9E%E4%B8%BB%E7%95%8C%E9%9D%A2\\\" tabindex=\\\"-1\\\">返回主界面</h1> <p><img src=\\\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_140705_com.example.hikerview.jpg\\\" alt=\\\"Screenshot_20220821_140705_com.example.hikerview\\\" /><br /> 可以看见有操作栏，可以上传文件，新建文件夹和删除文件三个操作</p> <p>下面是你的文件，你可以像浏览文件管理器一样使用他</p> <h1 id=\\\"%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE\\\" tabindex=\\\"-1\\\">高级设置</h1> <p>点击编辑规则，划到底部的预处理<br /> <img src=\\\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_141135_com.example.hikerview.jpg\\\" alt=\\\"Screenshot_20220821_141135_com.example.hikerview\\\" /><br /> 根据注释修改，我写的几个文件格式已经很完整了，如果有朋友认为不好，可以自行修改<br /> 格式：[“类型1”,“类型2”]</p> <p>都完成了，enjoy💞</p>\\n            `,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n    }),\\n    title: \\\"查看使用说明\\\",\\n    desc: \\\"Powered by Joe&小棉袄\\\",\\n    col_type: \\\"text_center_1\\\",\\n    extra: {\\n        lineVisible: false\\n    }\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"代码\",\"path\":\"code\",\"rule\":\"$.exports.getFiles = function(path) {\\n    try {\\n        if (!path || path == \\\"\\\") {\\n            return false\\n        }\\n        let webdav = buildWebDav(path, getItem(\\\"user\\\", \\\"\\\"), getItem(\\\"passwd\\\", \\\"\\\"))\\n        let res = webdav.list()\\n        res = JSON.parse(res)\\n        return res\\n    } catch (e) {\\n        log(e.message)\\n        return false\\n    }\\n}\\n$.exports.fetchFile = function(path) {\\n    let res = request(path, {\\n        headers: {\\n            \\\"authorization\\\": \\\"Basic \\\" + base64Encode(getItem(\\\"user\\\") + \\\":\\\" + getItem(\\\"passwd\\\"))\\n        }\\n    })\\n    return res\\n}\\n$.exports.getIcon = function(content) {\\n    let {\\n        getHzm\\n    } = $.require(\\\"hiker://page/code\\\")\\n    let iconStyles = [{\\n        name: '默认',\\n        url: 'https://gitcode.net/qq_32394351/dr/-/raw/master/img/文件类型/'\\n    }, {\\n        name: '蓝莓',\\n        url: 'https://gitcode.net/qq_32394351/dr/-/raw/master/img/文件类型2/'\\n    }];\\n    let iconStyle = getItem('iconStyle', '默认');\\n    let nowStyle = iconStyles.find(x => x.name === iconStyle);\\n    let iconRoot = nowStyle ? nowStyle.url : iconStyles[0].url;\\n    let root = iconRoot;\\n    if (content.dir) {\\n        img = root + \\\"文件夹.svg\\\"\\n    } else {\\n        let files = 'ai|apk|avi|css|dmg|exe|flv|gif|hiker|html|iso|jpg|js|json|log|mov|mp3|mp4|otf|php|png|ppt|psd|table|txt|wav|xls|zip'.split('|');\\n        let fileName = content.name\\n        let hzm = getHzm(fileName)\\n        if (files.includes(hzm)) {\\n            img = root + hzm + '.svg';\\n        } else {\\n            img = root + \\\"文件.svg\\\"\\n        }\\n    }\\n    return img\\n}\\n$.exports.getHzm = function(fileName) {\\n    return fileName.substr(fileName.lastIndexOf(\\\".\\\") + 1)\\n}\\n$.exports.removeExt = function(file) {\\n    return file.split('.').slice(0, -1).join('.')\\n};\\n$.exports.getSub = function(list) {\\n    const {\\n        getHzm\\n    } = $.require(\\\"hiker://page/code\\\")\\n    let s = []\\n    list.forEach(item => {\\n        if ($.subtitle.includes(getHzm(item.name))) {\\n            s.push({\\n                title: item.name,\\n                url: item.url\\n            })\\n        }\\n    })\\n    return s\\n}\\n$.exports.download = function(path, name) {\\n    let webdav = buildWebDav(path, getItem(\\\"user\\\", \\\"\\\"), getItem(\\\"passwd\\\", \\\"\\\"))\\n    let p = \\\"hiker://files/cache/_fileSelect_\\\" + name;\\n    webdav.download(name, p);\\n    return getPath(p);\\n}\\n$.exports.deleteFile = function(path, name) {\\n    let webdav = buildWebDav(path, getItem(\\\"user\\\", \\\"\\\"), getItem(\\\"passwd\\\", \\\"\\\"))\\n    webdav.delete(name)\\n}\\n$.exports.sorts = function(list, method) {\\n    if (method.includes(\\\"名称\\\")) {\\n        list.sort(function(a, b) {\\n            return a.name.localeCompare(b.name)\\n        })\\n    } else if (method.includes(\\\"时间\\\")) {\\n        list.sort(function(a, b) {\\n            return a.modifyTimestamp - b.modifyTimestamp\\n        })\\n    }\\n    if (method.includes(\\\"反\\\")) {\\n        list.reverse();\\n    }\\n    return list\\n}\\n$.exports.getInfo = function() {\\n    return JSON.parse(readFile(\\\"hiker://files/rules/webdav/info.json\\\"))\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"主页\",\"path\":\"main\",\"rule\":\"js:\\nvar d = [];\\nconst {\\n    getFiles,\\n    download,\\n    deleteFile,\\n    getIcon,\\n    sorts\\n} = $.require(\\\"hiker://page/code\\\")\\nvar path = getMyVar(\\\"path\\\", getItem(\\\"dav\\\") + \\\"/\\\")\\nlet files = getFiles(path)\\nif (files) {\\n    let paths = getMyVar(\\\"path\\\").replace(getItem(\\\"dav\\\"), \\\"\\\")\\n    paths = paths.split(\\\"/\\\")\\n    let temp = \\\"\\\"\\n    sorts(files, getMyVar(\\\"sort\\\", \\\"默认\\\"))\\n    d.push({\\n        title: getMyVar(\\\"more\\\", \\\"0\\\") == \\\"0\\\" ? \\\"∧\\\" : \\\"∨\\\",\\n        col_type: \\\"scroll_button\\\",\\n        url: $().lazyRule((path) => {\\n            putMyVar(\\\"more\\\", getMyVar(\\\"more\\\", \\\"0\\\") == \\\"0\\\" ? \\\"1\\\" : \\\"0\\\")\\n            refreshPage()\\n            return \\\"hiker://empty\\\"\\n        }, path)\\n    }, {\\n        title: \\\"..\\\",\\n        url: $().lazyRule((paths) => {\\n            paths.pop()\\n            putMyVar(\\\"path\\\", getItem(\\\"dav\\\") + paths.join(\\\"/\\\"))\\n            refreshPage()\\n            return \\\"hiker://empty\\\"\\n        }, paths),\\n        col_type: \\\"scroll_button\\\"\\n    }, {\\n        title: \\\"🏠\\\",\\n        url: $().lazyRule(() => {\\n            putMyVar(\\\"path\\\", getItem(\\\"dav\\\"))\\n            refreshPage()\\n            return \\\"hiker://empty\\\"\\n        }),\\n        col_type: \\\"scroll_button\\\"\\n    })\\n    paths.forEach(item => {\\n        if (item != \\\"\\\") {\\n            temp += \\\"/\\\" + item\\n            d.push({\\n                title: decodeURIComponent(item),\\n                url: $().lazyRule((temp) => {\\n                    putMyVar(\\\"path\\\", getItem(\\\"dav\\\") + temp)\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                }, temp),\\n                col_type: \\\"scroll_button\\\"\\n            })\\n        }\\n    });\\n    if (getMyVar(\\\"more\\\", \\\"0\\\") == \\\"1\\\") {\\n        let sorr = [\\\"默认\\\", \\\"名称\\\", \\\"时间\\\"]\\n        d.push({\\n            title: \\\"设置\\\",\\n            url: \\\"hiker://page/settings\\\",\\n            img: \\\"hiker://images/设置\\\",\\n            col_type: \\\"icon_small_4\\\",\\n            extra: {\\n                version: MY_RULE.version\\n            }\\n        }, {\\n            title: \\\"上传文件\\\",\\n            url: \\\"fileSelect://\\\" + $.toString((path) => {\\n                let webdav = buildWebDav(path, getItem(\\\"user\\\"), getItem(\\\"passwd\\\"))\\n                let s = input.split(\\\"/\\\")\\n                log(webdav.upload(s[s.length - 1].replace(\\\"_fileSelect_\\\", \\\"\\\"), input));\\n                refreshPage();\\n            }, path),\\n            img: \\\"hiker://images/home_icon_bookmark\\\",\\n            col_type: \\\"icon_small_4\\\",\\n        }, {\\n            title: \\\"新文件夹\\\",\\n            url: $(\\\"\\\", \\\"输入文件夹名称\\\").input((path) => {\\n                let webdav = buildWebDav(path, getItem(\\\"user\\\"), getItem(\\\"passwd\\\"))\\n                webdav.makeDir(input)\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }, path),\\n            img: \\\"hiker://images/home_icon_fold\\\",\\n            col_type: \\\"icon_small_4\\\"\\n        }, {\\n            title: getMyVar(\\\"delete\\\", \\\"0\\\") == \\\"0\\\" ? \\\"删除文件\\\" : \\\"结束删除\\\",\\n            img: \\\"hiker://images/home_icon_item\\\",\\n            url: $().lazyRule(() => {\\n                putMyVar(\\\"delete\\\", getMyVar(\\\"delete\\\", \\\"0\\\") == \\\"0\\\" ? \\\"1\\\" : \\\"0\\\")\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }),\\n            col_type: \\\"icon_small_4\\\"\\n        })\\n        sorr.forEach(item => {\\n            var n = getMyVar(\\\"sort\\\", \\\"默认\\\")\\n            if (n == item) {\\n                var title = item + \\\"↓\\\"\\n            } else if (n.includes(\\\"反\\\") && n.includes(item)) {\\n                var title = item + \\\"↑\\\"\\n            } else {\\n                var title = item + \\\"↕\\\"\\n            }\\n            d.push({\\n                title: title,\\n                col_type: \\\"flex_button\\\",\\n                url: $().lazyRule((item) => {\\n                    if (getMyVar(\\\"sort\\\", \\\"默认\\\") == item) {\\n                        putMyVar(\\\"sort\\\", item + \\\"反\\\")\\n                    } else {\\n                        putMyVar(\\\"sort\\\", item)\\n                    }\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                }, item)\\n            })\\n        })\\n    }\\n    files.forEach(item => {\\n        let fileName = decodeURIComponent(item.name)\\n        let len = 30;\\n        let len2 = len / 2;\\n        if (fileName.length >= len) {\\n            fileName = fileName.substr(0, len2) + '...' + fileName.substr(fileName.length - len2);\\n        }\\n        let icon = getIcon(item)\\n        if (getMyVar(\\\"delete\\\", \\\"0\\\") == \\\"0\\\") {\\n            var url = $().lazyRule((item, files) => {\\n                const {\\n                    fetchFile,\\n                    getHzm,\\n                    getSub,\\n                    removeExt,\\n                    download\\n                } = $.require(\\\"hiker://page/code\\\")\\n                if (item.dir) {\\n                    putMyVar(\\\"path\\\", item.url)\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                } else if ($.movie.includes(getHzm(item.name))) {\\n                    if (getItem(\\\"subtitle\\\", \\\"开\\\") == \\\"开\\\") {\\n                        let subtitles = getSub(files)\\n                        let names = [\\\"不需要字幕\\\"]\\n                        subtitles.forEach(ds => {\\n                            names.push(ds.title)\\n                        })\\n                        if (subtitles.length != 0) {\\n                            return $(names, 1, \\\"请选择字幕\\\").select((names, subtitles, url) => {\\n                                if (input == \\\"不需要字幕\\\") {\\n                                    return JSON.stringify({\\n                                        urls: [url],\\n                                        headers: {\\n                                            \\\"Authorization\\\": \\\"Basic \\\" + base64Encode(getItem(\\\"username\\\") + \\\":\\\" + getItem(\\\"passwd\\\"))\\n                                        }\\n                                    })\\n                                } else {\\n                                    return JSON.stringify({\\n                                        urls: [url],\\n                                        subtitle: subtitles[names.indexOf(input) - 1].url,\\n                                        headers: {\\n                                            \\\"Authorization\\\": \\\"Basic \\\" + base64Encode(getItem(\\\"username\\\") + \\\":\\\" + getItem(\\\"passwd\\\"))\\n                                        }\\n                                    })\\n                                }\\n                            }, names, subtitles, item.url)\\n                        } else {\\n                            return item.playUrl + \\\"#isVideo=true#\\\"\\n                        }\\n                    } else {\\n                        return item.playUrl + \\\"#isVideo=true#\\\"\\n                    }\\n                } else if (getHzm(item.name) == \\\"md\\\") {\\n                    require(\\\"https://gitlab.com/hjdhnx/hiker/-/raw/main/js/marked.min.js\\\")\\n                    return \\\"hiker://page/preview?content=\\\" + base64Encode(marked.parse(fetchFile(item.url)))\\n                } else if ($.text.includes(getHzm(item.name))) {\\n                    return \\\"hiker://page/preview?content=\\\" + base64Encode(fetchFile(item.url))\\n                } else if ($.audio.includes(getHzm(item.name))) {\\n                    return item.playUrl + \\\"#isMusic=true#\\\"\\n                } else if ($.img.includes(getHzm(item.name))) {\\n                    let p = download(getMyVar(\\\"path\\\", getItem(\\\"dav\\\")), item.name)\\n                    return p\\n                } else {\\n                    return \\\"download://\\\" + item.playUrl\\n                }\\n            }, item, files)\\n        } else {\\n            var url = $(\\\"确认删除？\\\").confirm((url, deleteFile, path) => {\\n                deleteFile(getMyVar(\\\"path\\\", getItem(\\\"dav\\\")), path)\\n                refreshPage()\\n                return \\\"toast://删除成功\\\"\\n            }, item.url, deleteFile, item.name)\\n        }\\n        d.push({\\n            title: fileName,\\n            img: icon,\\n            url: url,\\n            col_type: \\\"avatar\\\"\\n        })\\n        if (getItem(\\\"detail\\\", \\\"开\\\") == \\\"开\\\") {\\n            d.push({\\n                title: \\\"““””<small>““””<font color='#aaaaaa'>\\\" + (getItem(\\\"time\\\", \\\"0\\\") == \\\"0\\\" ? item.modifyTimeStr : item.modifyTime) + \\\"</font></small>\\\",\\n                url: url,\\n                col_type: \\\"text_1\\\"\\n            })\\n        }\\n    })\\n} else if (getItem(\\\"dav\\\", \\\"\\\") == \\\"\\\" || getItem(\\\"username\\\", \\\"\\\") == \\\"\\\" || getItem(\\\"passwd\\\", \\\"\\\") == \\\"\\\") {\\n    d.push({\\n        title: \\\"当前未设置账号，点我设置\\\",\\n        url: \\\"hiker://page/settings\\\",\\n        col_type: \\\"text_center_1\\\"\\n    })\\n} else {\\n    let paths = getMyVar(\\\"path\\\").replace(getItem(\\\"dav\\\"), \\\"\\\")\\n    paths = paths.split(\\\"/\\\")\\n    d.push({\\n        title: \\\"设置\\\",\\n        col_type: \\\"text_1\\\",\\n        url: \\\"hiker://page/settings\\\"\\n    }, {\\n        title: \\\"出错了，点击刷新\\\",\\n        url: $().lazyRule((paths) => {\\n            refreshPage()\\n            return \\\"hiker://empty\\\"\\n        }, paths),\\n        col_type: \\\"text_center_1\\\"\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"预览\",\"path\":\"preview\",\"rule\":\"js:\\nlet content = base64Decode(getParam(\\\"content\\\"))\\nsetResult([{\\n    title: content,\\n    col_type: \\\"long_text\\\"\\n}])\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/movie/7.svg"},{"last_chapter_rule":"","title":"阿里云盘","author":"Joe","version":11,"type":"video","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require(\"hiker://page/home\")","searchFind":"js:$.require(\"hiker://page/search\")","search_url":"hiker://empty?kw=**","group":"①网盘","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"$.extend({\n    text: [\"htm\", \"html\", \"xml\", \"java\", \"properties\", \"sql\", \"js\", \"md\", \"json\", \"conf\", \"ini\", \"vue\", \"php\", \"py\", \"bat\", \"gitignore\", \"yml\", \"go\", \"sh\", \"c\", \"cpp\", \"h\", \"hpp\", \"tsx\"],\n    audio: [\"mp3\", \"flac\", \"ogg\", \"m4a\", \"wav\", \"opus\"],\n    movie: [\"mp4\", \"mkv\", \"avi\", \"mov\", \"rmvb\", \"webm\", \"flv\", \"m4v\", \"m3u8\", \"ts\"],\n    img: [\"jpg\", \"png\", \"jpeg\", \"gif\", \"svg\", \"raw\"],\n    subtitle: [\"vtt\", \"srt\", \"ass\"]\n})","pages":"[{\"col_type\":\"text_1\",\"name\":\"主页\",\"path\":\"home\",\"rule\":\"js:\\nvar d = [];\\nif (!fileExist(\\\"hiker://files/rules/Joe/ali.json\\\")) {\\n    d.push({\\n        title: \\\"登陆以开启\\\",\\n        url: \\\"hiker://page/login\\\",\\n        col_type: \\\"text_center_1\\\"\\n    })\\n} else {\\n    function formatDate(time) {\\n        var date = new Date(time);\\n        var YY = date.getFullYear() + '-';\\n        var MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\\n        var DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());\\n        var hh = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\\n        var mm = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\\n        var ss = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\\n        return YY + MM + DD + \\\" \\\" + hh + mm + ss;\\n    }\\n    $.require(\\\"hiker://page/api\\\").refreshToken()\\n    let config = JSON.parse(fetch(\\\"hiker://files/rules/Joe/ali.json\\\"))\\n    d.unshift({\\n        title: config.nick_name,\\n        img: config.avatar,\\n        url: $(\\\"确认退出登陆？\\\").confirm(() => {\\n            deleteFile(\\\"hiker://files/rules/Joe/ali.json\\\")\\n            refreshPage()\\n        }),\\n        col_type: \\\"avatar\\\"\\n    }, {\\n        desc: \\\"搜索我的文件或输入分享链接\\\",\\n        col_type: \\\"input\\\",\\n        url: \\\"'hiker://page/search?kw='+input\\\",\\n        extra: {\\n            titleVisible: false,\\n            onChange: \\\"putMyVar('kw',input)\\\"\\n        }\\n    })\\n    var paths = storage0.getMyVar(\\\"paths\\\", [{\\n        name: \\\"根目录\\\",\\n        id: \\\"root\\\"\\n    }])\\n    if (paths.length > 1) {\\n        d.push({\\n            title: \\\"<\\\",\\n            col_type: \\\"scroll_button\\\",\\n            url: $().lazyRule((paths) => {\\n                paths.pop()\\n                storage0.putMyVar(\\\"paths\\\", paths)\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }, paths)\\n        })\\n    }\\n    paths.forEach((item, index) => {\\n        d.push({\\n            title: item.name,\\n            col_type: \\\"scroll_button\\\",\\n            url: $().lazyRule((item, paths, index) => {\\n                putMyVar(\\\"id\\\", item.id)\\n                storage0.putMyVar(\\\"paths\\\", paths.slice(0, index + 1))\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }, item, paths, index)\\n        })\\n    })\\n    var list = $.require(\\\"hiker://page/api\\\").getFiles(paths[paths.length - 1].id).items\\n    d.push({\\n        title: \\\"TVbox推送:\\\" + getItem(\\\"tvb\\\", \\\"关\\\"),\\n        col_type: \\\"flex_button\\\",\\n        url: $(\\\"#noRecordHistory##noLoading#\\\").lazyRule(() => {\\n            var o = getItem(\\\"tvb\\\", \\\"关\\\")\\n            setItem(\\\"tvb\\\", (o == \\\"关\\\" ? \\\"开\\\" : \\\"关\\\"))\\n            refreshPage()\\n            return \\\"toast://切换成功\\\"\\n        })\\n    }, {\\n        title: \\\"聚云盘\\\",\\n        url: \\\"hiker://page/聚\\\",\\n        col_type: \\\"flex_button\\\"\\n    }, {\\n        title: \\\"切换样式\\\",\\n        url: $([\\\"movie_1_left_pic\\\", \\\"card_pic_3\\\", \\\"avatar\\\"]).select((l) => {\\n            setItem(\\\"style\\\", input)\\n            for (let i = 0; i < l; i++) {\\n                updateItem(i + \\\"\\\", {\\n                    col_type: input\\n                })\\n            }\\n            return \\\"toast://已切换\\\"\\n        }, list.length),\\n        col_type: \\\"text_2\\\"\\n    }, {\\n        title: \\\"排序:\\\" + (getMyVar(\\\"order\\\", \\\"name\\\") == \\\"name\\\" ? \\\"名称\\\" : \\\"时间\\\"),\\n        url: $(\\\"#noRecordHistory##noLoading#\\\").lazyRule(() => {\\n            var o = getMyVar(\\\"order\\\", \\\"name\\\")\\n            putMyVar(\\\"order\\\", (o == \\\"name\\\" ? \\\"updated_at\\\" : \\\"name\\\"))\\n            refreshPage()\\n            return \\\"toast://切换成功\\\"\\n        }),\\n        col_type: \\\"text_2\\\"\\n    }, {\\n        col_type: \\\"blank_block\\\"\\n    })\\n    list.forEach((item, i) => {\\n        let fileName = item.name\\n        let len = 40;\\n        let len2 = len / 2;\\n        if (fileName.length >= len) {\\n            fileName = fileName.substr(0, len2) + '...' + fileName.substr(fileName.length - len2);\\n        }\\n        d.push({\\n            title: fileName,\\n            img: (item.thumbnail ? item.thumbnail : (item.type == \\\"folder\\\" ? \\\"https://gitcode.net/qq_32394351/dr/-/raw/master/img/文件类型2/文件夹.svg\\\" : $.require(\\\"hiker://page/api\\\").getIcon(item.name))),\\n            url: (item.type == \\\"folder\\\" ? $().lazyRule((paths, name, id) => {\\n                paths.push({\\n                    name: name,\\n                    id: id\\n                })\\n                storage0.putMyVar(\\\"paths\\\", paths)\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }, paths, item.name, item.file_id) : $().lazyRule((id, name) => {\\n                return $.require(\\\"hiker://page/api\\\").chuli(id, name)\\n            }, item.file_id, item.name)),\\n            desc: formatDate(Date.parse(item.updated_at)),\\n            col_type: getItem(\\\"style\\\", \\\"movie_3\\\"),\\n            extra: {\\n                id: i + \\\"\\\"\\n            }\\n        })\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"登陆\",\"path\":\"login\",\"rule\":\"js:\\nvar d = [];\\nlet url = 'https://auth.aliyundrive.com/v2/oauth/authorize?login_type=custom&response_type=code&redirect_uri=https%3A%2F%2Fwww.aliyundrive.com%2Fsign%2Fcallback&client_id=25dzX3vbYqktVxyX&state=%7B%22origin%22%3A%22*%22%7D#/login'\\nvar js = $.toString(() => {\\n    const tokenFunction = function() {\\n        var token = JSON.parse(localStorage.getItem('token'))\\n        if (token && token.user_id) {\\n            let token_url = 'hiker://files/rules/Joe/ali.json';\\n            fy_bridge_app.writeFile(token_url, JSON.stringify(token))\\n            localStorage.clear();\\n            alert('TOKEN获取成功，请勿泄漏个人隐私!退出该页面后刷新重试！');\\n            fy_bridge_app.back();\\n            return;\\n        } else {\\n            token_timer();\\n        }\\n    }\\n    var token_timer = function() {\\n        setTimeout(tokenFunction, 300)\\n    };\\n    token_timer();\\n    tokenFunction();\\n})\\nd.push({\\n    url: url,\\n    col_type: 'x5_webview_single',\\n    desc: '100%&&float',\\n    extra: {\\n        canBack: true,\\n        js: js\\n    }\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"api\",\"path\":\"api\",\"rule\":\"var refreshToken = function() {\\n    var url = \\\"https://auth.aliyundrive.com/v2/account/token\\\"\\n    var config = JSON.parse(fetch(\\\"hiker://files/rules/Joe/ali.json\\\"))\\n    var res = JSON.parse(post(url, {\\n        body: JSON.stringify({\\n            \\\"refresh_token\\\": config.refresh_token,\\n            \\\"grant_type\\\": \\\"refresh_token\\\"\\n        })\\n    }))\\n    config[\\\"refresh_token\\\"] = res.refresh_token\\n    config[\\\"access_token\\\"] = res.access_token\\n    writeFile(\\\"hiker://files/rules/Joe/ali.json\\\", JSON.stringify(config))\\n}\\nvar getFiles = function(id, did) {\\n    var url = \\\"https://api.aliyundrive.com/adrive/v3/file/list\\\"\\n    var config = JSON.parse(fetch(\\\"hiker://files/rules/Joe/ali.json\\\"))\\n    var def = did ? did : config.default_drive_id\\n    let res = post(url, {\\n        body: JSON.stringify({\\n            \\\"drive_id\\\": def,\\n            \\\"parent_file_id\\\": id,\\n            \\\"limit\\\": 100,\\n            \\\"all\\\": true,\\n            \\\"url_expire_sec\\\": 1600,\\n            \\\"image_thumbnail_process\\\": \\\"image/resize,w_400/format,jpeg\\\",\\n            \\\"image_url_process\\\": \\\"image/resize,w_1920/format,jpeg\\\",\\n            \\\"video_thumbnail_process\\\": \\\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\\\",\\n            \\\"fields\\\": \\\"*\\\",\\n            \\\"order_by\\\": getMyVar(\\\"order\\\", \\\"name\\\"),\\n            \\\"order_direction\\\": \\\"ASC\\\"\\n        }),\\n        headers: {\\n            \\\"authorization\\\": config.access_token\\n        }\\n    })\\n    return JSON.parse(res)\\n}\\nvar chuli = function(id, name, did) {\\n    var config = JSON.parse(fetch(\\\"hiker://files/rules/Joe/ali.json\\\"))\\n    var did = did ? did : config.default_drive_id\\n    let {\\n        getHzm,\\n        push\\n    } = $.require(\\\"hiker://page/api\\\")\\n    var Hzm = getHzm(name)\\n    if ($.movie.includes(Hzm)) {\\n        let durl = \\\"https://api.aliyundrive.com/v2/file/get_download_url\\\"\\n        let purl = \\\"https://api.aliyundrive.com/v2/file/get_video_preview_play_info\\\"\\n        var urls = []\\n        var names = [\\\"原画\\\"]\\n        let url = post(durl, {\\n            headers: {\\n                \\\"authorization\\\": config.access_token\\n            },\\n            body: JSON.stringify({\\n                \\\"expire_sec\\\": 115200,\\n                \\\"file_id\\\": id,\\n                \\\"drive_id\\\": did\\n            })\\n        })\\n        urls.push(JSON.parse(url).url + \\\"#isVideo=true#\\\")\\n        let pu = post(purl, {\\n            headers: {\\n                \\\"authorization\\\": config.access_token\\n            },\\n            body: JSON.stringify({\\n                \\\"drive_id\\\": did,\\n                \\\"category\\\": \\\"live_transcoding\\\",\\n                \\\"file_id\\\": id,\\n                \\\"template_id\\\": \\\"\\\"\\n            })\\n        })\\n        JSON.parse(pu).video_preview_play_info.live_transcoding_task_list.forEach(item => {\\n            urls.push(item.url + \\\"#isVideo=true#\\\")\\n            names.push(item.template_id)\\n        })\\n        if (getItem(\\\"tvb\\\", \\\"关\\\") == \\\"开\\\") {\\n            var u = []\\n            urls.forEach((item, i) => {\\n                u.push({\\n                    name: names[i],\\n                    url: item\\n                })\\n            })\\n            require(\\\"https://hikerfans.com/Joe/TVbox.js\\\")\\n            return 推送tvbox({\\n                name: name,\\n                vod: [{\\n                    name: \\\"阿里云盘\\\",\\n                    urls: u\\n                }]\\n            })\\n        }\\n        return JSON.stringify({\\n            urls: urls,\\n            names: names,\\n            headers: [{\\n                \\\"Referer\\\": \\\"https://www.aliyundrive.com/\\\"\\n            }]\\n        })\\n    } else {\\n        let durl = \\\"https://api.aliyundrive.com/v2/file/get_download_url\\\"\\n        let url = post(durl, {\\n            headers: {\\n                \\\"authorization\\\": config.access_token\\n            },\\n            body: JSON.stringify({\\n                \\\"expire_sec\\\": 115200,\\n                \\\"file_id\\\": id,\\n                \\\"drive_id\\\": did\\n            })\\n        })\\n        return JSON.parse(url).url\\n    }\\n}\\n$.exports.sharechuli = function(share_id, id, name, s) {\\n    var config = JSON.parse(fetch(\\\"hiker://files/rules/Joe/ali.json\\\"))\\n    let {\\n        getHzm,\\n        push\\n    } = $.require(\\\"hiker://page/api\\\")\\n    var Hzm = getHzm(name)\\n    if ($.movie.includes(Hzm)) {\\n        log(\\\"是视频文件\\\")\\n        let durl = \\\"https://api.aliyundrive.com/v2/file/get_share_link_download_url\\\"\\n        let purl = \\\"https://api.aliyundrive.com/v2/file/get_share_link_video_preview_play_info\\\"\\n        var urls = []\\n        var names = [\\\"原画\\\"]\\n        let url = post(durl, {\\n            headers: {\\n                \\\"x-share-token\\\": s,\\n                \\\"authorization\\\": config.access_token\\n            },\\n            body: JSON.stringify({\\n                \\\"expire_sec\\\": 600,\\n                \\\"file_id\\\": id,\\n                \\\"share_id\\\": share_id\\n            })\\n        })\\n        urls.push(JSON.parse(url).url + \\\"#isVideo=true#\\\")\\n        let pu = post(purl, {\\n            headers: {\\n                \\\"x-share-token\\\": s,\\n                \\\"authorization\\\": config.access_token\\n            },\\n            body: JSON.stringify({\\n                \\\"share_id\\\": share_id,\\n                \\\"category\\\": \\\"live_transcoding\\\",\\n                \\\"file_id\\\": id,\\n                \\\"template_id\\\": \\\"\\\"\\n            })\\n        })\\n        JSON.parse(pu).video_preview_play_info.live_transcoding_task_list.forEach(item => {\\n            urls.push(item.url + \\\"#isVideo=true#\\\")\\n            names.push(item.template_id)\\n        })\\n        if (getItem(\\\"tvb\\\", \\\"关\\\") == \\\"开\\\") {\\n            var u = []\\n            urls.forEach((item, i) => {\\n                u.push({\\n                    name: names[i],\\n                    url: item\\n                })\\n            })\\n            require(\\\"https://hikerfans.com/Joe/TVbox.js\\\")\\n            return 推送tvbox({\\n                name: name,\\n                vod: [{\\n                    name: \\\"阿里云盘\\\",\\n                    urls: u\\n                }],\\n                extra: {\\n                    \\\"manual\\\": \\\"1\\\",\\n                    \\\"format\\\": \\\"redirect\\\"\\n                }\\n            })\\n        }\\n        return JSON.stringify({\\n            urls: urls,\\n            names: names,\\n            headers: [{\\n                \\\"Referer\\\": \\\"https://www.aliyundrive.com/\\\"\\n            }]\\n        })\\n    } else {\\n        let durl = \\\"https://api.aliyundrive.com/v2/file/get_share_link_download_url\\\"\\n        let url = post(durl, {\\n            headers: {\\n                \\\"x-share-token\\\": s,\\n                \\\"authorization\\\": config.access_token\\n            },\\n            body: JSON.stringify({\\n                \\\"expire_sec\\\": 600,\\n                \\\"file_id\\\": id,\\n                \\\"share_id\\\": share_id\\n            })\\n        })\\n        return JSON.parse(url).url\\n    }\\n}\\n$.exports.getIcon = function(fileName) {\\n    let {\\n        getHzm\\n    } = $.require(\\\"hiker://page/api\\\")\\n    let root = \\\"https://gitcode.net/qq_32394351/dr/-/raw/master/img/文件类型2/\\\";\\n    let files = 'ai|apk|avi|css|dmg|exe|flv|gif|hiker|html|iso|jpg|js|json|log|mov|mp3|mp4|otf|php|png|ppt|psd|table|txt|wav|xls|zip|css|doc|epub|exc|htm|xlsx'.split('|');\\n    let hzm = getHzm(fileName)\\n    if (files.includes(hzm)) {\\n        img = root + hzm + '.svg';\\n    } else {\\n        img = root + \\\"文件.svg\\\"\\n    }\\n    return img\\n}\\n$.exports.getHzm = function(fileName) {\\n    return fileName.substr(fileName.lastIndexOf(\\\".\\\") + 1)\\n}\\n$.exports.refreshToken = refreshToken\\n$.exports.getFiles = getFiles\\n$.exports.chuli = chuli\"},{\"col_type\":\"movie_3\",\"name\":\"分享\",\"path\":\"share\",\"rule\":\"js:\\nvar d = [];\\n\\nfunction formatDate(time) {\\n    var date = new Date(time);\\n    var YY = date.getFullYear() + '-';\\n    var MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\\n    var DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());\\n    var hh = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\\n    var mm = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\\n    var ss = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\\n    return YY + MM + DD + \\\" \\\" + hh + mm + ss;\\n}\\nif (getParam(\\\"share_id\\\").startsWith(\\\"https://www.aliyundrive.com/s/\\\")) {\\n    var shareId = getParam(\\\"share_id\\\")\\n    var share_id = shareId.split('com/s/')[1].split(\\\"/\\\")[0]\\n    if (getItem(share_id, \\\"\\\") != \\\"\\\") {\\n        var password = getItem(share_id)\\n    } else if (getParam(\\\"pwd\\\")) {\\n        var password = getParam(\\\"pwd\\\")\\n    } else {\\n        var password = \\\"\\\"\\n    }\\n    var res = JSON.parse(post(\\\"https://api.aliyundrive.com/adrive/v3/share_link/get_share_by_anonymous?share_id=\\\" + share_id, {\\n        body: JSON.stringify({\\n            \\\"share_id\\\": share_id\\n        })\\n    }))\\n    var sa = JSON.parse(post(\\\"https://api.aliyundrive.com/v2/share_link/get_share_token\\\", {\\n        body: JSON.stringify({\\n            \\\"share_pwd\\\": password,\\n            \\\"share_id\\\": share_id\\n        })\\n    }))\\n    if (sa.share_token) {\\n        var s = sa.share_token\\n        setPageTitle(res.share_name)\\n        var paths = storage0.getMyVar(share_id + \\\"paths\\\", [{\\n            name: \\\"根目录\\\",\\n            id: \\\"root\\\"\\n        }])\\n        if (paths.length > 1) {\\n            d.push({\\n                title: \\\"<\\\",\\n                col_type: \\\"scroll_button\\\",\\n                url: $().lazyRule((share_id, paths) => {\\n                    paths.pop()\\n                    storage0.putMyVar(share_id + \\\"paths\\\", paths)\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                }, share_id, paths)\\n            })\\n        }\\n        paths.forEach((item, index) => {\\n            d.push({\\n                title: item.name,\\n                col_type: \\\"scroll_button\\\",\\n                url: $().lazyRule((share_id, item, paths, index) => {\\n                    putMyVar(\\\"id\\\", item.id)\\n                    storage0.putMyVar(share_id + \\\"paths\\\", paths.slice(0, index + 1))\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                }, share_id, item, paths, index)\\n            })\\n        })\\n        d.unshift({\\n            title: res.creator_name,\\n            img: res.avatar,\\n            col_type: \\\"avatar\\\"\\n        }, {\\n            title: \\\"““””<small>\\\" + formatDate(Date.parse(res.updated_at)) + \\\"</small>\\\",\\n            col_type: \\\"text_1\\\"\\n        }, {\\n            title: \\\"保存到我的网盘\\\",\\n            url: `smartdrive://share/browse?shareId=${share_id}&sharePwd=${password}`,\\n            col_type: \\\"text_center_1\\\"\\n        })\\n        var l = JSON.parse(post(\\\"https://api.aliyundrive.com/adrive/v3/file/list\\\", {\\n            headers: {\\n                \\\"x-share-token\\\": s\\n            },\\n            body: JSON.stringify({\\n                \\\"all\\\": true,\\n                \\\"share_id\\\": share_id,\\n                \\\"parent_file_id\\\": paths[paths.length - 1].id,\\n                \\\"limit\\\": 200,\\n                \\\"image_thumbnail_process\\\": \\\"image/resize,w_160/format,jpeg\\\",\\n                \\\"image_url_process\\\": \\\"image/resize,w_1920/format,jpeg\\\",\\n                \\\"video_thumbnail_process\\\": \\\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\\\",\\n                \\\"order_by\\\": getItem(\\\"order\\\", \\\"name\\\"),\\n                \\\"order_direction\\\": \\\"ASC\\\"\\n            })\\n        })).items\\n        d.push({\\n            title: \\\"切换样式\\\",\\n            url: $([\\\"movie_1_left_pic\\\", \\\"card_pic_3\\\", \\\"avatar\\\"]).select(() => {\\n                setItem(\\\"style\\\", input)\\n                refreshPage()\\n                return \\\"toast://已切换\\\"\\n            }),\\n            col_type: \\\"text_2\\\"\\n        }, {\\n            title: \\\"排序：\\\" + (getMyVar(\\\"order\\\", \\\"name\\\") == \\\"name\\\" ? \\\"名称\\\" : \\\"时间\\\"),\\n            url: $(\\\"#noRecordHistory##noLoading#\\\").lazyRule(() => {\\n                var o = getMyVar(\\\"order\\\", \\\"name\\\")\\n                putMyVar(\\\"order\\\", (o == \\\"name\\\" ? \\\"updated_at\\\" : \\\"name\\\"))\\n                refreshPage()\\n                return \\\"toast://切换成功\\\"\\n            }),\\n            col_type: \\\"text_2\\\"\\n        }, {\\n            col_type: \\\"blank_block\\\"\\n        })\\n        l.forEach((item, i) => {\\n            let fileName = item.name\\n            let len = 40;\\n            let len2 = len / 2;\\n            if (fileName.length >= len) {\\n                fileName = fileName.substr(0, len2) + '...' + fileName.substr(fileName.length - len2);\\n            }\\n            d.push({\\n                title: fileName,\\n                desc: formatDate(Date.parse(item.updated_at)),\\n                img: (item.thumbnail ? item.thumbnail : (item.type == \\\"folder\\\" ? \\\"https://gitcode.net/qq_32394351/dr/-/raw/master/img/文件类型2/文件夹.svg\\\" : $.require(\\\"hiker://page/api\\\").getIcon(item.name))),\\n                url: (item.type == \\\"folder\\\" ? $().lazyRule((paths, name, id, share_id) => {\\n                    paths.push({\\n                        name: name,\\n                        id: id\\n                    })\\n                    storage0.putMyVar(share_id + \\\"paths\\\", paths)\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                }, paths, item.name, item.file_id, share_id) : $().lazyRule((share_id, id, name, s) => {\\n                    return $.require(\\\"hiker://page/api\\\").sharechuli(share_id, id, name, s)\\n                }, share_id, item.file_id, item.name, s)),\\n                col_type: getItem(\\\"style\\\", \\\"movie_3\\\"),\\n                extra: {\\n                    id: i + \\\"\\\"\\n                }\\n            })\\n        })\\n    } else if (sa.code == \\\"ShareLink.Cancelled\\\") {\\n        setResult([{\\n            title: \\\"来晚了，分享被取消了ಠ_ಠ\\\",\\n            col_type: \\\"text_center_1\\\"\\n        }])\\n    } else if (sa.code == \\\"ShareLink.Forbidden\\\") {\\n        setResult([{\\n            title: \\\"来晚了，分享被禁止了ಠ_ಠ\\\",\\n            col_type: \\\"text_center_1\\\"\\n        }])\\n    } else if (sa.code == \\\"ShareLink.Expired\\\") {\\n        setResult([{\\n            title: \\\"来晚了，分享过期了ಠ_ಠ\\\",\\n            col_type: \\\"text_center_1\\\"\\n        }])\\n    } else {\\n        setResult([{\\n            title: \\\"请输入提取码\\\",\\n            url: $(\\\"\\\").input((share_id) => {\\n                setItem(share_id, input)\\n                refreshPage()\\n            }, share_id),\\n            col_type: \\\"text_center_1\\\"\\n        }])\\n    }\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索\",\"path\":\"search\",\"rule\":\"js:\\nvar d = [];\\ntry {\\n    function formatDate(time) {\\n        var date = new Date(time);\\n        var YY = date.getFullYear() + '-';\\n        var MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';\\n        var DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());\\n        var hh = (date.getHours() < 10 ? '0' + date.getHours() : date.getHours()) + ':';\\n        var mm = (date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()) + ':';\\n        var ss = (date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds());\\n        return YY + MM + DD + \\\" \\\" + hh + mm + ss;\\n    }\\n    let kw = getParam(\\\"kw\\\")\\n    var links = kw.match(/https:\\\\/\\\\/(www\\\\.aliyundrive\\\\.com\\\\/s|alywp\\\\.net)\\\\/\\\\w*/g)\\n    if (links) {\\n        d.push({\\n            title: \\\"识别到链接\\\",\\n            url: \\\"toast://ヽ(*⌒∇⌒*)ﾉ\\\",\\n            col_type: \\\"text_center_1\\\"\\n        })\\n        links.forEach(item => {\\n            d.push({\\n                title: item,\\n                url: \\\"hiker://page/share?share_id=\\\" + item,\\n                col_type: \\\"text_1\\\"\\n            })\\n        })\\n        setResult(d)\\n    } else {\\n        var paths = storage0.getMyVar(\\\"paths\\\", [{\\n            name: \\\"根目录\\\",\\n            id: \\\"root\\\"\\n        }])\\n        let u = \\\"https://api.aliyundrive.com/adrive/v3/file/search\\\"\\n        var config = JSON.parse(fetch(\\\"hiker://files/rules/Joe/ali.json\\\"))\\n        var list = JSON.parse(post(u, {\\n            body: JSON.stringify({\\n                \\\"drive_id\\\": \\\"1933181\\\",\\n                \\\"limit\\\": 100,\\n                \\\"image_thumbnail_process\\\": \\\"image/resize,w_400/format,jpeg\\\",\\n                \\\"image_url_process\\\": \\\"image/resize,w_1920/format,jpeg\\\",\\n                \\\"video_thumbnail_process\\\": \\\"video/snapshot,t_1000,f_jpg,ar_auto,w_300\\\",\\n                \\\"query\\\": `name match \\\\\\\"${kw}\\\\\\\"`,\\n                \\\"order_by\\\": \\\"name ASC\\\"\\n            }),\\n            headers: {\\n                \\\"authorization\\\": config.access_token\\n            }\\n        })).items\\n        list.forEach(item => {\\n            let fileName = item.name\\n            let len = 40;\\n            let len2 = len / 2;\\n            if (fileName.length >= len) {\\n                fileName = fileName.substr(0, len2) + '...' + fileName.substr(fileName.length - len2);\\n            }\\n            d.push({\\n                title: fileName,\\n                img: (item.thumbnail ? item.thumbnail : (item.type == \\\"folder\\\" ? \\\"https://gitcode.net/qq_32394351/dr/-/raw/master/img/文件类型2/文件夹.svg\\\" : $.require(\\\"hiker://page/api\\\").getIcon(item.name))),\\n                url: (item.type == \\\"folder\\\" ? $().lazyRule((paths, name, id) => {\\n                    paths.push({\\n                        name: name,\\n                        id: id\\n                    })\\n                    storage0.putMyVar(\\\"paths\\\", paths)                    \\n                    return \\\"hiker://page/home\\\"\\n                }, paths, item.name, item.file_id) : $().lazyRule((id, name) => {\\n                    return $.require(\\\"hiker://page/api\\\").chuli(id, name)\\n                }, item.file_id, item.name)),\\n                desc: formatDate(Date.parse(item.updated_at)),\\n                col_type: \\\"avatar\\\"\\n            })\\n        })\\n    }\\n} catch (e) {}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"聚\",\"path\":\"聚\",\"rule\":\"js:\\nvar d = [];\\nvar urls = \\\"https://wpxz.org&https://yunpan1.com/&https://www.yunpanziyuan.com&https://bbs.aipans.com/&https://newxiaozhan.com/&https://u.gitcafe.net/&https://jihepan.com&https://www.panjd.com/&https://yunpan1.com/&https://aliwp.cn/&https://jike.info/category/2/%E8%AE%A8%E8%AE%BA%E5%8C%BA?lang=en-US&https://zhaoziyuan.la/&https://yiso.fun/&https://www.alipansou.com/&https://www.cuppaso.fun/&https://www.upyunso.com/&https://www.niceso.fun/&https://dalao.ru/w/&http://wanrenmi8.com/cn/index.html\\\"\\nlet names = \\\"网盘小站&云盘分享&云盘资源网&爱盼&小站&小纸条&鸡盒盘&盘基地登陆&云盘资源&网盘资源&JIKE&找资源&易搜&喵搜&卡帕&UP云搜&奈斯搜索&大佬&万人迷\\\"\\nnames.split(\\\"&\\\").forEach((item, i) => {\\n    d.push({\\n        title: item,\\n        url: $().lazyRule((i) => {\\n            putMyVar(\\\"index\\\", i + \\\"\\\")\\n            refreshPage()\\n            return \\\"hiker://empty\\\"\\n        }, i),\\n        col_type: \\\"scroll_button\\\"\\n    })\\n})\\nvar u = urls.split(\\\"&\\\")[parseInt(getMyVar(\\\"index\\\", \\\"0\\\"))]\\nd.push({\\n    col_type: \\\"x5_webview_single\\\",\\n    url: u,\\n    desc: \\\"auto&&list\\\",\\n    extra: {\\n        //canBack: true,\\n        urlInterceptor: $.toString(() => {\\n            if (input.startsWith('https://www.aliyundrive.com/s/')) {\\n                return $.toString((url) => {\\n                    fba.open(JSON.stringify({\\n                        rule: '阿里云盘',\\n                        url: 'hiker://page/share?rule=阿里云盘&share_id=' + url\\n                    }));\\n                }, input)\\n            }\\n        }),\\n        //disableX5: true\\n    }\\n})\\nsetResult(d);\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/ke/31.png"},{"last_chapter_rule":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hikchapter();","title":"香情影视","author":"香雅情","version":7,"type":"all","url":"hiker://files/rules/xyq/hikermovie.json","col_type":"icon_4_card","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hikhmrule();","searchFind":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hiksearch();","search_url":"hiker://empty$$$hiker://files/rules/xyq/hikermovie.json$$$**$$$fypage$$$","titleColor":"#fff20c00","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hikhmerj();","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hikseaerji();","ua":"mobile","preRule":"//设置更新间隔时间,单位为整数天。\nvar uptime = 2;\nfunction uprulefile() {\n    var rulejs = fetch('https://agit.ai/lzk23559/CloudRule/raw/branch/master/hikermovie.js', {});\n    if (rulejs.search(/lazyRule/) == -1) {\n        rulejs = fetch('https://codeberg.org/lzk23559/cloudrule/raw/branch/master/hikermovie.js', {});\n    }\n    if (rulejs.search(/lazyRule/) != -1) {\n        writeFile(\"hiker://files/rules/xyq/hikermovie.js\", rulejs);\n    }\n    var rulejson = fetch('https://agit.ai/lzk23559/CloudRule/raw/branch/master/hikermovie.json', {});\n    if (rulejson.search(/\\\"vodhref\\\"/) == -1) {\n        rulejson = fetch('https://codeberg.org/lzk23559/cloudrule/raw/branch/master/hikermovie.json', {});\n    }\n    if (rulejson.search(/\\\"vodhref\\\"/) != -1) {\n        writeFile(\"hiker://files/rules/xyq/hikermovie.json\", rulejson);\n    }\n    if (rulejs.search(/lazyRule/) != -1 && rulejson.search(/\\\"vodhref\\\"/) != -1) {\n        writeFile(\"hiker://files/rules/xyq/hikerupdate.txt\", new Date() + '');\n        confirm({title:'提示', content:'自动更新完成'});\n    } else {\n        confirm({title:'提示', content:'自动更新失败'});\n    }\n}\n\n\n\n//检测是否有写入时间与规则的js插件文件\nif (fileExist(\"hiker://files/rules/xyq/hikerupdate.txt\") && fileExist(\"hiker://files/rules/xyq/hikermovie.js\") && fileExist(\"hiker://files/rules/xyq/hikermovie.json\")) {\n    //计算时间间隔\n    var start = new Date(fetch(\"hiker://files/rules/xyq/hikerupdate.txt\", {}));\n    var nowt = new Date();\n    var D_T = nowt.getTime() - start.getTime();\n    var D_D = D_T / (1000 * 3600 * 24);\n    var tdif = parseInt(D_D) + '';\n    //log(tdif);\n    //默认间隔超过设置天数就取一次云端文件\n    if (tdif >= uptime || tdif < 0) {\n        uprulefile();\n    }\n} else {\n    //如果少一个文件就自动取云端文件\n    uprulefile();\n}\n\n\n\n//执行需要预处理的站点\nvar lac = fetch('hiker://files/rules/xyq/hikermovie.js');\n//log(lac.length);\nif (lac.search(/lazyRule/) != -1) {\n    eval(lac);\n    hikerpre();\n} else {\n    //如果本地文件不对将尝试自修复\n    uprulefile();\n    setError('规则修复完成，如有问题请反馈。')\n}","pages":"[]","proxy":"","icon":"https://codeberg.org/lzk23559/PublicRule/raw/branch/master/xqys.png"},{"last_chapter_rule":"","title":"聚漫🔮","author":"小棉袄🌞&永远の明日&团子&Hi&梦海&菜鸡&dy2020","version":221113107,"type":"all","url":"hiker://empty","col_type":"icon_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', '@'),\n    types = {\n        'all': '优质',\n        'video': '视频',\n        'music': '音频',\n        'live': '直播',\n        'cartoon': '漫画',\n        'read': '阅读',\n        'picture': '另类',\n        'news': '无搜索',\n        'tool': '可下载',\n        'other': '抽风'\n    }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar',\n        extra: {\n            version: MY_RULE.version\n        }\n    }, {\n        desc: '0',\n        url: 'hiker://page/Main.view?rule=本地资源管理',\n        img: 'hiker://images/home_pic4',\n        col_type: 'card_pic_1'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '这是聚漫的搜索哦~~',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n                if (typeShow[0] == '@') {\n                    let filterKey = typeShow.slice(1)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow[0] == '@') {\n    let filterKey = typeShow.slice(1)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push({\n    img: 'https://lanmeiguojiang.com/tubiao/ke/1.png',\n    title: '收藏',\n    url: \"hiker://collection?group=聚漫🔮\",\n    col_type: \"icon_2\"\n}, {\n    img: 'https://lanmeiguojiang.com/tubiao/ke/137.png',\n    title: '历史',\n    url: \"hiker://history\",\n    col_type: \"icon_2\"\n})\nel.push(typeShow[0] == '@' ? {\n    title: '““””' + ('全部' + (typeShow[1] ? '[' + typeShow.slice(1) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', '@' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', '@')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\n\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\nif (getItem(\"read_policy\") !== \"1\") {\n    el.push({\n        title: '““””<small><font color=#871f78>以下数据来源于网络，如您喜欢，请支持官方</font></small>',\n        desc: '““””<small><font color=#f20c00>本规则仅限免费学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播或售卖此规则的整体或部分！</font></small>',\n        url: $('#noHistory#').lazyRule(() => {\n            setItem(\"read_policy\", \"1\")\n            refreshPage(false)\n            return \"toast://你已同意该协议\"\n        }),\n        col_type: 'text_center_1'\n    })\n}\n\nif (getItem(\"data\") !== \"1\") {\n    url = getMyVar('remoteUrl')\n    el.push({\n        title: '““””<small><font color=#871f78>点击获取漫画源</font></small>',\n        url: $('#noHistory#').lazyRule((url) => {\n            setItem(\"data\", \"1\")\n            requireDownload('https://agit.ai/DreamOvO/JuMan/raw/branch/master/JM', url)\n            back(false)\n            refreshPage(true)\n            return \"toast://数据已获取\"\n        }, url),\n        col_type: 'text_center_1'\n    })\n}\nif (typeShow[0] != '@') rules = rulesType[typeShow]\nlet { paramHandle } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {})\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^https?:\\/\\/[^/?#]+/i.exec(ruleTmp.url) || ['hiker://empty'])[0],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + fypage +\n                    '.js:let { runCode, indexUrl } = $.require(\"hiker://page/funcTools？？rule=' + QING_TITLE + '\", '\n                     + JSON.stringify({\n                        MY_RULE: base64Encode(JSON.stringify(ruleTmp)),\n                        QING_TITLE: QING_TITLE\n                    }) + ')；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: base64Encode(JSON.stringify({ title: v.title })),\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', '@')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n            if (typeShow[0] == '@') {\n                let filterKey = typeShow.slice(1)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'hiker://files//rules/Tz/JM')\n// \n/*\n*/","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"var {\\n    QING_TITLE, title, url,\\n    class_name, class_url,\\n    area_name, area_url,\\n    year_name, year_url,\\n    sort_name, sort_url\\n} = $.importParam\\nconst ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('$fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('$fold_' + sign, folded ? '' : 'T')\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nlet fyAll = url.includes('fyAll'),\\n    tabHeader = []\\nif (class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: class_name,\\n    class_url: class_url\\n})\\nif (area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: area_name,\\n    class_url: area_url\\n})\\nif (year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: year_name,\\n    class_url: year_url\\n})\\nif (sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: sort_name,\\n    class_url: sort_url\\n})\\n$.exports = {\\n    fyAll: fyAll,\\n    tabHeader: new ClassTab(tabHeader, { name: title, fold: readFile('tabFold'), })\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE, true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，没事别点）',\\n        url: $(\\\"清除缓存，立即更新\\\").confirm((url) => {\\n            //远程依赖索引文件代理地址列表\\n            let requirelist = ['https://raw.iqiq.io/', 'https://ghproxy.net/https://raw.githubusercontent.com/', 'https://ghproxy.com/https://raw.githubusercontent.com/', 'https://cdn.staticaly.com/gh/', 'https://github.jevons.vip/https://raw.githubusercontent.com/']\\n            for (let i = 0; i < requirelist.length; i++) {\\n                try { //远程依赖索引\\n                    let res = request(requirelist[i] + 'DreamOzO/JM/main/JM', {\\n                        withStatusCode: true\\n                    })\\n                    if (JSON.parse(res).statusCode == 200) {\\n                        if (fileExist(url)) {\\n                            deleteFile(url)\\n                            requireDownload(requirelist[i] + 'DreamOzO/JM/main/JM',url)\\n                            break\\n                        } else {\\n                            requireDownload(requirelist[i] + 'DreamOzO/JM/main/JM',url)\\n                            break\\n                        }\\n                    }\\n                } catch (e) {}\\n            }\\n            refreshPage(true)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if (Number.isNaN(input)) input = 1\\n        else if (input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if (url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if (rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\nel.push({\\n    title: \\\"更新&反馈\\\",\\n    url: \\\"hiker://page/Up#noRefresh##noRecordHistory##noHistory#\\\",\\n    extra: {\\n        version: MY_PARAMS.version || \\\"获取版本失败，自行查看\\\"\\n    },\\n    col_type: \\\"text_center_1\\\"\\n});\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据', '编辑JSON'], 1).select(() => {\\n        switch (input.slice(0, 2)) {\\n            case '清除':\\n                deleteFile('customData')\\n                break\\n            case '启用':\\n                saveFile('disableCustom', '')\\n                break\\n            case '禁用':\\n                saveFile('disableCustom', 'T')\\n                input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n                break\\n            case '编辑':\\n                let url = getMyVar('remoteUrl')\\n                if (!url.startsWith('hiker://files/') && !url.startsWith('file://'))\\n                    url = 'hiker://files/libs/' + md5(url) + '.js'\\n                return  'hiker://page/interface#noRefresh##noHistory##noRecordHistory#?rule=JSON编辑器&Json='+base64Encode(url)\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif (editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'), true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nvar myColl_el = []\\neval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(oriRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n} else if (MY_PAGE == 1) {\\n    tabHeader.load(myColl_el)\\n    if (RULE.search_url) myColl_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"这是轻合集的搜索哦~~\\\",\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        extra: {\\n            rules: $.toString((QING_TITLE, title) => {\\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\\n                rules = [rules.find((v) => v.title == title)]\\n                return JSON.stringify(rules)\\n            }, QING_TITLE, RULE.title),\\n            defaultValue: getMyVar('searchKey', ''),\\n            onChange: \\\"putMyVar('searchKey',input)\\\"\\n        },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 正文解析\\nvar {\\n    paramHandle,\\n    runPreRule,\\n    genExUrl,\\n    hijackLazyRule\\n} = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\nrunPreRule(oriRULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    let { hijackEl } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n    setResult = function(param0, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(param0.data)) param0 = param0.data\\n        Array.prototype.push.apply(myColl_el, param0.map(hijackEl))\\n        method_setResult.invoke(javaContext, myColl_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let { runCode } = $.require('hiker://page/funcTools?rule=' + QING_TITLE),\\n        [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(Object.assign(genMyRule(), { detail_find_rule: detailFindRule }))),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(genMyRule())),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myColl_el.push(res)\\n    })\\n    setResult(myColl_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"let showAll = $.importParam,\\n    url = getMyVar('remoteUrl'),\\n    data = []\\nif (url.startsWith('hiker://') || url.startsWith('file://')) {\\n    // 如果为本地文件则不进行缓存\\n    try {\\n        let oriData = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            oriData = JSON.parse(oriData).rule\\n        data = JSON.parse(oriData)\\n    } catch (e) {}\\n} else {\\n    // 获取远程数据，检查间隔默认一天\\n    let interval = parseInt(readFile('updateInterval') || '1'),\\n        oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n        remoteData = []\\n    if (interval == 0) interval = -1\\n    try { remoteData = JSON.parse(fetchCache(url, 24 * interval, { timeout: 50000 })) } catch (e) {}\\n    if (!Array.isArray(remoteData)) remoteData = []\\n    if (remoteData.length < 3) {\\n        log('未获取到数据')\\n        if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n        data = JSON.parse(oldData || '[]')\\n    } else {\\n        log('已获取到数据')\\n        data = remoteData\\n    }\\n}\\ndata = data.filter((v) => v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器'))\\nif (readFile('disableCustom')) $.exports = data\\nelse { // 写入自定义数据\\n    let customData = JSON.parse(readFile('customData') || '[]'),\\n        rewriteData = []\\n    customData = customData.reduce((self, v) => {\\n        let index = data.findIndex((vv) => v.title == vv.title)\\n        if (index >= 0) {\\n            self.push(v)\\n            let rule = data.splice(index, 1)[0]\\n            if (showAll || v.visible)\\n                rewriteData.push(Object.assign(rule, v))\\n        }\\n        return self\\n    }, [])\\n    data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n    saveFile('customData', JSON.stringify(customData))\\n    $.exports = rewriteData.concat(data)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"链接处理*\",\"path\":\"urlParse\",\"rule\":\"// 首页链接替换分类\\nfunction indexUrl(param) {\\n    function runCode(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    }\\n    let { RULE, pageNum, QING_TITLE } = JSON.parse(param.split('###')[1])\\n    RULE = JSON.parse(base64Decode(RULE))\\n    pageNum = parseInt(pageNum)\\n    let url = RULE.url\\n\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"二级[一]*\",\"path\":\"ejtool\",\"rule\":\"function cover(标题, 作者, 分类, 状态, 章节, 更新, 简介,封面图片,true_url, hasLine) {\\r\\nvar 标题, 作者, 分类, 状态, 章节, 更新, 简介,封面图片,true_url, hasLine;\\r\\n\\ttry {\\r\\n\\t\\td.push({\\r\\n\\t\\t\\ttitle: '‘‘’’<small><font color=\\\"#FA7298\\\">'+作者.slice(0,15)+\\\"&nbsp;\\\"+状态+'</font></small>'+'‘‘’’<small><font color=\\\"#B15BFF\\\">'+\\\"\\\\n\\\"+分类+'</font></small>'+'‘‘’’<small><font color=\\\"#FF359A\\\">'+\\\"\\\\n\\\"+章节+\\\"&nbsp;\\\"+更新+'</font></small>',\\r\\n\\t\\t\\tdesc:'‘‘’’<small>' +简介+ '</small>',\\r\\n\\t\\t\\tpic_url:  封面图片,\\r\\n\\t\\t\\turl: true_url,\\r\\n\\t\\t\\tcol_type: 'movie_1_vertical_pic_blur'\\r\\n\\t\\t});\\n\\t\\td.push({\\r\\n\\t\\t\\tcol_type: 'line_blank',\\r\\n\\t\\t});\\n\\t\\td.push({\\r\\n\\t\\t\\tcol_type: 'line',\\r\\n\\t\\t});\\r\\n\\t\\tif (hasLine) {\\r\\n\\t\\t\\titem.extra = {\\r\\n\\t\\t\\t\\tlineVisible: false\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t\\td.push(item);\\r\\n\\t} catch (e) {}\\r\\n}\\r\\nfunction chapter(title,pic_url,chapterList, chapterTitle, chapterUrl, defaultOrder, hasLine,downloadlazy) {\\r\\n\\tvar list = chapterList;\\r\\n\\tvar original = [{\\r\\n\\t\\turl: MY_URL,\\r\\n\\t\\torder: defaultOrder\\r\\n\\t}];\\r\\n\\t!fileExist('hiker://files/rules/comic/comicLogFile.js') ? (writeFile('hiker://files/rules/comic/comicLogFile.js', JSON.stringify(original))) : 0;\\r\\n\\tvar log = JSON.parse(fetch('hiker://files/rules/comic/comicLogFile.js'));\\r\\n\\tfor (var i in log) {\\r\\n\\t\\tif (log[i].url == MY_URL) {\\r\\n\\t\\t\\tvar now = i;\\r\\n\\t\\t\\tvar order = log[i].order;\\r\\n\\t\\t\\tbreak;\\r\\n\\t\\t} else {\\r\\n\\t\\t\\tvar now = '';\\r\\n\\t\\t\\tvar order = defaultOrder;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\tlet orderItem = {\\r\\n\\t\\ttitle: \\\"““””\\\" + '<strong><font color=\\\"#098AC1\\\">' + '章节排序⇅' + '</font></strong>',\\r\\n\\t\\turl: MY_URL + `@lazyRule=.js:var log = JSON.parse(fetch('hiker://files/rules/comic/comicLogFile.js'));var now='` + now + `';if(now!=''){var now=parseInt(now);var order=log[now].order}else{var now=parseInt(log.length);var order=` + defaultOrder + `;log.push({url:input,order:order});}if(log[now].order){log[now].order=0;}else{log[now].order=1;};writeFile('hiker://files/rules/comic/comicLogFile.js', JSON.stringify(log));refreshPage();'hiker://empty'`,\\r\\n\\t\\tcol_type: 'text_2'\\r\\n\\t}\\r\\n\\tif (hasLine) {\\r\\n\\t\\torderItem.title = \\\"““””\\\" + '<strong><font color=\\\"#098AC1\\\">' + '集数排序⇅' + '</font></strong>';\\r\\n\\t\\torderItem.col_type = \\\"text_2\\\"\\r\\n\\t}\\r\\n\\tlet chapterLists = list.map((item)=>({\\r\\n\\t\\ttitle: pdfh(item,\\\"a&&Text\\\"),\\r\\n\\t\\turl: pd(item,\\\"a&&href\\\"),\\r\\n\\t}));\\r\\nd.push({\\r\\n\\ttitle: '‘‘’’<strong><font color= \\\"#098AC1\\\">' + \\\"下载漫画\\\" + '</front></strong>',\\r\\n\\turl: \\\"hiker://page/download.view#noHistory##noRecordHistory##noRefresh#?rule=本地资源管理\\\",\\r\\n\\tcol_type: \\\"text_2\\\",\\r\\n\\textra: {\\r\\n\\t\\tchapterList: chapterLists,\\r\\n\\t\\tinfo:{\\r\\n\\t\\t\\tbookName: title,\\r\\n\\t\\t\\truleName: MY_RULE.title,\\r\\n\\t\\t\\tbookTopPic: pic_url,\\r\\n\\t\\t\\tparseCode: downloadlazy\\r\\n\\t\\t},\\r\\n\\t\\tdefaultView:\\\"1\\\"\\r\\n\\t}\\r\\n});\\r\\n\\td.push({\\r\\n\\t\\ttitle: '‘‘’’<strong><font color= \\\"#098AC1\\\">' + \\\"本地书架\\\" + '</front></strong>',\\r\\n\\t\\turl: \\\"hiker://page/Main.view?rule=本地资源管理\\\",\\r\\n\\t\\tcol_type: \\\"text_2\\\",\\r\\n\\t});  \\r\\n\\td.push(orderItem);\\r\\n\\td.push({col_type: 'line'});\\t\\r\\n\\tvar list = order ? list : list.reverse();\\n\\tif(!list||list==\\\"\\\"){\\r\\n\\t\\td.push({\\r\\n\\t\\t\\ttitle: '此漫画已下架!!',\\r\\n\\t\\t\\tcol_type: 'text_center_1',\\r\\n\\t\\t});\\r\\n\\t}\\r\\n\\tfor (var i in list) {\\r\\n\\t\\ttry {\\r\\n\\t\\t\\td.push({\\r\\n\\t\\t\\t\\ttitle: pdfh(list[i], chapterTitle),\\r\\n\\t\\t\\t\\turl: pd(list[i], chapterUrl) + lazy,\\r\\n\\t\\t\\t\\tcol_type: 'text_2',\\r\\n\\t\\t\\t});\\r\\n\\t\\t}catch (e) {}\\r\\n\\t}\\r\\n}\\r\\n\\r\\nfunction line(lineList, lineTitleRule, varKey) {\\r\\n\\tlet list = lineList\\r\\n\\tvarKey = varKey == null ? (MY_RULE.url + '#line-index'): varKey;\\r\\n\\taddListener('onClose', $.toString((keyList) => {\\r\\n\\t\\tfor (let i in keyList) {clearVar(keyList[i])}\\r\\n\\t}, [varKey, MY_RULE.title + '#line-title']))\\r\\n\\tlet line0Title = '';\\r\\n\\ttry {\\r\\n\\t\\tline0Title = pdfh(list[0], lineTitleRule).replace(\\\"章节列表：\\\",\\\"\\\");\\r\\n\\t} catch (e) {}\\r\\n\\tlog(MY_RULE.title + getMyVar((MY_RULE.title + '#line-title')))\\r\\n\\tfor (let i in list) {\\r\\n\\t\\ttry {\\r\\n\\t\\t\\tlet lineTitle = pdfh(list[i], lineTitleRule).replace(\\\"章节列表：\\\",\\\"\\\");\\r\\n\\t\\t\\td.push({\\r\\n\\t\\t\\t\\ttitle: getMyVar((MY_RULE.title + '#line-title'), line0Title) === lineTitle ? \\\"切换:‘‘\\\" + lineTitle+\\\"\\\":lineTitle+\\\"‘‘:切换\\\",\\r\\n\\t\\t\\t\\turl: $().lazyRule((varKey, lineIndex, lineTitle) => {\\r\\n\\t\\t\\t\\t\\tputMyVar(varKey, lineIndex.toString());\\r\\n\\t\\t\\t\\t\\tputMyVar((MY_RULE.title + '#line-title'), lineTitle);\\r\\n\\t\\t\\t\\t\\tlog(MY_RULE.title + getMyVar((MY_RULE.title + '#line-title')));\\r\\n\\t\\t\\t\\t\\trefreshPage();\\r\\n\\t\\t\\t\\t\\treturn \\\"toast://已切换至\\\" + lineTitle;\\r\\n\\t\\t\\t\\t}, varKey, i, lineTitle),\\r\\n\\t\\t\\t\\tcol_type: 'text_2',\\r\\n\\t\\t\\t});\\r\\n\\t\\t} catch (e) {}\\r\\n\\t}\\r\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"二级[二]*\",\"path\":\"comicFunctionFile.js\",\"rule\":\"function cover(coverTitle, coverTitle1, coverTitle2, coverTitle3, coverDesc, coverPic, coverUrl, hasLine) {\\n    try {\\n        const Color = \\\"#19B89D\\\";\\n        var des_desc = pdfh(html, coverDesc).replace('简　　介：', '').replace('漫画简介：', '');\\n        d.push({\\n            title: '‘‘’’<><font color=\\\"#FA7298\\\">' + pdfh(html, coverTitle) + '\\\\n' + '‘‘’’<><font color=\\\"#734338\\\">' + pdfh(html, coverTitle1) + '\\\\n',\\n            desc: '‘‘’’<><font color=\\\"#954A45\\\">' + pdfh(html, coverTitle2) + '\\\\n' + '‘‘’’<><font color=\\\"#954A45\\\">' + pdfh(html, coverTitle3),\\n            pic_url: pd(html, coverPic)||coverPic,\\n            url: 'hiker://search?s='+MY_PARAMS.ytitle+'&rule=聚漫🔮',\\n            col_type: 'movie_1_vertical_pic_blur'\\n        });\\n        d.push({\\n            col_type: 'line'\\n        });\\n        //var jj = getMyVar(\\\"jjs\\\", \\\"收起\\\");\\n        //var jjurl = 'hiker://empty@lazyRule=.js:getMyVar(\\\"jjs\\\") == \\\"收起\\\"?putMyVar(\\\"jjs\\\",\\\"展开\\\"):putMyVar(\\\"jjs\\\",\\\"收起\\\");\\\"hiker://empty\\\"';\\n        d.push({\\n            title: '简介 <small><small><span style=\\\"color:#19B89D\\\">展开></span></small></small>',\\n            img: \\\"https://lanmeiguojiang.com/tubiao/more/197.png\\\",\\n            url: $(\\\"#noLoading#\\\").lazyRule((jjid, decid, des_desc) => {\\n                if (getMyVar(\\\"jjs\\\", \\\"收起\\\") == \\\"收起\\\") {\\n                    putMyVar(\\\"jjs\\\", \\\"展开\\\");\\n\\n                    updateItem({\\n                        extra: {\\n                            id: jjid\\n                        },\\n                        title: '简介 <small><small><span style=\\\"color:#19B89D\\\">收起></span></small></small>'\\n                    })\\n\\n                    updateItem({\\n                        extra: {\\n                            textSize: 14,\\n                            lineSpacing: 3,\\n                            id: decid\\n                        },\\n                        title: '<span style=\\\"color:#808080\\\">' + des_desc + '...</span>'\\n                    })\\n                    return \\\"hiker://empty\\\"\\n                } else {\\n                    putMyVar(\\\"jjs\\\", \\\"收起\\\");\\n\\n                    updateItem({\\n                        extra: {\\n                            id: jjid\\n                        },\\n                        title: '简介 <small><small><span style=\\\"color:#19B89D\\\">展开></span></small></small>'\\n                    })\\n\\n                    updateItem({\\n                        extra: {\\n                            textSize: 14,\\n                            lineSpacing: 3,\\n                            id: decid\\n                        },\\n                        title: '<span style=\\\"color:#808080\\\">' + des_desc.substr(0, 30) + '...</span>'\\n                    })\\n                    return \\\"hiker://empty\\\"\\n                }\\n\\n            }, MY_RULE + \\\"_jjid\\\", MY_RULE + \\\"_decid\\\", des_desc),\\n            col_type: \\\"avatar\\\",\\n            extra: {\\n                id: MY_RULE + \\\"_jjid\\\"\\n            }\\n        });\\n\\n        d.push({\\n            title: '<span style=\\\"color:#808080\\\">' + des_desc.substr(0, 30) + '...</span>',\\n            col_type: \\\"rich_text\\\",\\n            extra: {\\n                textSize: 14,\\n                lineSpacing: 3,\\n                id: MY_RULE + \\\"_decid\\\"\\n            }\\n        });\\n        d.push({\\n            col_type: 'line'\\n        })\\n        d.push({\\n            col_type: 'line'\\n        })\\n    } catch (e) {}\\n}\\n\\nfunction down(Title, chapterPic, list, chapterTitle, chapterLine, downloadlazy) {\\n    try {\\n        let doList = list.map((item) => ({\\n            title: pdfh(item, chapterTitle),\\n            url: pd(item, chapterLine),\\n        }));\\n        d.push({\\n            title: '““””<b><span style=\\\"color: #1aad19\\\">下载漫画🔹</span></b>',\\n            url: \\\"hiker://page/download.view#noRecordHistory##noRefresh#?rule=本地资源管理\\\",\\n            col_type: \\\"text_center_1\\\",\\n            extra: {\\n                chapterList: doList,\\n                info: {\\n                    bookName: pdfh(html, Title),\\n                    ruleName: MY_RULE.title,\\n                    bookTopPic: pd(html, chapterPic),\\n                    parseCode: downloadlazy\\n                },\\n                defaultView: \\\"1\\\"\\n            }\\n        });\\n        d.push({\\n            col_type: 'line'\\n        });\\n    } catch (e) {}\\n}\\n\\nfunction chapter(chapterList, chapterTitle, chapterUrl, defaultOrder, hasLine) {\\n    var list = chapterList;\\n    var original = [{\\n        url: MY_URL,\\n        order: defaultOrder\\n    }];\\n    !fileExist('hiker://files/rules/comic/comicLogFile.js') ? (writeFile('hiker://files/rules/comic/comicLogFile.js', JSON.stringify(original))) : 0;\\n    var log = JSON.parse(fetch('hiker://files/rules/comic/comicLogFile.js'));\\n    for (var i in log) {\\n        if (log[i].url == MY_URL) {\\n            var now = i;\\n            var order = log[i].order;\\n            break;\\n        } else {\\n            var now = '';\\n            var order = defaultOrder;\\n        }\\n    }\\n    let orderItem = {\\n        title: \\\"““””\\\" + '<font color=\\\"#f37335\\\">' + '章节排序⇅' + '</font>',\\n        url: MY_URL + `@lazyRule=.js:var log = JSON.parse(fetch('hiker://files/rules/comic/comicLogFile.js'));var now='` + now + `';if(now!=''){var now=parseInt(now);var order=log[now].order}else{var now=parseInt(log.length);var order=` + defaultOrder + `;log.push({url:input,order:order});}if(log[now].order){log[now].order=0;}else{log[now].order=1;};writeFile('hiker://files/rules/comic/comicLogFile.js', JSON.stringify(log));refreshPage();'hiker://empty'`,\\n        col_type: 'text_center_1'\\n    }\\n    if (hasLine) {\\n        orderItem.title = \\\"““””\\\" + '<font color=\\\"#f37335\\\">' + '集数排序⇅' + '</font>';\\n        orderItem.col_type = \\\"text_center_1\\\"\\n    }\\n    d.push(orderItem);\\n    d.push({\\n        col_type: 'line'\\n    });\\n\\n    var list = order ? list : list.reverse();\\n    for (let i in list) {\\n        try {\\n            d.push({\\n                title: pdfh(list[i], chapterTitle),\\n                url: pd(list[i], chapterUrl) + lazy,\\n                col_type: pdfh(list[0], chapterTitle).length > 6 ? 'text_2' : 'text_3',\\n            });\\n        } catch (e) {}\\n    }\\n}\\n\\nfunction line(lineList, lineTitleRule, varKey) {\\n    let list = lineList\\n    varKey = varKey == null ? (MY_RULE.url + '#line-index') : varKey;\\n    addListener('onClose', $.toString((keyList) => {\\n        for (let i in keyList) {\\n            clearVar(keyList[i])\\n        }\\n\\n    }, [varKey, MY_RULE.title + '#line-title']))\\n    let line0Title = ''\\n    try {\\n        line0Title = pdfh(list[0], lineTitleRule);\\n    } catch (e) {}\\n    log(MY_RULE.title + getMyVar((MY_RULE.title + '#line-title')))\\n    for (let i in list) {\\n        try {\\n            let lineTitle = pdfh(list[i], lineTitleRule);\\n            d.push({\\n                title: getMyVar((MY_RULE.title + '#line-title'), line0Title) === lineTitle ? \\\"切换:‘‘\\\" + lineTitle + \\\"\\\" : lineTitle + \\\"‘‘:切换\\\",\\n                url: $().lazyRule((varKey, lineIndex, lineTitle) => {\\n                    putMyVar(varKey, lineIndex.toString())\\n                    // log(MY_RULE.url)\\n                    putMyVar((MY_RULE.title + '#line-title'), lineTitle)\\n                    log(MY_RULE.title + getMyVar((MY_RULE.title + '#line-title')))\\n                    refreshPage()\\n                    return \\\"toast://已切换至\\\" + lineTitle\\n                }, varKey, i, lineTitle),\\n                col_type: 'flex_button'\\n            });\\n        } catch (e) {}\\n    }\\n    d.push({\\n                col_type: 'line'\\n            });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"解析[包]*\",\"path\":\"bzjs\",\"rule\":\"var 漫画解析 = $.toString(() => {\\n    var id = true;\\n    var code = request(input)\\n    var pics = [];\\n    var to_Repeat = false;\\n\\n\\n    while (id) {\\n        pdfa(code, \\\".chapter-main&&amp-img\\\")\\n            .forEach(data => pics.push(pdfh(data, \\\"amp-img&&src\\\") + '@Referer=https://cn.webmota.com/'));\\n        var next_Page = pdfh(code, \\\".next_chapter,-1&&Html\\\")\\n        if (next_Page.includes('下一页')) {\\n            code = request(pdfh(next_Page, \\\"a&&href\\\"))\\n            to_Repeat = true;\\n        } else {\\n            id = false;\\n        }\\n    }\\n\\n    //去除重复图片\\n    if (to_Repeat) {\\n        for (let i = 0; i < pics.length; i++) {\\n            while (pics.indexOf(pics[i], i + 1) != -1) {\\n                pics.splice(pics.indexOf(pics[i], i + 1), 1)\\n            }\\n        }\\n    }\\n\\n    return \\\"pics://\\\" + pics.join(\\\"&&\\\");\\n})\\n\\nlet lazy = `@lazyRule=.js:` + 漫画解析;\"},{\"col_type\":\"movie_3\",\"name\":\"动态[二]*\",\"path\":\"dtfl\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\n\\nif (typeof(拼接分类) != 'undefined' && 拼接分类 != '') {\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} else {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getMyVar(MY_RULE.group, \\\"0\\\")\\nconst cate_temp_json = getMyVar(MY_RULE.title, JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n    d.push({\\n        title: fold === '1' ? '““””<b>' + '∨'.fontcolor(\\\"#FF0000\\\") + '</b>' : '““””<b>' + '∧'.fontcolor(\\\"#1aad19\\\") + '</b>',\\n        url: $().lazyRule((fold) => {\\n            putMyVar(MY_RULE.group, fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n    categories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                if (typeof(排除) != 'undefined' && 排除 != '') {\\n                    title = title.replace(new RegExp(排除, \\\"g\\\"), \\\"\\\")\\n                }\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? \\\"““””\\\" + title.fontcolor(分类颜色) : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putMyVar(MY_RULE.title, JSON.stringify(new_cate))\\n                        putMyVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                if (typeof(排除) != 'undefined' && 排除 != '') {\\n                    title = title.replace(new RegExp(排除, \\\"g\\\"), \\\"\\\")\\n                }\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? \\\"““””\\\" + title.fontcolor(分类颜色) : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putMyVar(MY_RULE.title, JSON.stringify(params.cate_temp))\\n                        putMyVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"动态[一]*\",\"path\":\"categories-header\",\"rule\":\"const symbolMap = {\\n    // checkParams: Symbol('checkParams'),\\n    mLayout: Symbol('mLayout'),\\n    true_url: Symbol('true_url'),\\n    mPage: Symbol('mPage'),\\n    src: Symbol('src'),\\n    ruleObjList: Symbol('ruleObjList'),\\n    mFold: Symbol('mFold'),\\n    mFoldInnerEnable: Symbol('mFoldInnerEnable'),\\n    mFoldIndex: Symbol('mFoldIndex'),\\n    mFoldLayout: Symbol('mFoldLayout'),\\n    mColor: Symbol('mColor'),\\n    mTag: Symbol('mTag'),\\n}\\n\\nfunction CategoriesHeader(color) {\\n    // 'use strict';\\n    // ...\\n    // this[symbolMap.listRule] = []\\n    // this[symbolMap.subListRule] = []\\n    this[symbolMap.mColor] = color || \\\"#FA7298\\\";\\n    this[symbolMap.ruleObjList] = []\\n    this.VARMAP = {\\n        CATEGORY: \\\"header.category\\\",\\n        URL: \\\"header.url\\\",\\n        FOLD: \\\"header.fold\\\",\\n    }\\n    this[symbolMap.mFoldLayout] = {\\n        injectIndex: 1\\n    }\\n    this[symbolMap.mFoldIndex] = 1\\n}\\n\\nObject.assign(CategoriesHeader.prototype, {\\n    // Override 构造方法，相当于 function.prototype.constructor = (...) => {...}，new function() 的时候会自动执行\\n    constructor: CategoriesHeader,\\n    // 定义私有方法\\n    VERSION: 202112011900,\\n    checkParams() {\\n        if (!this[symbolMap.mLayout]) {\\n            throw new Error(\\\"请调用 layout(d) 传入当前界面\\\")\\n        }\\n        if (!(this[symbolMap.src] || this[symbolMap.true_url])) {\\n            throw new Error(\\\"请调用 trueUrl(url) 传入当前分类的链接或调用 html(mHtml) 传入当前分类页面的源码\\\")\\n        }\\n        if (!this[symbolMap.mPage]) {\\n            throw new Error(\\\"请调用 page(mPage) 传入当前页数\\\")\\n        }\\n        if (this[symbolMap.ruleObjList].length < 1) {\\n            throw new Error(\\\"请调用相关方法传入定位规则\\\")\\n        }\\n        if (!this[symbolMap.mFold]) {\\n            this[symbolMap.mFold] = '0'\\n        }\\n    },\\n    layout(mLayout) {\\n        this[symbolMap.mLayout] = mLayout\\n        return this\\n    },\\n    trueUrl(url) {\\n        this[symbolMap.true_url] = url\\n        return this\\n    },\\n    page(mPage) {\\n        if (typeof (mPage) === 'string') {\\n            mPage = parseInt(mPage)\\n        }\\n        this[symbolMap.mPage] = mPage\\n        return this\\n    },\\n    html(mSrc) {\\n        this[symbolMap.src] = mSrc\\n        return this\\n    },\\n    list(rule) {\\n        if (this[symbolMap.ruleObjList].length > 0) {\\n            throw new Error(\\\"list(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        this[symbolMap.ruleObjList] = [{}]\\n        this[symbolMap.ruleObjList][0].listRule = rule\\n        this[symbolMap.ruleObjList][0]['一级分类'] = rule\\n        return this\\n    },\\n    subList(rule) {\\n        if (this[symbolMap.ruleObjList].length > 1) {\\n            throw new Error(\\\"subList(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\\n            throw new Error(\\\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\\\")\\n        }\\n        this[symbolMap.ruleObjList][0].subListRule = rule\\n        this[symbolMap.ruleObjList][0]['子分类'] = rule\\n        return this\\n    },\\n    title(rule) {\\n        if (this[symbolMap.ruleObjList].length > 1) {\\n            throw new Error(\\\"title(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\\n            throw new Error(\\\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\\\")\\n        }\\n        this[symbolMap.ruleObjList][0].titleRule = rule\\n        this[symbolMap.ruleObjList][0]['分类标题'] = this[symbolMap.ruleObjList][0].titleRule\\n        return this\\n    },\\n    url(rule) {\\n        if (this[symbolMap.ruleObjList].length > 1) {\\n            throw new Error(\\\"url(rule) add(ruleObj) 只能二选一！\\\")\\n        }\\n        if (!this[symbolMap.ruleObjList][0] || (!this[symbolMap.ruleObjList][0].listRule && !this[symbolMap.ruleObjList][0]['一级分类'])) {\\n            throw new Error(\\\"请先调用 list(rule) 或 一级分类(rule) 定位一级分类\\\")\\n        }\\n        this[symbolMap.ruleObjList][0].urlRule = rule\\n        this[symbolMap.ruleObjList][0]['分类链接'] = this[symbolMap.ruleObjList][0].urlRule\\n        return this\\n    },\\n    /**\\n     * 是否开启折叠功能\\n     *\\n     * @param enabled true 表示开启，false 表示禁用\\n     * @returns {CategoriesHeader}\\n     */\\n    foldInner(enabled) {\\n        if (!(typeof (enabled) === 'boolean')) {\\n            throw new Error(\\\"请传入 true 或 false 表示开启或关闭折叠功能！\\\")\\n        }\\n        this[symbolMap.mFoldInnerEnable] = enabled\\n        return this\\n    },\\n    /**\\n     * 从第 index 行开始折叠\\n     *\\n     * @param index 开始折叠的行数\\n     * @returns {CategoriesHeader}\\n     */\\n    foldIndex(index) {\\n        if (!(typeof (index) === 'number')) {\\n            throw new Error(\\\"开始折叠行请传入数字！\\\")\\n        }\\n        if (index < 1) {\\n            throw new Error(\\\"开始折叠行请传入大于 0 的整数！\\\")\\n        }\\n        this[symbolMap.mFoldIndex] = index || 1;\\n        return this\\n    },\\n    /**\\n     * 折叠按钮的界面\\n     *\\n     * @param layout 与 d.push 结构一致，\\n     *        例：{ title:\\\"标题1\\\", url:\\\"xxx\\\", col_type:\\\"scroll_button\\\" };\\n     *        参数采用可选覆盖模式，不写的参数则使用默认;\\n     *        比如传入 { col_type:\\\"text_1\\\" }，那最终结果就是 { title:\\\"标题1\\\", url:\\\"xxx\\\", col_type:\\\"text_1\\\" }\\n     * @returns {CategoriesHeader}\\n     */\\n    foldLayout(layout) {\\n        if (typeof layout === 'object') {\\n            let keys = Object.keys(layout)\\n            let injectIndex = layout.injectIndex || layout['折叠按钮插入行']\\n            if (layout.title || layout.url || layout.col_type || injectIndex) {\\n                for (let i = 0; i < keys.length; i++) {\\n                    const key = keys[i]\\n                    this[symbolMap.mFoldLayout][key] = layout[key];\\n                }\\n            } else {\\n                throw new Error(\\\"请传入正确的折叠界面元素！\\\")\\n            }\\n            // injectIndex 折叠按钮插入第 injectIndex 行\\n            if (injectIndex) {\\n                if (!(typeof (injectIndex) === 'number')) {\\n                    throw new Error(\\\"折叠按钮插入行请传入数字！\\\")\\n                }\\n                if (injectIndex < 1) {\\n                    throw new Error(\\\"折叠按钮插入行请传入大于 0 的整数！\\\")\\n                }\\n                if (injectIndex > this[symbolMap.mFoldIndex]) {\\n                    throw new Error(\\\"折叠按钮插入行不得大于显示折叠行数！请调用 .foldIndex(index) 或 .第几行开始折叠(index) 传入正确的显示折叠行数\\\")\\n                }\\n                this[symbolMap.mFoldLayout].injectIndex = injectIndex || 1;\\n            }\\n        } else {\\n            throw new Error(\\\"请传入正确的折叠界面元素！\\\")\\n        }\\n        return this;\\n    },\\n    // 当前是否折叠\\n    fold(isFold) {\\n        if (typeof (isFold) === 'string') {\\n            isFold = isFold === '1'\\n        }\\n        if (isFold) {\\n            this[symbolMap.mFold] = '1';\\n        } else {\\n            this[symbolMap.mFold] = '0';\\n        }\\n        return this\\n    },\\n    color(mColor) {\\n        this[symbolMap.mColor] = mColor\\n        return this\\n    },\\n    tag(mTag) {\\n        this[symbolMap.mTag] = mTag\\n        return this\\n    },\\n    add(ruleObj) {\\n        // log($.stringify(ruleObj))\\n        if (ruleObj.constructor === Array) {\\n            this[symbolMap.ruleObjList] = this[symbolMap.ruleObjList].concat(ruleObj)\\n        } else {\\n            this[symbolMap.ruleObjList].push(ruleObj)\\n        }\\n        return this;\\n    },\\n    evalJSRule(item, jsRule) {\\n        let rule = jsRule.replace(\\\"@js:\\\", \\\"\\\")\\n        rule = rule.trim()\\n        // log($.stringify(rule))\\n        let input = item\\n        if (rule.startsWith(\\\"(\\\")) {\\n            eval('result = ' + rule)\\n        } else {\\n            /**\\n             * 还原成 $.toString(...) 的最终结果，达到最终处理方式跟上面的 if 一致的目的\\n             */\\n            eval('result = ' + '(() => {' + rule + '})()')\\n        }\\n        return (result || '')\\n    },\\n    getTitle(src, category) {\\n        let title = ''\\n        let titleRule = category.titleRule || 'a&&Text'\\n        if (titleRule.startsWith(\\\"@js:\\\")) {\\n            title = this.evalJSRule(src, titleRule)\\n        } else {\\n            title = parseDomForHtml(src, titleRule)\\n        }\\n        return title || \\\"\\\";\\n    },\\n    getUrl(src, category) {\\n        let url = ''\\n        let urlRule = category.urlRule || 'a&&href'\\n        if (typeof urlRule === 'object') {\\n            let mUrlRule = urlRule.rule || urlRule['解析规则'] || 'a&&href';\\n            if (mUrlRule.startsWith(\\\"@js:\\\")) {\\n                url = this.evalJSRule(src, mUrlRule);\\n            } else {\\n                let parse = parseDom;\\n                if (urlRule.parseOption) {\\n                    switch (urlRule.parseOption) {\\n                        case \\\"parseDom\\\":\\n                        case \\\"pd\\\":\\n                            parse = parseDom;\\n                            break;\\n                        case \\\"parseDomForHtml\\\":\\n                        case \\\"pdfh\\\":\\n                            parse = parseDomForHtml;\\n                            break;\\n                        default:\\n                            parse = parseDom;\\n                    }\\n                } else if (urlRule[\\\"解析方法\\\"]) {\\n                    switch (urlRule[\\\"解析方法\\\"]) {\\n                        case \\\"parseDom\\\":\\n                        case \\\"pd\\\":\\n                            parse = parseDom;\\n                            break;\\n                        case \\\"parseDomForHtml\\\":\\n                        case \\\"pdfh\\\":\\n                            parse = parseDomForHtml;\\n                            break;\\n                        default:\\n                            parse = parseDom;\\n                    }\\n                }\\n                url = parse(src, mUrlRule);\\n            }\\n            if (urlRule.dealUrl) {\\n                url = urlRule.dealUrl(url)\\n            } else if (urlRule['二次处理']) {\\n                url = urlRule['二次处理'](url)\\n            }\\n        } else {\\n            if (urlRule.startsWith(\\\"@js:\\\")) {\\n                url = this.evalJSRule(src, urlRule);\\n            } else {\\n                url = parseDom(src, urlRule);\\n            }\\n        }\\n        return url || \\\"\\\";\\n    },\\n    build() {\\n        // 检测是否传入需要的参数\\n        this.checkParams()\\n        // 每一个分类的唯一标识\\n        let mTag = this[symbolMap.mTag] || \\\"\\\"\\n        //翻页 需要根据实际替换\\n        const html = this[symbolMap.src] || request(this[symbolMap.true_url])\\n        const empty = \\\"hiker://empty\\\"\\n        //获取列表\\n        const categories = []\\n        this[symbolMap.ruleObjList].map(ruleObj => {\\n            let list = []\\n            let listRule = ruleObj.listRule || ruleObj[\\\"一级分类\\\"]\\n            if (listRule.startsWith(\\\"@js:\\\")) {\\n                // log($.stringify(listRule))\\n                list = this.evalJSRule(html, listRule)\\n            } else {\\n                list = parseDomForArray(html, listRule)\\n            }\\n            // log(list)\\n            list.map(category => {\\n                categories.push({\\n                    list: category,\\n                    subListRule: ruleObj.subListRule || ruleObj[\\\"子分类\\\"],\\n                    titleRule: ruleObj.titleRule || ruleObj[\\\"分类标题\\\"],\\n                    urlRule: ruleObj.urlRule || ruleObj[\\\"分类链接\\\"],\\n                });\\n            })\\n        })\\n\\n        // log($.stringify(categories))\\n\\n        let init_cate = []\\n        for (let i = 0; i < 20; i++) {\\n            init_cate.push(\\\"0\\\")\\n        }\\n\\n        const cate_temp_json = getMyVar(mTag + this.VARMAP.CATEGORY, JSON.stringify(init_cate))\\n        const cate_temp = JSON.parse(cate_temp_json)\\n\\n        if (this[symbolMap.mPage] === 1) {\\n\\n            categories.forEach((category, index) => {\\n\\n                // 折叠 UI\\n                if (this[symbolMap.mFoldInnerEnable] && this[symbolMap.mFoldLayout].injectIndex === (index+1)) {\\n                    let foldLayout = {\\n                        title: this[symbolMap.mFoldLayout].title || (this[symbolMap.mFold] === '1' ? '““””<b><span style=\\\"color: #FF0000\\\">∨</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">∧</span></b>'),\\n                        url: this[symbolMap.mFoldLayout].url || $(\\\"hiker://empty#noHistory#\\\").lazyRule((params) => {\\n                            putMyVar(params.mTag + params.VARMAP.FOLD, getMyVar(params.mTag + params.VARMAP.FOLD, params.isFold) === '1' ? '0' : '1')\\n                            refreshPage(false);\\n                            return \\\"hiker://empty\\\"\\n                        }, {\\n                            mTag: mTag,\\n                            isFold: this[symbolMap.mFold],\\n                            VARMAP: this.VARMAP\\n                        }),\\n                        col_type: this[symbolMap.mFoldLayout].col_type || \\\"scroll_button\\\",\\n                    }\\n                    this[symbolMap.mLayout].push(foldLayout)\\n                }\\n\\n                //具体列表下的分类\\n                let sub_categories = [];\\n                if (category.subListRule.startsWith(\\\"@js:\\\")) {\\n                    sub_categories = this.evalJSRule(category.list, category.subListRule)\\n                } else {\\n                    sub_categories = parseDomForArray(category.list, category.subListRule);\\n                }\\n                if (index < (this[symbolMap.mFoldIndex] || 1)) {\\n                    sub_categories.forEach((item, key) => {\\n                        let title = this.getTitle(item, category)\\n                        let url = this.getUrl(item, category)\\n\\n                        this[symbolMap.mLayout].push({\\n                            title: key.toString() === cate_temp[index] ? '““””<b><font color=' + this[symbolMap.mColor] + '>' + title + ' </font></b>' : title,\\n                            url: $(url).lazyRule((params) => {\\n                                let new_cate = []\\n                                if (params.index === 0) {\\n                                    params.cate_temp.forEach((cate, index) => {\\n                                        new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                                    });\\n                                } else {\\n                                    params.cate_temp[params.index] = params.key.toString()\\n                                }\\n                                putMyVar(params.tag + params.VARMAP.CATEGORY, JSON.stringify(params.index === 0 ? new_cate : params.cate_temp))\\n                                putMyVar(params.tag + params.VARMAP.URL, input)\\n                                refreshPage(true)\\n                                return \\\"hiker://empty\\\"\\n                            }, {\\n                                cate_temp: cate_temp,\\n                                index: index,\\n                                VARMAP: this.VARMAP,\\n                                tag: mTag,\\n                                key: key,\\n                                page: this[symbolMap.mPage],\\n                            }),\\n                            col_type: 'scroll_button',\\n                        })\\n                    })\\n                    this[symbolMap.mLayout].push({\\n                        col_type: \\\"blank_block\\\"\\n                    });\\n                } else if (this[symbolMap.mFold] === '0') {\\n                    sub_categories.forEach((item, key) => {\\n                        let title = this.getTitle(item, category)\\n                        let url = this.getUrl(item, category)\\n\\n                        this[symbolMap.mLayout].push({\\n                            title: key.toString() === cate_temp[index] ? '““””<b><font color=' + this[symbolMap.mColor] + '>' + title + ' </font></b>' : title,\\n                            url: $(url).lazyRule((params) => {\\n                                params.cate_temp[params.index] = params.key.toString()\\n\\n                                putMyVar(params.tag + params.VARMAP.CATEGORY, JSON.stringify(params.cate_temp))\\n                                putMyVar(params.tag + params.VARMAP.URL, input)\\n                                refreshPage(true)\\n                                return \\\"hiker://empty\\\"\\n                            }, {\\n                                cate_temp: cate_temp,\\n                                index: index,\\n                                VARMAP: this.VARMAP,\\n                                tag: mTag,\\n                                key: key,\\n                                page: this[symbolMap.mPage],\\n                            }),\\n                            col_type: 'scroll_button',\\n                        })\\n                    })\\n                    this[symbolMap.mLayout].push({\\n                        col_type: \\\"blank_block\\\"\\n                    });\\n                }\\n            });\\n        }\\n    },\\n\\n    界面(layout) {\\n        return this.layout(layout)\\n    },\\n    分类链接(trueUrl) {\\n        return this.trueUrl(trueUrl);\\n    },\\n    页码(page) {\\n        return this.page(page);\\n    },\\n    源码(html) {\\n        return this.html(html);\\n    },\\n    定位一级分类(list) {\\n        return this.list(list);\\n    },\\n    定位子分类(subList) {\\n        return this.subList(subList);\\n    },\\n    定位分类标题(title) {\\n        return this.title(title);\\n    },\\n    定位分类链接(url) {\\n        return this.url(url);\\n    },\\n    开启内置折叠功能() {\\n        return this.foldInner(true);\\n    },\\n    关闭内置折叠功能() {\\n        return this.foldInner(false);\\n    },\\n    第几行开始折叠(index) {\\n        return this.foldIndex(index);\\n    },\\n    折叠按钮样式(layout) {\\n        return this.foldLayout(layout)\\n    },\\n    折叠(fold) {\\n        return this.fold(fold);\\n    },\\n    选中的分类颜色(color) {\\n        return this.color(color);\\n    },\\n    唯一标识(mTag) {\\n        return this.tag(mTag)\\n    },\\n    添加分类定位(ruleObj) {\\n        return this.add(ruleObj);\\n    },\\n    开始打造分类() {\\n        return this.build();\\n    },\\n\\n})\\n$.exports = new CategoriesHeader();\\n$.exports\\n\"},{\"col_type\":\"movie_3\",\"name\":\"链接处理[二]*\",\"path\":\"url-processor\",\"rule\":\"/**\\n * 本地网页插件链接 hiker://files/rules/js/UrlProcessor.js\\n * 子页面链接 hiker://page/url-processor\\n * 道长仓库链接 http://hiker.nokia.press/hikerule/rulelist.json?id=2849\\n * 码云 Gitee 链接 https://gitee.com/reborn0/HikerRules/raw/master/plugins/UrlProcessor.js\\n */\\nfunction UrlProcessor() {\\n    this.params = {}\\n    this.regexMap = [\\n        {\\n            reg: '(vodtype|videot)\\\\\\\\/\\\\\\\\w+',\\n            exec: () => {\\n                return this.params.url\\n                    .replace(/-\\\\d+.html/, '-' + this.params.page + '.html')\\n                    .replace(/((vodtype|videot)\\\\/\\\\w+).html/, '$1-' + this.params.page + '.html')\\n            }\\n        },\\n        {\\n            reg: '\\\\\\\\/?[\\\\\\\\w\\\\\\\\d]+-.*?-.*?-.*?-.*?-.*?-.*?-.*?-\\\\\\\\d*---\\\\\\\\d*.html',\\n            exec: () => {\\n                return this.params.url\\n                    .replace(/\\\\d*(---.html)/, this.params.page + '$1')\\n                    .replace(/(---\\\\d+.html)/, this.params.page + '$1'); // 拼接页码\\n            }\\n        },\\n        {\\n            reg: '((\\\\\\\\/vod\\\\\\\\/show)?(\\\\\\\\/area\\\\\\\\/[\\\\\\\\w\\\\\\\\d%]+)?(\\\\\\\\/by\\\\\\\\/[\\\\\\\\w\\\\\\\\d%]+)?(\\\\\\\\/id\\\\\\\\/\\\\\\\\d+)?(\\\\\\\\/letter\\\\\\\\/[\\\\\\\\w\\\\\\\\d%]+)?)(\\\\\\\\/page\\\\\\\\/\\\\\\\\d+)?(\\\\\\\\/year\\\\\\\\/\\\\\\\\d+)?\\\\\\\\.html',\\n            exec: () => {\\n                let regExp = /((\\\\/vod\\\\/show)?(\\\\/area\\\\/[\\\\w\\\\d%]+)?(\\\\/by\\\\/[\\\\w\\\\d%]+)?(\\\\/id\\\\/\\\\d+)?(\\\\/letter\\\\/[\\\\w\\\\d%]+)?)(\\\\/page\\\\/\\\\d+)?(\\\\/year\\\\/\\\\d+)?\\\\.html/\\n                return this.params.url\\n                    .replace(regExp, '$1' + (\\\"/page/\\\" + this.params.page) + '$8' + \\\".html\\\")\\n            }\\n        }\\n    ]\\n}\\n\\nObject.assign(UrlProcessor.prototype, {\\n    constructor: UrlProcessor,\\n    checkParams() {\\n        if (!this.params.url) {\\n            throw new Error(\\\"请先调用 .baseUrl(url) 传入链接进行初始化!\\\")\\n        }\\n        if (!this.params.page) {\\n            throw new Error(\\\"请先调用 .page(page) 传入页码进行初始化!\\\")\\n        }\\n    },\\n    baseUrl(url){\\n        this.params.url = url\\n        return this\\n    },\\n    page(page){\\n        this.params.page = page\\n        return this\\n    },\\n    addExtra(regExp) {\\n        if (regExp.constructor === Array) {\\n            this.regexMap = this.regexMap.concat(regExp)\\n        } else {\\n            this.regexMap.push(regExp)\\n        }\\n        return this;\\n    },\\n    debug() {\\n        this.params.debug = true\\n        return this;\\n    },\\n    exec() {\\n        this.checkParams()\\n        let true_url = ''\\n        for (let i = 0; i < this.regexMap.length; i++) {\\n            let regObj = this.regexMap[i];\\n            let urlExp = regObj.reg;\\n            if (typeof urlExp === 'string') {\\n                urlExp = new RegExp(urlExp)\\n            }\\n            if (urlExp.test(this.params.url)) {\\n                if (this.params.debug) {\\n                    log(urlExp.toString())\\n                }\\n                true_url = regObj.exec();\\n                break;\\n            }\\n        }\\n        if (true_url) {\\n            return true_url;\\n        } else {\\n            return this.params.url\\n        }\\n    },\\n    获取处理结果() {\\n        return this.exec()\\n    },\\n    链接(url) {\\n        return this.baseUrl(url)\\n    },\\n    页码(page) {\\n        return this.page(page)\\n    },\\n    插入新处理规则(regExp) {\\n        return this.addExtra(regExp)\\n    },\\n    调试模式() {\\n        return this.debug();\\n    }\\n})\\n$.exports=new UrlProcessor()\\n$.exports\\n\"},{\"col_type\":\"movie_3\",\"name\":\"一级*\",\"path\":\"yjtool\",\"rule\":\"function convert1(str) {\\n    let c = str.split(\\\";\\\")\\n    return {\\n        列表: c[0],\\n        标题: c[1],\\n        图片: c[2],\\n        描述: c[3],\\n        链接: c[4]\\n    }\\n}\\n\\nfunction merge(source, target) {\\n    let keys = Object.keys(source)\\n    for (let i in keys) {\\n        target[keys[i]] = source[keys[i]]\\n    }\\n}\\n\\nfunction 一级(obj) {\\n    var d = [];\\n    if ($.type(obj) == \\\"string\\\") {\\n        obj = convert1(obj)\\n    }\\n    if (obj.规则) {\\n        let c = convert1(obj.规则)\\n        merge(c, obj)\\n    }\\n    let arr = pdfa(getResCode(), obj.列表);\\n       if (obj.列表处理 != null) {\\n            arr = obj.链接处理(arr)\\n        }\\n    for (let it of arr) {\\n        let url = pd(it, obj.链接)\\n        if (obj.链接处理 != null) {\\n            url = obj.链接处理(url)\\n        }\\n        let title = pdfh(it, obj.标题)\\n        if (obj.标题处理 != null) {\\n            title = obj.标题处理(title)\\n        }\\n        let pic = pd(it, obj.图片)\\n        if (obj.图片处理 != null) {\\n            pic = obj.图片处理(pic)\\n        }\\n        d.push({\\n            title: obj.标题 ? pdfh(it, obj.标题) : \\\"\\\",\\n            url: url+'#autoCache#',\\n            col_type: \\\"\\\",\\n            desc: obj.描述 ? pdfh(it, obj.描述) : \\\"\\\",\\n            pic_url: pic,\\n            extra: {\\n                ytitle: title,\\n                ypic: pic,\\n                yurl: url.replace('hiker://empty##','')\\n            }\\n        });\\n\\n    }\\n    setResult(d);\\n}\\nvar tool = {\\n    一级: 一级\\n}\\n$.exports = tool\"},{\"col_type\":\"movie_3\",\"name\":\"一级[二]*\",\"path\":\"yiji\",\"rule\":\"function 一级() {};\\r\\nObject.assign(一级.prototype, {\\r\\n\\tconstructor: 一级,\\r\\n\\ttest() {},\\r\\n\\t获取源码(url, header) {return fetch(true_url, {headers: header || {'User-Agent': PC_UA}}) },// 默认统一使用MOBILE_UA\\r\\n\\t搜索框架(page) {\\r\\n\\t\\tif (page == '1') {\\n/*\\r\\n\\t\\t\\td.push({\\r\\n\\t\\t\\t\\ttitle: \\\"搜索本规则\\\",\\r\\n\\t\\t\\t\\turl: \\\"'hiker://search?rule=\\\" + MY_RULE.title + \\\"&s='+input\\\",\\r\\n\\t\\t\\t\\tdesc: \\\" \\\",\\r\\n\\t\\t\\t\\tcol_type: \\\"input\\\"\\r\\n\\t\\t\\t});\\n*/\\r\\n\\t\\t}\\r\\n\\t},\\r\\n\\t获取链接(page, regex) {\\r\\n\\t\\tlet true_url = getMyVar('header.url', MY_URL);\\r\\n\\t\\t//let 链接处理工具 = requireCache(config.链接处理工具依赖)\\r\\n\\t\\t//let 链接处理工具 = requireCache('http://hiker.nokia.press/hikerule/rulelist.json?id=2849')\\r\\n\\t\\t//let 链接处理工具 = $.require('hiker://page/url-processor')\\r\\n\\t\\tlet 链接处理工具 = requireCache('http://hiker.nokia.press/hikerule/rulelist.json?id=2849')\\r\\n\\t\\ttrue_url = 链接处理工具\\r\\n\\t\\t\\t.链接(true_url)\\r\\n\\t\\t\\t.页码(page)\\r\\n\\t\\t\\t.插入新处理规则(regex || [])\\r\\n\\t\\t\\t.获取处理结果();\\r\\n\\t\\treturn true_url;\\r\\n\\t},\\r\\n\\t打造分类(ruleList) {\\r\\n\\t\\t//  let htmlCategories = requireCache(config.动态分类依赖)\\r\\n\\t\\t//let htmlCategories = requireCache('http://hiker.nokia.press/hikerule/rulelist.json?id=2705')\\r\\n\\t\\tif (!ruleList) {\\r\\n\\t\\t\\tlet 分类定位 = [{\\r\\n\\t\\t\\t\\t\\t一级分类: 一级定位A,\\r\\n\\t\\t\\t\\t\\t子分类: 统一定位B || 一级定位B,\\r\\n\\t\\t\\t\\t\\t分类链接: {二次处理(url) {try {return 一级处理C(url)} catch (e) {return url}}}\\r\\n\\t\\t\\t}]\\r\\n\\t\\t\\tif (二级定位A && (统一定位B || 二级定位B)) {\\r\\n\\t\\t\\t\\t分类定位.push({\\r\\n\\t\\t\\t\\t\\t\\t一级分类: 二级定位A,\\r\\n\\t\\t\\t\\t\\t\\t子分类: 统一定位B || 二级定位B,\\r\\n\\t\\t\\t\\t\\t\\t分类链接: {二次处理(url) {try {return 二级处理C(url)} catch (e) {return url}}}\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tif (三级定位A && (统一定位B || 三级定位B)) {\\r\\n\\t\\t\\t\\t分类定位.push({\\r\\n\\t\\t\\t\\t\\t\\t一级分类: 三级定位A,\\r\\n\\t\\t\\t\\t\\t\\t子分类: 统一定位B || 三级定位B,\\r\\n\\t\\t\\t\\t\\t\\t分类链接: {二次处理(url) {try {return 三级处理C(url)} catch (e) {return url}}}\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\tif (四级定位A && (统一定位B || 四级定位B)) {\\r\\n\\t\\t\\t\\t分类定位.push({\\r\\n\\t\\t\\t\\t\\t\\t一级分类: 四级定位A,\\r\\n\\t\\t\\t\\t\\t\\t子分类: 统一定位B || 四级定位B,\\r\\n\\t\\t\\t\\t\\t\\t分类链接: {二次处理(url) {try {return 四级处理C(url)} catch (e) {return url}}}\\r\\n\\t\\t\\t\\t})\\r\\n\\t\\t\\t}\\r\\n\\t\\t\\truleList = 分类定位;\\r\\n\\t\\t}\\r\\n\\t\\t// '0' 为默认不折叠，'1' 为默认折叠\\r\\n\\t\\tconst 当前折叠状态 = getMyVar('header.fold', '0')\\r\\n\\t\\t// 引入动态分类依赖\\r\\n\\t\\tlet htmlCategories = requireCache('http://hiker.nokia.press/hikerule/rulelist.json?id=2705')\\r\\n\\t\\tvar getRangeColors = function() {\\r\\n\\t\\t\\treturn '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);\\r\\n\\t\\t} // 随机选中的分类颜色\\r\\n\\t\\tvar colour;\\r\\n\\t\\tif (分类颜色 !== '') {\\r\\n\\t\\t\\tcolour = 分类颜色\\r\\n\\t\\t} else {\\r\\n\\t\\t\\tcolour = getRangeColors()\\r\\n\\t\\t}\\r\\n\\t\\thtmlCategories.界面(d)\\r\\n\\t\\t\\t//.分类链接(true_url)\\r\\n\\t\\t\\t.源码(html)\\r\\n\\t\\t\\t.页码(page)\\r\\n\\t\\t\\t.添加分类定位(ruleList)\\r\\n\\t\\t\\t.开启内置折叠功能() // 必须\\r\\n\\t\\t\\t.折叠(当前折叠状态) // 必须\\r\\n\\t\\t\\t.折叠按钮样式({\\r\\n\\t\\t\\t\\ttitle: 当前折叠状态 == \\\"1\\\" ? \\\"““””<big><b><font color='#5959AB'>\\\" + 动态缩小 + \\\"</font></b></big>\\\" : \\\"““””<big><b><font color='#F75D59'>\\\" + 动态扩展 + \\\"</font></b></big>\\\"\\r\\n\\t\\t\\t}) // 可选\\r\\n\\t\\t\\t// .第几行开始折叠(2) // 可选\\r\\n\\t\\t\\t// .折叠按钮样式({ 折叠按钮插入行: 2 })  // 可选，但必须先调用 .第几行开始折叠(index)，然后再传入 { 折叠按钮插入行: index }\\r\\n\\t\\t\\t.选中的分类颜色(colour)\\r\\n\\t\\t\\t.开始打造分类();\\r\\n\\t},\\r\\n\\r\\n\\t生成片单(d,html) {\\r\\n\\r\\n\\t\\tvar 列表\\r\\n\\t\\tvar 标题\\r\\n\\t\\tvar 描述\\r\\n\\t\\tvar 图片\\r\\n\\t\\tvar 链接\\r\\n\\r\\n\\t\\tif (框架类型 === 'myui-vodlist') {\\r\\n\\t\\t\\t列表 = '.myui-vodlist&&li';\\r\\n\\t\\t\\t标题 = 'h4&&Text';\\r\\n\\t\\t\\t描述 = '.pic-tag||.pic-text&&Text';\\r\\n\\t\\t\\t图片 = '.lazyload&&data-original';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t\\t//log('框架类型·myui-vodlist')\\r\\n\\t\\t} else if (框架类型 === '#data_list') {\\r\\n\\t\\t\\t列表 = '#data_list&&li';\\r\\n\\t\\t\\t标题 = 'a&&title';\\r\\n\\t\\t\\t描述 = 'em&&Text';\\r\\n\\t\\t\\t图片 = 'img&&data-srcl';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t\\t//log('框架类型·data_list')\\r\\n\\t\\t} else if (框架类型 === 'fed-list-title') {\\r\\n\\t\\t\\t列表 = '.fed-list-info&&li';\\r\\n\\t\\t\\t标题 = '.fed-list-title&&Text';\\r\\n\\t\\t\\t描述 = '.fed-text-center&&Text';\\r\\n\\t\\t\\t图片 = 'a&&data-original';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t\\t//log('框架类型·.fed-list-info')\\r\\n\\t\\t} else if (框架类型 === 'item') {\\r\\n\\t\\t\\t列表 = 'body&&.item';\\r\\n\\t\\t\\t标题 = 'img&&alt';\\r\\n\\t\\t\\t描述 = 'p&&Text';\\r\\n\\t\\t\\t图片 = 'img&&srcl';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t} else if (框架类型 === 'module-items') {\\r\\n\\t\\t\\t列表 = '.module-items&&.module-item';\\r\\n\\t\\t\\t标题 = 'a&&title';\\r\\n\\t\\t\\t描述 = '.module-item-text&&Text';\\r\\n\\t\\t\\t图片 = 'img||.lazy&&data-src';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t} else if (框架类型 === 'pack-ykpack') {\\r\\n\\t\\t\\t列表 = 'body&&.pack-ykpack';\\r\\n\\t\\t\\t标题 = 'a&&title';\\r\\n\\t\\t\\t描述 = 'span,-1&&Text';\\r\\n\\t\\t\\t图片 = '.eclazy&&data-original';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t} else if (框架类型 === 'stui-vodlist') {\\r\\n\\t\\t\\t列表 = '.stui-vodlist&&li';\\r\\n\\t\\t\\t标题 = 'a&&title';\\r\\n\\t\\t\\t描述 = '.pic-text&&Text';\\r\\n\\t\\t\\t图片 = '.lazyload||a&&data-original';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t} else if (框架类型 === 'vodlist') {\\r\\n\\t\\t\\t列表 = '.vodlist&&li';\\r\\n\\t\\t\\t标题 = 'a&&title';\\r\\n\\t\\t\\t描述 = 'a&&Text';\\r\\n\\t\\t\\t图片 = '.lazyload&&data-original';\\r\\n\\t\\t\\t链接 = 'a&&href';\\r\\n\\t\\t} else if (框架类型 === '测试') {\\r\\n\\t\\t\\t列表 = 'body&&a';\\r\\n\\t\\t\\t标题 = 'body&&a';\\r\\n\\t\\t\\t描述 = 'body&&a';\\r\\n\\t\\t\\t图片 = 'body&&a';\\r\\n\\t\\t\\t链接 = 'body&&a';\\r\\n\\t\\t} else if (框架类型 === '') {\\r\\n\\t\\t\\t列表 = 框架列表;\\r\\n\\t\\t\\t标题 = 框架标题;\\r\\n\\t\\t\\t描述 = 框架描述;\\r\\n\\t\\t\\t图片 = 框架图片;\\r\\n\\t\\t\\t链接 = 框架链接;\\r\\n\\t\\t}\\r\\n\\t\\tlet list = pdfa(html, 列表);\\r\\n\\t\\tfor (let k in list) {\\r\\n\\t\\t\\td.push({\\r\\n\\t\\t\\t\\ttitle: pdfh(list[k], 标题),\\r\\n\\t\\t\\t\\tdesc: pdfh(list[k], 描述),\\r\\n\\t\\t\\t\\timg: pd(list[k], 图片) + '@Referer=',\\r\\n\\t\\t\\t\\turl: pd(list[k], 链接)+\\\"#immersiveTheme##autoCache#\\\",\\r\\n\\t\\t\\t});\\r\\n\\t\\t}\\r\\n\\t\\td.push({\\r\\n\\t\\t\\tcol_type: 'big_big_blank_block',\\r\\n\\t\\t});\\r\\n\\t}\\r\\n})\\r\\n\\r\\n$.exports = new 一级();\\r\\n$.exports\"},{\"col_type\":\"movie_3\",\"name\":\"函数组件*\",\"path\":\"qs\",\"rule\":\"function 优化路线章节数据(多路线否, 源数据, 路线列表, 路线名, 选集总列表, 选集列表, 集名, 集url, 前缀, 标题, 图片) {\\n\\n    //当多路线否 选集总列表为空\\n    //最终返回 [{title: '路线名',list: [{title:'选集名',url:'选集url',...}],sjss:'下载资料'},....]\\n    //选集列表 第一项是css选择器，之后可以用$分割添加要删除章节名\\n\\n\\n    var 章节json = [];\\n    var 单路线章节 = '章节列表'\\n\\n    var 列表名 = [];\\n    if (!多路线否) {\\n\\n        列表名.push(单路线章节)\\n\\n    } else {\\n\\n        pdfa(源数据, 路线列表).forEach(function(data) {\\n            列表名.push(pdfh(data, 路线名))\\n        });\\n\\n    }\\n\\n    var 集数组 = [];\\n\\n\\nvar 排除章节 = [];\\nif(选集列表.includes('$')){\\n排除章节 = 选集列表.split('$')\\n选集列表 = 排除章节.shift()\\n}\\n\\n    if (!多路线否) {\\n        集数组.push(pdfa(源数据, 选集列表))\\n    } else {\\n        pdfa(源数据, 选集总列表).forEach(function(data) {\\n            集数组.push(pdfa(data, 选集列表))\\n        });\\n    }\\n\\n\\n    for (let i in 集数组) {\\n\\n        var doList = [];\\n\\n排除章节.forEach(function(data) {\\n    var 标识id = 集数组[i].findIndex(返回 => 返回.indexOf(data) != -1);\\n    if (标识id != -1) {\\n      集数组[i].splice(标识id, 1)\\n    };\\n  });\\n\\n        for (let it of 集数组[i]) {\\n            var doListurl = pdfh(it, 集url)\\n            doListurl = doListurl.includes(\\\"http\\\") ? doListurl : 前缀 + doListurl\\n            doList.push({\\n                title: pdfh(it, 集名),\\n                url: doListurl\\n            })\\n        }\\n\\n        var bookName = !多路线否 ? 标题 : 标题 + '-' + 列表名[i]\\n\\n        章节json.push({\\n            title: 列表名[i],\\n            list: doList,\\n            sjss: {\\n                chapterList: doList,\\n                info: {\\n                    bookName: bookName, //漫画名称,\\n                    ruleName: MY_RULE.title,\\n                    bookTopPic: 图片,\\n                    parseCode: 漫画解析,\\n                },\\n                defaultView: \\\"1\\\"\\n            }\\n        })\\n    }\\n    return 章节json\\n}\\n\\n\\nfunction 添加头部列表(d, 标题, 图片, 描述, 作者, 时间, 分类,页URL) {\\n\\n    标题 = !标题 ? '' : 标题 + '\\\\n'\\n    图片 = !图片 ? '' : 图片\\n    描述 = !描述 ? '' : 描述.replace(\\\"更新至：\\\", '')\\n\\n    作者 = !作者 ? '' : '\\\\n' + 作者\\n    时间 = !时间 ? '' : '\\\\n' + 时间\\n    分类 = !分类 ? '' : '\\\\n' + 分类\\n\\n\\n    var 头部title = ['‘‘’’<b>','</b> <small><font color=#FA7298>','</font>','</small>']\\n    var 头部desc = ['‘‘’’<font color=#f8ecc9>','</font>']\\n\\n\\n\\n    头部title = 头部title[0]+标题+头部title[1]+描述+头部title[2]+作者+头部title[3]\\n\\n    头部desc = 头部desc[0]+时间+分类+头部desc[1]\\n\\n    d.push({\\n        title: 头部title,\\n        desc: 头部desc,\\n        pic_url: 图片,\\n        url: 'hiker://search?s='+getParam('Name')+'&rule=聚漫🔮',\\n        col_type: 'movie_1_vertical_pic_blur'\\n    });\\n\\n}\\n\\n\\nfunction 添加简介(d, 数据源, 页URL, 图片) {\\n    //获取数据\\n    var 简介内容 = 数据源\\n    简介内容 = 简介内容.replace(\\\"简介：\\\", \\\"\\\").replace(\\\"介绍:\\\", \\\"\\\").replace(\\\"漫画\\\", \\\"\\\").replace(\\\"……\\\", \\\"\\\").replace(\\\"简介\\\", \\\"\\\")\\n\\n    var 简介内容收;\\n    if (简介内容.length > 45) {\\n        简介内容收 = 简介内容.substr(0, 45) + '...'\\n    } else {\\n        简介内容收 = 简介内容 + '...'\\n    }\\n\\n    //图标获取\\n    if (!图片) {\\n        图片 = 'https://lanmeiguojiang.com/tubiao/q/107.png'\\n    }\\n\\n    //页URL 获取\\n    if (!页URL) {\\n        页URL = MY_RULE.title\\n    }\\n\\n    //标题与简介样式\\n    var mztext = \\\"&nbsp;&nbsp;&nbsp;&nbsp;<small>简介</small><br>\\\"\\n    var bttitle = '<font color=\\\"#098AC1\\\">漫画简介  </font><small><small><font color=\\\"#f47983\\\">简介收></font></small></small>'\\n\\n    //展开与收缩操作\\n    var jj = getMyVar(页URL + \\\"简介收\\\", \\\"已收起\\\");\\n    var jjurl = $(\\\"#noLoading#\\\").lazyRule((简介内容, 简介内容收, 收, 收内容, 当前URL) => {\\n        var jsbl = 当前URL + \\\"简介收\\\";\\n        var jj = getMyVar(当前URL + \\\"简介收\\\", \\\"已收起\\\");\\n        jj = jj == \\\"已收起\\\" ? \\\"展开\\\" : \\\"已收起\\\";\\n        putMyVar(jsbl, jj)\\n        updateItem({\\n            extra: {\\n                id: 当前URL + \\\"_bt\\\"\\n            },\\n            title: 收.replace(\\\"简介收\\\", jj)\\n        })\\n\\n        updateItem({\\n            extra: {\\n                id: 当前URL + \\\"_mz\\\"\\n            },\\n            title: jj == \\\"已收起\\\" ? 收内容.replace(\\\"简介\\\", 简介内容收) : 收内容.replace(\\\"简介\\\", 简介内容)\\n        })\\n        return \\\"hiker://empty\\\"\\n    }, 简介内容, 简介内容收, bttitle, mztext, 页URL)\\n\\n\\n    //标题\\n    d.push({\\n        title: bttitle.replace(\\\"简介收\\\", jj),\\n        url: jjurl,\\n        col_type: \\\"avatar\\\",\\n        pic_url: 图片,\\n        extra: {\\n            id: 页URL + \\\"_bt\\\"\\n        }\\n    });\\n\\n    //简介\\n    d.push({\\n        title: jj == \\\"已收起\\\" ? mztext.replace(\\\"简介\\\", 简介内容收) : mztext.replace(\\\"简介\\\", 简介内容),\\n        col_type: \\\"rich_text\\\",\\n        extra: {\\n            id: 页URL + \\\"_mz\\\"\\n        }\\n    });\\n\\n}\\n\\nfunction 添加列表章节(d, 标题数据, 列表数据, 解析代码, 页URL, 图片) {\\n\\n\\n    //d与外界d，为同内存地址，不用返回\\n    //标题数据  即标题名字\\n    //列表数据必须是JSON  格式是[{title:'',url:'',},.....]  且url必须有前缀\\n\\n    //图标获取\\n    if (!图片) {\\n        图片 = 'https://lanmeiguojiang.com/tubiao/q/18.png'\\n    }\\n\\n    //页URL 获取\\n    if (!页URL) {\\n        页URL = MY_RULE.title\\n    }\\n\\n    //标题名\\n    var 标题名 = '<b>路线</b>  <small><small><font color=#f9906f>排序 ></font></small></small>'\\n\\n\\n    var 排序 = getMyVar(页URL + \\\"章节排序\\\", \\\"正序\\\");\\n    var 提示 = 排序 == '倒序' ? '正序' : '倒序';\\n\\n    var 排序url = $(\\\"#noLoading#\\\").lazyRule((标题名, 标题数据, 列表数据, 解析代码, 页URL) => {\\n        var 排序 = getMyVar(页URL + \\\"章节排序\\\", \\\"正序\\\");\\n        var 提示 = 排序 == '倒序' ? '正序' : '倒序';\\n        updateItem({\\n            extra: {\\n                id: 页URL + \\\"_排序\\\"\\n            },\\n            title: 标题名.replace('路线', 标题数据).replace('排序', 提示)\\n        })\\n\\n\\n        if (提示 == '倒序') {\\n            列表数据.reverse()\\n        }\\n        列表数据.forEach(function(data, ssid) {\\n            updateItem({\\n                title: data.title,\\n                url: data.url + 解析代码,\\n                extra: {\\n                    id: 页URL + \\\"_选集\\\" + ssid\\n                }\\n            });\\n        });\\n\\n\\n        putMyVar(页URL + \\\"章节排序\\\", 提示)\\n        return \\\"hiker://empty\\\"\\n    }, 标题名, 标题数据, 列表数据, 解析代码, 页URL)\\n\\n    d.push({\\n        title: 标题名.replace('路线', 标题数据).replace('排序', 排序),\\n        pic_url: 图片,\\n        url: 排序url,\\n        col_type: \\\"avatar\\\",\\n        extra: {\\n            id: 页URL + \\\"_排序\\\"\\n        }\\n    });\\n\\n    if (排序 == '倒序') {\\n        列表数据.reverse()\\n    }\\n\\n    列表数据.forEach(function(data, id) {\\n        d.push({\\n            title: data.title,\\n            url: data.url + 解析代码,\\n            col_type: \\\"text_2\\\",\\n            extra: {\\n                id: 页URL + \\\"_选集\\\" + id\\n            }\\n        });\\n    });\\n\\n}\\n\\n/*\\nfunction 添加防止网页(项url, UA) {\\n\\n    //上级跳转到当前页的链接必须是hiker://empty；不然一刷新还是会重复加载\\n    //UA ''或false或'手机' 默认是手机端 ; 电脑 'PC'\\n\\n    var 刷新重复 = MY_RULE.title + \\\"网页源码\\\"\\n    var pc链接 = 项url.replace(\\\"m.\\\", \\\"www.\\\")\\n    var 手机链接 = 项url.replace(\\\"www.\\\", \\\"m.\\\")\\n\\n    var code;\\n    if (getMyVar(刷新重复, \\\"false\\\") == \\\"false\\\") {\\n\\n        code = UA == 'PC' ? fetch(pc链接) : request(手机链接);\\n        putMyVar(刷新重复, getParam('url') + \\\"￥&￥\\\" + code)\\n\\n    } else {\\n\\n        var pm = getMyVar(刷新重复).split(\\\"￥&￥\\\")\\n        if (pm[0] == getParam('url')) {\\n            code = pm[1]\\n        } else {\\n            code = UA == 'PC' ? fetch(pc链接) : request(手机链接);\\n            putMyVar(刷新重复, getParam('url') + \\\"￥&￥\\\" + code)\\n        }\\n    }\\n    return code\\n}\\n*/\\n\\nfunction 添加选择路线(d, 路线数据, 页URL, 多路线否) {\\n\\n    //路线数据 格式[{title:'路线名'},....]\\n    //多路线否  false 则不启用选择路线；true 则启用\\n\\n    var 选择列表 = getItem(页URL + \\\"选择列表\\\", \\\"0\\\")\\n\\n    if (多路线否) {\\n\\n        var 路线选中 = '‘‘’’<font color=#098AC1>选中</font>'\\n\\n\\n        d.push({\\n            title: '‘‘’’📖<font color=\\\"#FA7298\\\"> 图源列表</font> ：',\\n            url: \\\"toast://点我干啥呢\\\",\\n            col_type: 'flex_button'\\n        });\\n\\n\\n        路线数据.forEach(function(data, id) {\\n\\n            var jjurl = $(\\\"#noLoading#\\\").lazyRule((页URL,id) => {\\n                setItem(页URL + '选择列表',id+'');\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\";\\n            },页URL,id);\\n\\n            var 标题名 = id == 选择列表 ? 路线选中.replace('选中', data.title) : data.title;\\n            d.push({\\n                title: 标题名,\\n                url: jjurl,\\n                col_type: 'flex_button',\\n                extra: {\\n                    id: 页URL + \\\"_路线\\\" + id\\n                }\\n            });\\n        });\\n\\n    }\\n    return 选择列表\\n}\\n\\n\\nfunction 添加选择下载(d, 路线数据, 多路线否) {\\n\\n    //路线数据 格式[{title:'路线名',sjss:'下载资料信息'},....]\\n    //多路线否  false 则只有①个下载 标题为 点击下载；true 则多个下载\\n\\nif(多路线否){\\n\\nd.push({\\n        title: '‘‘’’📥<font color=\\\"#f47983\\\"> 下载</font> ：',\\n        url: \\\"toast://点我干啥呢\\\",\\n        col_type: 'scroll_button'\\n    });\\n\\n}\\n\\n    路线数据.forEach(function(data, id) {\\n\\n        d.push({\\n            title: data.title.includes('章节列表') ? '点击下载' : data.title,\\n            url: 'hiker://page/download.view#noRecordHistory##noRefresh##noHistory#?rule=本地资源管理',\\n            col_type: 'scroll_button',\\n            extra: data.sjss\\n        });\\n    });\\n\\n    if (多路线否) {\\n        d.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n    }\\n\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"CSS选择器模版*\",\"path\":\"ejwb.js\",\"rule\":\"function 一级(列表, 标题, 图片, 集数, 链接, 访问头) {\\n    访问头 = !访问头 ? '' : 访问头\\n    var d = [];\\n    var code = getCode()\\n    pdfa(code, 列表).forEach(function(data) {\\n        d.push({\\n            title: pdfh(data, 标题),\\n            desc: pdfh(data, 集数),\\n            pic_url: pd(data, 图片)||图片 + \\\"@Referer=\\\" + 访问头,\\n            url: 'hiker://empty#immersiveTheme##autoCache#',\\n            col_type: \\\"movie_3\\\",\\nextra: {\\n            name: pdfh(data, 标题),\\n            url: pd(data, 链接),\\n            qz: MY_HOME\\n        }\\n        });\\n    });\\n    setResult(d);\\n}\\n\\n\\n\\nfunction 搜索(列表, 标题, 链接, 描述, 详情, 图片, 访问头) {\\n    var d = [];\\n    访问头 = !访问头 ? '' : 访问头\\n    pdfa(getResCode(), 列表).forEach(function(data) {\\n        d.push({\\n            title: pdfh(data, 标题),\\n            desc: pdfh(data, 描述),\\n            pic_url: pd(data, 图片) + \\\"@Referer=\\\" + 访问头,\\n            url: 'hiker://empty#immersiveTheme##autoCache#',\\n            content: pdfh(data, 详情),\\n\\nextra: {\\n            name: pdfh(data, 标题),\\n            url: pd(data, 链接),\\n            qz: MY_HOME\\n        }\\n        });\\n    });\\n    setResult(d);\\n}\\n\\n\\n\\n\\nfunction 最新(选择器, UA) {\\n    if (UA == \\\"PC\\\") {\\n        var code = fetch(getParam('url').replace(\\\"m.\\\", \\\"www.\\\"));\\n    } else {\\n        var code = request(getParam('url').replace(\\\"www.\\\", \\\"m.\\\"));\\n    }\\n    setResult(pdfh(code, 选择器))\\n}\\n\\n\\n\\neval(JSON.parse(request(\\\"hiker://page/qs?rule=聚漫🔮\\\")).rule)\\n\\nfunction 二级(头部列表, 标题, 图片, 描述, 访问头, 作者, 时间, 分类, 简介, 多路线否, 路线列表, 路线名, 选集总列表, 选集列表, 集名, 集url, 漫画解析,当前URL,当前页名,前缀,UA,防重载否) {\\n    var d = [];\\n\\n//头部列表  则默认使用 code 来作为头部列表数据\\n//多路线否  true 则使用多路线；false 则使用章路线\\n//UA  不填则使用手机端  'PC'则手机端\\n\\nif (当前页名) {\\n    setPageTitle(当前页名)\\n}\\n\\nif(防重载否){\\n//网页内容+防止重拉\\n    var code = 添加防止网页(当前URL, UA)\\n}else{\\n    var code = getCode()\\n}\\n    \\n\\n    //头部列表数据\\n    var 头部 = !头部列表 ? code : pdfa(code, 头部列表)[0];\\n    标题 = pdfh(头部, 标题)\\n    图片 = pdfh(头部, 图片)||图片\\n    if (图片) {\\n        图片 = 图片.includes('http') ? 图片 : 前缀 + 图片\\n        if (!访问头) {} else if (访问头.substr(0, 1) == '@') {\\n            图片 = 图片 + 访问头\\n        } else {\\n            图片 = 图片 + \\\"@Referer=\\\" + 访问头\\n        }\\n    }\\n    \\n\\n描述 = 描述.includes('$') ? 描述.split('$')[1] + pdfh(头部, 描述.split('$')[0]) : pdfh(头部, 描述)\\n\\n作者 = 作者.includes('$') ? 作者.split('$')[1] + pdfh(头部, 作者.split('$')[0]) : pdfh(头部, 作者)\\n    \\n时间 = 时间.includes('$') ? 时间.split('$')[1] + pdfh(头部, 时间.split('$')[0]) : pdfh(头部, 时间)\\n\\n分类 = 分类.includes('$') ? 分类.split('$')[1] + pdfh(头部, 分类.split('$')[0]) : pdfh(头部, 分类)\\n\\n    \\n    //头部列表\\n    添加头部列表(d, 标题, 图片, 描述, 作者, 时间, 分类,当前URL)\\n    \\n    //路线名与选集数据\\n    var 章节json = 优化路线章节数据(多路线否, code, 路线列表,路线名,选集总列表,选集列表,集名,集url,前缀,当前页名,图片)\\n\\n    //简介\\n    添加简介(d, pdfh(code, 简介), 当前URL, '')\\n\\n   //当没有章节内容，就不显示\\n    if (章节json.length > 0) {\\n\\n        //路线选择\\n        var 选择列表 = 添加选择路线(d, 章节json, 当前URL, 多路线否)\\n\\n        //选择下载\\n        添加选择下载(d, 章节json,多路线否)\\n\\n        //排序与选集\\n        var lazy = `@lazyRule=.js:` + 漫画解析;\\n        添加列表章节(d, 章节json[选择列表].title, 章节json[选择列表].list, lazy, 当前URL, '')\\n\\n        d.push({\\n            col_type: \\\"long_text\\\"\\n        });\\n    }\\n    setResult(d)\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"二级列表*\",\"path\":\"ejlb\",\"rule\":\"var tabs = []\\nvar lists = []\\nvar arts = pdfa(html, 线路);\\narts.forEach((data, id) => {\\n    tabs.push(pdfh(data, 线路名))\\n})\\nvar conts = pdfa(html, 选集);\\nconts.forEach((data, id) => {\\n    lists.push(pdfa(data, 选集列表))\\n})\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\"lists\\\");\\n}));\\nstorage0.putMyVar(\\\"lists\\\", lists);\\nvar list = lists[getMyVar(MY_URL, '0')];\\nvar 排序 = getMyVar(MY_URL + \\\"章节排序\\\", '#1aad19\\\">正序');\\nvar 提示 = 排序 == '#FF0000\\\">倒序' ? '#1aad19\\\">正序' : '#FF0000\\\">倒序';\\nvar 排序名 = '““””<b><span style=\\\"color:排序</span></b>'\\n\\nd.push({\\n    title: '““””<b><span style=\\\"color: ' + 排序 + '</span></b>',\\n    url: $(\\\"#noLoading#\\\").lazyRule((排序名, lazy) => {\\n        var lists = storage0.getMyVar(\\\"lists\\\");\\n        var 章节 = lists[getMyVar(MY_URL, '0')];\\n        var 排序 = getMyVar(MY_URL + \\\"章节排序\\\", '#1aad19\\\">正序');\\n        var 提示 = 排序 == '#FF0000\\\">倒序' ? '#1aad19\\\">正序' : '#FF0000\\\">倒序';\\n        updateItem({\\n            extra: {\\n                id: MY_URL + \\\"_排序\\\"\\n            },\\n            title: 排序名.replace('排序', 提示)\\n        })\\n        if (排序 == '#1aad19\\\">正序') {\\n            章节.reverse()\\n        }\\n        let cp = 章节.map((data, ssid) => {\\n            return {\\n                title: pdfh(data, 'a&&Text'),\\n                url: pd(data, 'a&&href') + lazy,\\n                col_type: 章节.length > 3 ? 'text_4' : 'text_2',\\n                extra: {\\n                    cls: MY_URL + \\\"_选集\\\"\\n                }\\n            };\\n        });\\n        deleteItemByCls(MY_URL + \\\"_选集\\\");\\n        addItemBefore(MY_URL + \\\"footer\\\", cp);\\n        putMyVar(MY_URL + \\\"章节排序\\\", 提示)\\n        return \\\"hiker://empty\\\"\\n    }, 排序名, lazy),\\n    col_type: 'flex_button',\\n    extra: {\\n        id: MY_URL + \\\"_排序\\\"\\n    }\\n})\\ntabs.forEach((data, id) => {\\n    d.push({\\n        title: getMyVar(MY_URL, '0') == id ? '““' + data + '””' : data,\\n        url: $(\\\"#noLoading#\\\").lazyRule((线路, lazy, id) => {\\n            var lists = storage0.getMyVar(\\\"lists\\\");\\n            var 排序 = getMyVar(MY_URL + \\\"章节排序\\\", '#1aad19\\\">正序');\\n            var 提示 = 排序 == '#FF0000\\\">倒序' ? '#1aad19\\\">正序' : '#FF0000\\\">倒序';\\n\\n            线路.forEach((data, xlid) => {\\n                updateItem({\\n                    title: id == xlid ? '““' + data + '””' : data,\\n                    extra: {\\n                        id: MY_URL + \\\"_线路\\\" + xlid\\n                    }\\n                });\\n            })\\n            putMyVar(MY_URL, id)\\n            var 章节 = lists[getMyVar(MY_URL, '0')];\\n            if (排序 == '#FF0000\\\">倒序') {\\n                章节.reverse()\\n            }\\n            let cp = 章节.map((data, ssid) => {\\n                return {\\n                    title: pdfh(data, 'a&&Text'),\\n                    url: pd(data, 'a&&href') + lazy,\\n                    col_type: 章节.length > 3 ? 'text_4' : 'text_2',\\n                    extra: {\\n                        cls: MY_URL + \\\"_选集\\\"\\n                    }\\n                };\\n            });\\n            deleteItemByCls(MY_URL + \\\"_选集\\\");\\n            addItemBefore(MY_URL + \\\"footer\\\", cp);\\n            return \\\"hiker://empty\\\"\\n        }, tabs, lazy, id),\\n        col_type: 'flex_button',\\n        extra: {\\n            id: MY_URL + \\\"_线路\\\" + id\\n        }\\n    });\\n})\\n\\nif (排序 == '#FF0000\\\">倒序') {\\n    list.reverse()\\n}\\nlist.forEach((data, id) => {\\n    d.push({\\n        title: pdfh(data, 'a&&Text'),\\n        url: pd(data, 'a&&href') + lazy,\\n        col_type: list.length > 3 ? 'text_4' : 'text_2',\\n        extra: {\\n            cls: MY_URL + \\\"_选集\\\"\\n        }\\n    });\\n})\\nlet newstip = list.length;\\nif (newstip) {\\n    setLastChapterRule('js:' + $.toString((newstip) => {\\n        setResult('更新至: 第' + newstip + \\\"集\\\");\\n    }, newstip));\\n}\\n\\nd.push({\\n    col_type: \\\"big_blank_block\\\",\\n    extra: {\\n        id: MY_URL + \\\"footer\\\"\\n    }\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"环境劫持\",\"path\":\"hijackEnv\",\"rule\":\"var { RULE, isIndex, pageTitle } = MY_PARAMS\\nRULE = JSON.parse(base64Decode(RULE))\\nvar oriRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE).find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = oriRULE\\n    var { tabHeader, fyAll } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, RULE))\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    RULE.pages = oriRULE.pages\\n    // 处理MY_RULE\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\nlog(MY_RULE.url)\\n// 载入函数工具\\nvar { genMyRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {\\n    QING_TITLE: QING_TITLE,\\n    MY_RULE: MY_RULE,\\n    isIndex: isIndex\\n})\\n// 防止require多次运行\\nconst myColl_required = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param2 = param2 != null ? param2 : 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param3 = param3 != null ? param3 : 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n// 最新章节规则环境劫持\\nsetLastChapterRule = function(param0) {\\n    if (param0.startsWith(\\\"js:\\\")) {\\n        param0 = 'js:' + $.toString((QING_TITLE, MY_PARAMS) => {\\n            eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n            var { runPreRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n            runPreRule(oriRULE.preRule)\\n        }, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex }) + ';' + param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0)\\n}\\n// 动态新增函数劫持\\naddItemAfter = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemAfter.invoke(javaContext, param0, param1)\\n}\\naddItemBefore = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemBefore.invoke(javaContext, param0, param1)\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"函数工具\",\"path\":\"funcTools\",\"rule\":\"let { QING_TITLE, MY_RULE, isIndex } = $.importParam\\nif (!MY_RULE) MY_RULE = {}\\n\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\n// 首页链接替换分类\\nfunction indexUrl(param) {\\n    MY_RULE = JSON.parse(base64Decode(MY_RULE))\\n    let pageNum = parseInt(param.split('###')[1]),\\n        url = MY_RULE.url,\\n        { fyAll, tabHeader } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, MY_RULE))\\n\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\n\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\\n// 预处理并初始化config\\nfunction runPreRule(rule) {\\n    if ((typeof MY_PAGE != 'undefined' &&  MY_PAGE == 1) &&\\n         (isIndex || !getMyVar('$preRule_' + MY_RULE.title))) {\\n        eval(rule)\\n        putMyVar('$preRule_' + MY_RULE.title, 'T')\\n    }\\n    let _cfg = getMyVar('initConfig', '{}')\\n    if (_cfg && _cfg.length > 0) {\\n        config = JSON.parse(_cfg)\\n    }\\n}\\n// 正文解析通用变量\\nfunction genMyRule() {\\n    let RULE = Object.assign({}, MY_RULE)\\n    delete RULE.last_chapter_rule\\n    delete RULE.preRule\\n    delete RULE.pageList\\n    delete RULE.pages\\n    return RULE\\n}\\n\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, MY_RULE.ua, MY_RULE.url)\\n}\\n\\nhijackLazyRule = $.toString((QING_TITLE, MY_PARAMS) => {\\n    if (!MY_RULE) MY_RULE = {}\\n    MY_PARAMS = JSON.parse(base64Decode(MY_PARAMS))\\n    eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n    var {\\n        paramHandle,\\n        genExUrl,\\n        hijackLazyRule,\\n        hijackEl\\n    } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n}, QING_TITLE, base64Encode(JSON.stringify({ url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex })))\\n\\nfunction hijackEl(el) {\\n    if(!el || typeof el != 'object') return\\n    if (!el.extra) el.extra = {}\\n    el.col_type = el.col_type || MY_RULE.col_type\\n    let NOW_RULE = Object.assign(genMyRule(), { params: el.extra })\\n\\n    if (typeof el.url != 'string' ||\\n        ['x5_webview_single', 'input'].some((v) => el.col_type == v) ||\\n        ['海阔视界', 'javascript:'].some((v) => el.url.startsWith(v)) ||\\n        ['rule', 'pics', 'toast', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'x5Rule', 'webRule',\\n            'download', 'share', 'fileSelect', 'video'].some((v) => el.url.startsWith(v + '://'))) {\\n        return el\\n    } else if (el.url.startsWith('input://')) {\\n        let para = JSON.parse(el.url.slice(8))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'input://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.startsWith('confirm://')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (el.url.startsWith('select://')) {\\n        let para = JSON.parse(el.url.slice(9))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'select://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.includes('@rule=')) {\\n        let [_, url, rule] = el.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n        el.url = url\\n        NOW_RULE.detail_find_rule = rule\\n        NOW_RULE.detail_col_type = MY_RULE.col_type\\n    } else if (el.url.startsWith('hiker://page/')) {\\n        if (el.url.includes('rule=') || el.extra.rule)\\n            return el\\n        let [_, path, flag, params] = el.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n            subPage = MY_RULE.pageList.find((v) => v.path == path),\\n            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n        el.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (el.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n        NOW_RULE.detail_find_rule = subPage.rule\\n        NOW_RULE.detail_col_type = subPage.col_type\\n    } else if (el.url.includes('@lazyRule=')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (isIndex) {\\n        if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(el.url)) return el\\n    } else {\\n        return el\\n    }\\n    el.extra = Object.assign({}, el.extra, {\\n        url: genExUrl(el.url),\\n        RULE: base64Encode(JSON.stringify(NOW_RULE)),\\n        pageTitle: isIndex && el.title\\n    })\\n    el.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n    return el\\n}\\n$.exports = {\\n    runCode: runCode,\\n    indexUrl: indexUrl,\\n    paramHandle: paramHandle,\\n    runPreRule: runPreRule,\\n    genMyRule: genMyRule,\\n    genExUrl: genExUrl,\\n    hijackLazyRule: hijackLazyRule,\\n    hijackEl: hijackEl\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"爱米推类解析*\",\"path\":\"js\",\"rule\":\"var 漫画解析 = $.toString(() => {\\n            var url = input.replace('m','www');\\n            eval(pdfh(fetchPC(url), \\\"body&&script&&Html\\\"));\\n            var pics = [];\\n            if (chapterImages.length > 1) {\\n                chapterImages.forEach(img => {\\n                    pics.push(img+'@Referer='+url)\\n                })} else {\\n                    var html = request(input);\\n                    var list = pdfa(html, 'body&&.scroll-item');\\n                    var first = pdfa(html, 'body&&#image');\\n                    list = first.concat(list);\\n                    list.forEach(img => {\\n                            pics.push(pdfh(img, 'img&&data-src||src')+'@Referer='+input)\\n                    })\\n                }\\n                return \\\"pics://\\\" + pics.join(\\\"&&\\\")\\n            })\\n        var lazy = `@lazyRule=.js:` + 漫画解析;\"},{\"col_type\":\"movie_3\",\"name\":\"云口令*\",\"path\":\"import\",\"rule\":\"writeFile('hiker://files//rules/Tz/JM',fetch(input))\\n'toast://已从云口令获取聚漫源'\"},{\"col_type\":\"movie_3\",\"name\":\"更新详情*\",\"path\":\"Up\",\"rule\":\"js:\\nvar res = {};\\nvar items = [];\\nvar img = 'https://bing.img.run/1366x768.php';\\nitems.push({\\n    img: img,\\n    url: img + \\\"#.jpg\\\",\\n    desc: '0',\\n    col_type: 'card_pic_1'\\n});\\n\\nitems.push({\\n    title: \\\"““””<h4>【聚漫反馈收集】</h4>\\\" + '<span style=\\\"color: grey\\\">团子</span>',\\n    col_type: \\\"text_center_1\\\",\\n    url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#?rule=道长仓库Pro\\\",\\n    extra: {\\n        lver: MY_PARAMS.version || \\\"获取版本失败，自行查看\\\",\\n        id: \\\"2847\\\"\\n    }\\n});\\n\\nif (getItem(\\\"read_policy\\\") !== \\\"1\\\") {\\n    items.push({\\n        title: '““””<small><font color=#871f78>本规则数据来源于网络，如您喜欢，请支持官方</font></small>',\\n        desc: '““””<small><font color=#f20c00>本规则仅限免费学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播或售卖此规则的整体或部分！</font></small>',\\n        url: $('#noHistory#').lazyRule(() => {\\n            setItem(\\\"read_policy\\\", \\\"1\\\")\\n            refreshPage(false)\\n            return \\\"toast://你已同意该协议\\\"\\n        }),\\n        col_type: 'text_center_1'\\n    })\\n}\\n\\nitems.push({\\n    title: \\\"使用说明\\\",\\n    url: \\\"hiker://page/Help#noHistory##noRecordHistory#\\\",\\n    col_type: \\\"text_2\\\"\\n});\\n\\nlet newVersion;\\nlet myVersion = MY_PARAMS.version;\\ntry {\\n    newVersion = JSON.parse(fetchPC(\\\"http://hiker.nokia.press/hikerule/dev/getbyid?id=2847\\\", {\\n        timeout: 1000\\n    })).result.ver;\\n} catch (e) {\\n    toast(\\\"道长仓库抽风了，本次未检测到新版信息\\\");\\n    newVersion = myVersion;\\n}\\nlet isUpdate = Number(newVersion) > Number(myVersion);\\nlet isVer = Number(newVersion) === Number(myVersion);\\nif (isUpdate) {\\n    log('有新版本:' + newVersion + ',当前:' + myVersion);\\n}\\nitems.push({\\n    title: isUpdate ? \\\"🆙新版本\\\" : \\\"规则发布页&反馈\\\",\\n    url: isUpdate ? \\\"rule://5rW36ZiU6KeG55WM6aaW6aG16aKR6YGT6KeE5YiZ44CQ6IGa5ryr8J+UruOAke+/pWhvbWVfcnVsZV91cmzvv6VodHRwOi8vaGlrZXIubm9raWEucHJlc3MvaGlrZXJ1bGUvcnVsZWxpc3QuanNvbj9pZD0yODQ3\\\" : \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#?rule=道长仓库Pro\\\",\\n    col_type: \\\"text_2\\\",\\n    extra: {\\n        lver: MY_PARAMS.version || \\\"获取版本失败，自行查看\\\",\\n        id: \\\"2847\\\"\\n    }\\n});\\nconst Color = \\\"#19B89D\\\";\\nvar des_desc = '<h1 style=\\\"text-align: center;\\\">🐾更新[1113]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①修复包子部分漫画章节列表定位错误PS：拉远程</br>②修复部分bug<br></<blockquote>' +\\n\\n'<h1 style=\\\"text-align: center;\\\">🐾更新[1108]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①更新聚漫本地修复子页面动态分类bug，修复部分源（多多，CC）</br><br></<blockquote>' +\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[1102]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①更换聚漫本体，更换部分样式，修复部分源。可直接订阅仓库链接更新（PS：随缘更）</br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[1005]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①更换聚漫本体，加入最新版缓存机制实现二次打开秒开，修复部分源</br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0926]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①更换远程仓库，修复部分源</br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0816]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①更新聚漫本体，修复部分源</br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0809]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①删除失效源</br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0717]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①增加动态切换排序，PS：漫画吧<br>②搬模板Q动态分类&动态排序至聚漫｜PS：需更新聚漫</br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0526]</h1><<blockquote><font color=\\\"red\\\">①修复包子选集错误&解析错误<br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0527]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①新增若干图源<br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0529]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①美化部分图源<br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0530]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①更新聚漫模板<br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0602]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①修复&美化好漫8<br>②美化八极｜PS：需清理缓存</br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0606]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①更新包子，尝试解决收藏问题，PS：需更新聚漫<br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0608]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①修复鬼萝莉搜索<br><br></<blockquote>' +\\n\\n    '<h1 style=\\\"text-align: center;\\\">🐾更新[0616]</h1>' +\\n    '<<blockquote><font color=\\\"red\\\">①美化部分图源，PS：需清理缓存<br><br></<blockquote>'\\n\\nitems.push({\\n    title: '更新详情 <small><small><span style=\\\"color:#19B89D\\\">展开></span></small></small>',\\n    img: \\\"https://lanmeiguojiang.com/tubiao/more/197.png\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule((jjid, decid, des_desc) => {\\n        if (getMyVar(\\\"jjs\\\", \\\"收起\\\") == \\\"收起\\\") {\\n            putMyVar(\\\"jjs\\\", \\\"展开\\\");\\n\\n            updateItem({\\n                extra: {\\n                    id: jjid\\n                },\\n                title: '更新详情 <small><small><span style=\\\"color:#19B89D\\\">收起></span></small></small>'\\n            })\\n\\n            updateItem({\\n                extra: {\\n                    textSize: 14,\\n                    lineSpacing: 3,\\n                    id: decid\\n                },\\n                title: '<span style=\\\"color:#808080\\\">' + des_desc + '</span>'\\n            })\\n            return \\\"hiker://empty\\\"\\n        } else {\\n            putMyVar(\\\"jjs\\\", \\\"收起\\\");\\n\\n            updateItem({\\n                extra: {\\n                    id: jjid\\n                },\\n                title: '更新详情<small><small><span style=\\\"color:#19B89D\\\">展开></span></small></small>'\\n            })\\n\\n            updateItem({\\n                extra: {\\n                    textSize: 14,\\n                    lineSpacing: 3,\\n                    id: decid\\n                },\\n                title: '<span style=\\\"color:#808080\\\">' + des_desc.substr(0, 150)\\n            })\\n            return \\\"hiker://empty\\\"\\n        }\\n\\n    }, MY_RULE + \\\"_jjid\\\", MY_RULE + \\\"_decid\\\", des_desc),\\n    col_type: \\\"avatar\\\",\\n    extra: {\\n        id: MY_RULE + \\\"_jjid\\\"\\n    }\\n});\\n\\nitems.push({\\n    title: '<span style=\\\"color:#808080\\\">' + des_desc.substr(0, 150),\\n    col_type: \\\"rich_text\\\",\\n    extra: {\\n        textSize: 14,\\n        lineSpacing: 3,\\n        id: MY_RULE + \\\"_decid\\\"\\n    }\\n});\\n\\nres.data = items;\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"使用帮助*\",\"path\":\"Help\",\"rule\":\"js:\\nvar res = {};\\nvar items = [];\\n\\nitems.push({\\n     img: 'https://s1.ax1x.com/2022/11/04/xLhgoR.jpg',\\n        desc: '0',\\n        col_type: 'pic_1_full'\\n});\\n\\nitems.push({\\n     img: 'https://s1.ax1x.com/2022/11/04/xLhcw9.jpg',\\n        desc: '0',\\n        col_type: 'pic_1_full'\\n});\\n\\nres.data = items;\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索*\",\"path\":\"search\",\"rule\":\"function convert1(str) {\\n    let c = str.split(\\\";\\\")\\n    return {\\n        列表: c[0],\\n        标题: c[1],\\n        链接: c[2],\\n        描述: c[3],\\n        详情: c[4],\\n        图片: c[5]\\n    }\\n}\\n\\nfunction merge(source, target) {\\n    let keys = Object.keys(source)\\n    for (let i in keys) {\\n        target[keys[i]] = source[keys[i]]\\n    }\\n}\\n\\nfunction 搜索(obj) {\\n    var d = [];\\n    if ($.type(obj) == \\\"string\\\") {\\n        obj = convert1(obj)\\n    }\\n    if (obj.规则) {\\n        let c = convert1(obj.规则)\\n        merge(c, obj)\\n    }\\n    let arr = pdfa(getResCode(), obj.列表);\\n       if (obj.列表处理 != null) {\\n            arr = obj.链接处理(arr)\\n        }\\n    for (let it of arr) {\\n        let url = pd(it, obj.链接)\\n        if (obj.链接处理 != null) {\\n            url = obj.链接处理(url)\\n        }\\n        let title = pdfh(it, obj.标题)\\n        if (obj.标题处理 != null) {\\n            title = obj.标题处理(title)\\n        }\\n        let pic = pd(it, obj.图片)\\n        if (obj.图片处理 != null) {\\n            pic = obj.图片处理(pic)\\n        }\\n        d.push({\\n            title: obj.标题 ? pdfh(it, obj.标题) : \\\"\\\",\\n            url: url+'#autoCache#',\\n            col_type: \\\"\\\",\\n            desc: obj.描述 ? pdfh(it, obj.描述) : \\\"\\\",\\n            content: obj.详情 ? pdfh(it, obj.详情) : \\\"\\\",\\n            pic_url: pic,\\n            extra: {\\n                ytitle: title,\\n                ypic: pic,\\n                yurl: url.replace('hiker://empty##','')\\n            }\\n        });\\n\\n    }\\n    setResult(d);\\n}\\nvar tool = {\\n    搜索: 搜索\\n}\\n$.exports = tool\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/ke/28.png"},{"last_chapter_rule":"","title":"轻合集.逐风者","author":"轻合集生成器","version":105,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', 'find:'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '搜你想要的...',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n                if (typeShow.startsWith('find:')) {\n                    let filterKey = typeShow.slice(5)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow.startsWith('find:')) {\n    let filterKey = typeShow.slice(5)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow.startsWith('find:') ? {\n    title: '““””' + ('全部' + (typeShow[5] ? '[' + typeShow.slice(5) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', 'find:' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', 'find:')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nif (!typeShow.startsWith('find:')) rules = rulesType[typeShow]\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^(https?:\\/\\/.+?)(?:#|\\?|\\/|$)/i.exec(ruleTmp.url) || [, 'hiker://empty'])[1],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + JSON.stringify({\n                    RULE: base64Encode(JSON.stringify(ruleTmp)),\n                    pageNum: fypage,\n                    QING_TITLE: getMyVar('myCollection')\n                }) + '.js:eval(JSON.parse(fetch(\"hiker://page/urlParse？？rule=' + QING_TITLE + '\")).rule)；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: { title: v.title },\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', 'find:')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n            if (typeShow.startsWith('find:')) {\n                let filterKey = typeShow.slice(5)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","titleColor":"#ff13b66a","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=510381049')\n// \n/*\n*/","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"const ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nconst fyAll = RULE.url.includes('fyAll')\\nlet tabHeader = []\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title, fold: readFile('tabFold'), })\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if(Number.isNaN(input)) input = 1\\n        else if(input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if(url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if(rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据'], 1).select(() => {\\n        if (input == '清除自定义数据') {\\n            deleteFile('customData')\\n        } else if (input == '启用合集自定义') {\\n            saveFile('disableCustom', '')\\n        } else {\\n            saveFile('disableCustom', '1')\\n            input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif(editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i)=>{\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'))(true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nlet myCollection_el = [],\\n    { RULE, isIndex, pageTitle } = MY_PARAMS,\\n    thisRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)().find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = thisRULE\\n} else {\\n    RULE.pages = thisRULE.pages\\n}\\neval(JSON.parse(fetch('hiker://page/preFunc?rule=' + QING_TITLE)).rule)\\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\\n\\nif (isIndex) {\\n    // 加载ClassTab组件\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    if (MY_PAGE == 1) {\\n        tabHeader.load(myCollection_el)\\n        if (RULE.search_url) myCollection_el.push({\\n            title: \\\"搜索\\\",\\n            desc: \\\"搜你想要的...\\\",\\n            url: '\\\"hiker://search?s=\\\"+input',\\n            extra: {\\n                rules: $.toString((QING_TITLE, title) => {\\n                    let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\\n                    rules = [rules.find((v) => v.title == title)]\\n                    return JSON.stringify(rules)\\n                }, QING_TITLE, RULE.title),\\n                defaultValue: getMyVar('searchKey', ''),\\n                onChange: \\\"putMyVar('searchKey',input)\\\"\\n            },\\n            col_type: \\\"input\\\",\\n        })\\n    }\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(thisRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n}\\n// 预处理并初始化config\\nif (MY_PAGE == 1) {\\n    let loaded = getMyVar(MY_RULE.title + \\\"@pre\\\")\\n    if (!loaded || isIndex) {\\n        eval(thisRULE.preRule)\\n        putMyVar(MY_RULE.title + \\\"@pre\\\", \\\"1\\\")\\n    }\\n}\\nlet _cfg = getMyVar('initConfig', '{}')\\nif (_cfg && _cfg.length > 0) {\\n    config = JSON.parse(_cfg)\\n}\\n\\n// 正文解析通用变量\\nlet assignLazyRule = $.toString((QING_TITLE, title, url) => {\\n    let RULE = $.require(\\\"hiker://page/dataLoad?rule=\\\" + QING_TITLE)().find((v) => v.title == title)\\n    return { title:title, url: url, pages: RULE.pages, pageList: JSON.parse(RULE.pages || '[]') }\\n}, QING_TITLE, MY_RULE.title, MY_RULE.url)\\nfunction genMyRule() {\\n    let rule = Object.assign({}, MY_RULE)\\n    delete rule.last_chapter_rule\\n    delete rule.preRule\\n    delete rule.pageList\\n    delete rule.pages\\n    return rule\\n}\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, thisRULE.ua, MY_RULE.url)\\n}\\n// 正文解析\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    setResult = function(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            if(!v.extra) v.extra = {}\\n            v.col_type = v.col_type || MY_RULE.col_type\\n            let MY__RULE = Object.assign(genMyRule(), { params: v.extra })\\n\\n            if (typeof v.url != 'string' || ['rule', 'pics', 'toast', 'input', 'confirm', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule', 'download', 'share'].find((vv) => v.url.startsWith(vv + '://')) || ['x5_webview_single', 'input'].find((vv) => v.col_type == vv)) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || v.extra.rule)\\n                    return v\\n                let [_, path, flag, params] = v.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n            } else if (v.url.includes('@lazyRule=')) {\\n                let reIndex = v.url.indexOf('.js:')\\n                if (reIndex >= 0) v.url = v.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + v.url.slice(reIndex + 4)\\n                return v\\n            } else if (isIndex) {\\n                if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(v.url)) return v\\n            } else {\\n                return v\\n            }\\n            v.extra = Object.assign({}, v.extra, {\\n                url: genExUrl(v.url),\\n                RULE: MY__RULE,\\n                pageTitle: isIndex && v.title\\n            })\\n            v.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: Object.assign(genMyRule(), { detail_find_rule: detailFindRule }),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: genMyRule(),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"$.exports = function(showAll) {\\n    let url = getMyVar('remoteUrl'),\\n        data = []\\n    if (url.startsWith('hiker://') || url.startsWith('file://')) {\\n        // 如果为本地文件则不进行缓存\\n        try {\\n            let oriData = fetch(url)\\n            if (url.startsWith('hiker://page/'))\\n                oriData = JSON.parse(oriData).rule\\n            data = JSON.parse(oriData)\\n        } catch (e) {}\\n    } else {\\n        // 获取远程数据，检查间隔默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n            remoteData = []\\n        if(interval == 0) interval = -1\\n        try { remoteData = JSON.parse(fetchCache(url, 24 * interval, {timeout:50000})) } catch(e) {}\\n        if(!Array.isArray(remoteData)) remoteData = []\\n        if (remoteData.length < 3) {\\n            log('未获取到数据')\\n            if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n            data = JSON.parse(oldData || '[]')\\n        } else {\\n            log('已获取到数据')\\n            data = remoteData\\n        }\\n    }\\n    data = data.filter((v) => { return v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器') })\\n    if (readFile('disableCustom')) return data\\n    else { // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if (showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    }\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数重写\",\"path\":\"preFunc\",\"rule\":\"// 防止require多次运行\\nlet rCache = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param2 = param2 || 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param3 = param3 || 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n\\n// 最新章节规则注入预处理代码\\nsetLastChapterRule = function(param0) {\\n    if (!param0) return\\n    if (param0.startsWith(\\\"js:\\\") && thisRULE.preRule) {\\n        param0 = 'js:\\\\ntry{eval(JSON.parse(fetch(\\\"hiker://page/preFunc?rule=' + QING_TITLE + '\\\")).rule);\\\\\\n            eval(base64Decode(\\\"' + base64Encode(thisRULE.preRule) + '\\\"));\\\\\\n            let _cfg = getMyVar(\\\"initConfig\\\", \\\"{}\\\");\\\\\\n            if (_cfg && _cfg.length>0) {config = JSON.parse(_cfg)}}catch(e){log(e.message)}\\\\n;' +\\n            param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0);\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"链接处理\",\"path\":\"urlParse\",\"rule\":\"// 首页链接替换分类\\nfunction indexUrl(param) {\\n    function runCode(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    }\\n    let { RULE, pageNum, QING_TITLE } = JSON.parse(param.split('###')[1])\\n    RULE = JSON.parse(base64Decode(RULE))\\n    pageNum = parseInt(pageNum)\\n    let url = RULE.url\\n\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\"}]","proxy":"","icon":"http://q1.qlogo.cn/g?b=qq&nk=510381049&s=640"},{"last_chapter_rule":"","title":"聚磁🔮","author":"Joe","version":106,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', '@'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '这是轻合集的搜索哦~~',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n                if (typeShow[0] == '@') {\n                    let filterKey = typeShow.slice(1)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow[0] == '@') {\n    let filterKey = typeShow.slice(1)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow[0] == '@' ? {\n    title: '““””' + ('全部' + (typeShow[1] ? '[' + typeShow.slice(1) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', '@' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', '@')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nel.push({\n    title: '““””<small><font color=#20b2aa>数据来源于对应的网站，软件和规则不提供任何内容！</font></small>',\n    desc: '““””<small><font color=#ff7f50>本规则仅限学习与交流，请导入后24小时内删除！</font></small>',\n    url: \"hiker://empty\",\n    col_type: 'text_center_1'\n});\nif (typeShow[0] != '@') rules = rulesType[typeShow]\nlet { paramHandle } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {})\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^https?:\\/\\/[^/?#]+/i.exec(ruleTmp.url) || ['hiker://empty'])[0],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + fypage +\n                    '.js:let { runCode, indexUrl } = $.require(\"hiker://page/funcTools？？rule=' + QING_TITLE + '\", '\n                     + JSON.stringify({\n                        MY_RULE: base64Encode(JSON.stringify(ruleTmp)),\n                        QING_TITLE: QING_TITLE\n                    }) + ')；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: base64Encode(JSON.stringify({ title: v.title })),\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', '@')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n            if (typeShow[0] == '@') {\n                let filterKey = typeShow.slice(1)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'http://hiker.nokia.press/hikerule/rulelist.json?id=5370&auth=ceb33c9e-418a-54f1-8299-31e6f2058616')\n// \n/*\n */","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"var {\\n    QING_TITLE, title, url,\\n    class_name, class_url,\\n    area_name, area_url,\\n    year_name, year_url,\\n    sort_name, sort_url\\n} = $.importParam\\nconst ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('$fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('$fold_' + sign, folded ? '' : 'T')\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nlet fyAll = url.includes('fyAll'),\\n    tabHeader = []\\nif (class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: class_name,\\n    class_url: class_url\\n})\\nif (area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: area_name,\\n    class_url: area_url\\n})\\nif (year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: year_name,\\n    class_url: year_url\\n})\\nif (sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: sort_name,\\n    class_url: sort_url\\n})\\n$.exports = {\\n    fyAll: fyAll,\\n    tabHeader: new ClassTab(tabHeader, { name: title, fold: readFile('tabFold'), })\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE, true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if (Number.isNaN(input)) input = 1\\n        else if (input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if (url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if (rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据'], 1).select(() => {\\n        if (input == '清除自定义数据') {\\n            deleteFile('customData')\\n        } else if (input == '启用合集自定义') {\\n            saveFile('disableCustom', '')\\n        } else {\\n            saveFile('disableCustom', 'T')\\n            input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif (editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'), true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nvar myColl_el = []\\neval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(oriRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n} else if (MY_PAGE == 1) {\\n    tabHeader.load(myColl_el)\\n    if (RULE.search_url) myColl_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"这是轻合集的搜索哦~~\\\",\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        extra: {\\n            rules: $.toString((QING_TITLE, title) => {\\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\\n                rules = [rules.find((v) => v.title == title)]\\n                return JSON.stringify(rules)\\n            }, QING_TITLE, RULE.title),\\n            defaultValue: getMyVar('searchKey', ''),\\n            onChange: \\\"putMyVar('searchKey',input)\\\"\\n        },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 正文解析\\nvar {\\n    paramHandle,\\n    runPreRule,\\n    genExUrl,\\n    hijackLazyRule\\n} = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\nrunPreRule(oriRULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    let { hijackEl } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n    setResult = function(param0, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(param0.data)) param0 = param0.data\\n        Array.prototype.push.apply(myColl_el, param0.map(hijackEl))\\n        method_setResult.invoke(javaContext, myColl_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let { runCode } = $.require('hiker://page/funcTools?rule=' + QING_TITLE),\\n        [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(Object.assign(genMyRule(), { detail_find_rule: detailFindRule }))),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(genMyRule())),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myColl_el.push(res)\\n    })\\n    setResult(myColl_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"let showAll = $.importParam,\\n    url = getMyVar('remoteUrl'),\\n    data = []\\nif (url.startsWith('hiker://') || url.startsWith('file://')) {\\n    // 如果为本地文件则不进行缓存\\n    try {\\n        let oriData = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            oriData = JSON.parse(oriData).rule\\n        data = JSON.parse(oriData)\\n    } catch (e) {}\\n} else {\\n    // 获取远程数据，检查间隔默认一天\\n    let interval = parseInt(readFile('updateInterval') || '1'),\\n        oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n        remoteData = []\\n    if (interval == 0) interval = -1\\n    try { remoteData = JSON.parse(fetchCache(url, 24 * interval, { timeout: 50000 })) } catch (e) {}\\n    if (!Array.isArray(remoteData)) remoteData = []\\n    if (remoteData.length < 3) {\\n        log('未获取到数据')\\n        if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n        data = JSON.parse(oldData || '[]')\\n    } else {\\n        log('已获取到数据')\\n        data = remoteData\\n    }\\n}\\ndata = data.filter((v) => v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器'))\\nif (readFile('disableCustom')) $.exports = data\\nelse { // 写入自定义数据\\n    let customData = JSON.parse(readFile('customData') || '[]'),\\n        rewriteData = []\\n    customData = customData.reduce((self, v) => {\\n        let index = data.findIndex((vv) => v.title == vv.title)\\n        if (index >= 0) {\\n            self.push(v)\\n            let rule = data.splice(index, 1)[0]\\n            if (showAll || v.visible)\\n                rewriteData.push(Object.assign(rule, v))\\n        }\\n        return self\\n    }, [])\\n    data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n    saveFile('customData', JSON.stringify(customData))\\n    $.exports = rewriteData.concat(data)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"环境劫持\",\"path\":\"hijackEnv\",\"rule\":\"var { RULE, isIndex, pageTitle } = MY_PARAMS\\nRULE = JSON.parse(base64Decode(RULE))\\nvar oriRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE).find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = oriRULE\\n    var { tabHeader, fyAll } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, RULE))\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    RULE.pages = oriRULE.pages\\n    // 处理MY_RULE\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\n// 载入函数工具\\nvar { genMyRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {\\n    QING_TITLE: QING_TITLE,\\n    MY_RULE: MY_RULE,\\n    isIndex: isIndex\\n})\\n// 防止require多次运行\\nconst myColl_required = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param2 = param2 != null ? param2 : 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param3 = param3 != null ? param3 : 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n// 最新章节规则环境劫持\\nsetLastChapterRule = function(param0) {\\n    if (param0.startsWith(\\\"js:\\\")) {\\n        param0 = 'js:' + $.toString((QING_TITLE, MY_PARAMS) => {\\n            eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n            var { runPreRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n            runPreRule(oriRULE.preRule)\\n        }, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex }) + ';' + param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0)\\n}\\n// 动态新增函数劫持\\naddItemAfter = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemAfter.invoke(javaContext, param0, param1)\\n}\\naddItemBefore = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemBefore.invoke(javaContext, param0, param1)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数工具\",\"path\":\"funcTools\",\"rule\":\"let { QING_TITLE, MY_RULE, isIndex } = $.importParam\\nif (!MY_RULE) MY_RULE = {}\\n\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\n// 首页链接替换分类\\nfunction indexUrl(param) {\\n    MY_RULE = JSON.parse(base64Decode(MY_RULE))\\n    let pageNum = parseInt(param.split('###')[1]),\\n        url = MY_RULE.url,\\n        { fyAll, tabHeader } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, MY_RULE))\\n\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\n\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\\n// 预处理并初始化config\\nfunction runPreRule(rule) {\\n    if ((MY_PAGE == 1 || typeof MY_PAGE == 'undefined') &&\\n        (isIndex || !getMyVar('$preRule_' + MY_RULE.title))) {\\n        eval(rule)\\n        putMyVar('$preRule_' + MY_RULE.title, 'T')\\n    }\\n    let _cfg = getMyVar('initConfig', '{}')\\n    if (_cfg && _cfg.length > 0) {\\n        config = JSON.parse(_cfg)\\n    }\\n}\\n// 正文解析通用变量\\nfunction genMyRule() {\\n    let RULE = Object.assign({}, MY_RULE)\\n    delete RULE.last_chapter_rule\\n    delete RULE.preRule\\n    delete RULE.pageList\\n    delete RULE.pages\\n    return RULE\\n}\\n\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, MY_RULE.ua, MY_RULE.url)\\n}\\n\\nhijackLazyRule = $.toString((QING_TITLE, MY_PARAMS) => {\\n    if (!MY_RULE) MY_RULE = {}\\n    eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n    var {\\n        paramHandle,\\n        genExUrl,\\n        hijackLazyRule,\\n        hijackEl\\n    } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n}, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex })\\n\\nfunction hijackEl(el) {\\n    if(!el || typeof el != 'object') return\\n    if (!el.extra) el.extra = {}\\n    el.col_type = el.col_type || MY_RULE.col_type\\n    let NOW_RULE = Object.assign(genMyRule(), { params: el.extra })\\n\\n    if (typeof el.url != 'string' ||\\n        ['x5_webview_single', 'input'].find((v) => el.col_type == v) ||\\n        ['海阔视界', 'javascript:'].find((v) => el.url.startsWith(v)) ||\\n        ['rule', 'pics', 'toast', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'x5Rule', 'webRule',\\n            'download', 'share', 'fileSelect', 'video'].find((v) => el.url.startsWith(v + '://'))) {\\n        return el\\n    } else if (el.url.startsWith('input://')) {\\n        let para = JSON.parse(el.url.slice(8))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'input://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.startsWith('confirm://')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (el.url.startsWith('select://')) {\\n        let para = JSON.parse(el.url.slice(9))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'select://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.includes('@rule=')) {\\n        let [_, url, rule] = el.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n        el.url = url\\n        NOW_RULE.detail_find_rule = rule\\n        NOW_RULE.detail_col_type = MY_RULE.col_type\\n    } else if (el.url.startsWith('hiker://page/')) {\\n        if (el.url.includes('rule=') || el.extra.rule)\\n            return el\\n        let [_, path, flag, params] = el.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n            subPage = MY_RULE.pageList.find((v) => v.path == path),\\n            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n        el.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (el.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n        NOW_RULE.detail_find_rule = subPage.rule\\n        NOW_RULE.detail_col_type = subPage.col_type\\n    } else if (el.url.includes('@lazyRule=')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (isIndex) {\\n        if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(el.url)) return el\\n    } else {\\n        return el\\n    }\\n    el.extra = Object.assign({}, el.extra, {\\n        url: genExUrl(el.url),\\n        RULE: base64Encode(JSON.stringify(NOW_RULE)),\\n        pageTitle: isIndex && el.title\\n    })\\n    el.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n    return el\\n}\\n$.exports = {\\n    runCode: runCode,\\n    indexUrl: indexUrl,\\n    paramHandle: paramHandle,\\n    runPreRule: runPreRule,\\n    genMyRule: genMyRule,\\n    genExUrl: genExUrl,\\n    hijackLazyRule: hijackLazyRule,\\n    hijackEl: hijackEl\\n}\\n\"}]","proxy":"","icon":"https://s1.328888.xyz/2022/07/29/FL3Bm.jpg"},{"last_chapter_rule":"","title":"轻合集.水淼","author":"轻合集生成器","version":105,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', 'find:'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '搜你想要的...',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n                if (typeShow.startsWith('find:')) {\n                    let filterKey = typeShow.slice(5)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow.startsWith('find:')) {\n    let filterKey = typeShow.slice(5)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow.startsWith('find:') ? {\n    title: '““””' + ('全部' + (typeShow[5] ? '[' + typeShow.slice(5) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', 'find:' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', 'find:')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nif (!typeShow.startsWith('find:')) rules = rulesType[typeShow]\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^(https?:\\/\\/.+?)(?:#|\\?|\\/|$)/i.exec(ruleTmp.url) || [, 'hiker://empty'])[1],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + JSON.stringify({\n                    RULE: base64Encode(JSON.stringify(ruleTmp)),\n                    pageNum: fypage,\n                    QING_TITLE: getMyVar('myCollection')\n                }) + '.js:eval(JSON.parse(fetch(\"hiker://page/urlParse？？rule=' + QING_TITLE + '\")).rule)；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: { title: v.title },\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', 'find:')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n            if (typeShow.startsWith('find:')) {\n                let filterKey = typeShow.slice(5)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=384625466')\n// \n/*\n*/","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"const ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nconst fyAll = RULE.url.includes('fyAll')\\nlet tabHeader = []\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title, fold: readFile('tabFold'), })\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if(Number.isNaN(input)) input = 1\\n        else if(input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if(url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if(rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据'], 1).select(() => {\\n        if (input == '清除自定义数据') {\\n            deleteFile('customData')\\n        } else if (input == '启用合集自定义') {\\n            saveFile('disableCustom', '')\\n        } else {\\n            saveFile('disableCustom', '1')\\n            input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif(editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i)=>{\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'))(true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nlet myCollection_el = [],\\n    { RULE, isIndex, pageTitle } = MY_PARAMS,\\n    thisRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)().find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = thisRULE\\n} else {\\n    RULE.pages = thisRULE.pages\\n}\\neval(JSON.parse(fetch('hiker://page/preFunc?rule=' + QING_TITLE)).rule)\\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\\n\\nif (isIndex) {\\n    // 加载ClassTab组件\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    if (MY_PAGE == 1) {\\n        tabHeader.load(myCollection_el)\\n        if (RULE.search_url) myCollection_el.push({\\n            title: \\\"搜索\\\",\\n            desc: \\\"搜你想要的...\\\",\\n            url: '\\\"hiker://search?s=\\\"+input',\\n            extra: {\\n                rules: $.toString((QING_TITLE, title) => {\\n                    let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\\n                    rules = [rules.find((v) => v.title == title)]\\n                    return JSON.stringify(rules)\\n                }, QING_TITLE, RULE.title),\\n                defaultValue: getMyVar('searchKey', ''),\\n                onChange: \\\"putMyVar('searchKey',input)\\\"\\n            },\\n            col_type: \\\"input\\\",\\n        })\\n    }\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(thisRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n}\\n// 预处理并初始化config\\nif (MY_PAGE == 1) {\\n    let loaded = getMyVar(MY_RULE.title + \\\"@pre\\\")\\n    if (!loaded || isIndex) {\\n        eval(thisRULE.preRule)\\n        putMyVar(MY_RULE.title + \\\"@pre\\\", \\\"1\\\")\\n    }\\n}\\nlet _cfg = getMyVar('initConfig', '{}')\\nif (_cfg && _cfg.length > 0) {\\n    config = JSON.parse(_cfg)\\n}\\n\\n// 正文解析通用变量\\nlet assignLazyRule = $.toString((QING_TITLE, title, url) => {\\n    let RULE = $.require(\\\"hiker://page/dataLoad?rule=\\\" + QING_TITLE)().find((v) => v.title == title)\\n    return { title:title, url: url, pages: RULE.pages, pageList: JSON.parse(RULE.pages || '[]') }\\n}, QING_TITLE, MY_RULE.title, MY_RULE.url)\\nfunction genMyRule() {\\n    let rule = Object.assign({}, MY_RULE)\\n    delete rule.last_chapter_rule\\n    delete rule.preRule\\n    delete rule.pageList\\n    delete rule.pages\\n    return rule\\n}\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, thisRULE.ua, MY_RULE.url)\\n}\\n// 正文解析\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    setResult = function(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            if(!v.extra) v.extra = {}\\n            v.col_type = v.col_type || MY_RULE.col_type\\n            let MY__RULE = Object.assign(genMyRule(), { params: v.extra })\\n\\n            if (typeof v.url != 'string' || ['rule', 'pics', 'toast', 'input', 'confirm', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule', 'download', 'share'].find((vv) => v.url.startsWith(vv + '://')) || ['x5_webview_single', 'input'].find((vv) => v.col_type == vv)) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || v.extra.rule)\\n                    return v\\n                let [_, path, flag, params] = v.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n            } else if (v.url.includes('@lazyRule=')) {\\n                let reIndex = v.url.indexOf('.js:')\\n                if (reIndex >= 0) v.url = v.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + v.url.slice(reIndex + 4)\\n                return v\\n            } else if (isIndex) {\\n                if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(v.url)) return v\\n            } else {\\n                return v\\n            }\\n            v.extra = Object.assign({}, v.extra, {\\n                url: genExUrl(v.url),\\n                RULE: MY__RULE,\\n                pageTitle: isIndex && v.title\\n            })\\n            v.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: Object.assign(genMyRule(), { detail_find_rule: detailFindRule }),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: genMyRule(),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"$.exports = function(showAll) {\\n    let url = getMyVar('remoteUrl'),\\n        data = []\\n    if (url.startsWith('hiker://') || url.startsWith('file://')) {\\n        // 如果为本地文件则不进行缓存\\n        try {\\n            let oriData = fetch(url)\\n            if (url.startsWith('hiker://page/'))\\n                oriData = JSON.parse(oriData).rule\\n            data = JSON.parse(oriData)\\n        } catch (e) {}\\n    } else {\\n        // 获取远程数据，检查间隔默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n            remoteData = []\\n        if(interval == 0) interval = -1\\n        try { remoteData = JSON.parse(fetchCache(url, 24 * interval, {timeout:50000})) } catch(e) {}\\n        if(!Array.isArray(remoteData)) remoteData = []\\n        if (remoteData.length < 3) {\\n            log('未获取到数据')\\n            if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n            data = JSON.parse(oldData || '[]')\\n        } else {\\n            log('已获取到数据')\\n            data = remoteData\\n        }\\n    }\\n    data = data.filter((v) => { return v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器') })\\n    if (readFile('disableCustom')) return data\\n    else { // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if (showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    }\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数重写\",\"path\":\"preFunc\",\"rule\":\"// 防止require多次运行\\nlet rCache = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param2 = param2 || 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param3 = param3 || 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n\\n// 最新章节规则注入预处理代码\\nsetLastChapterRule = function(param0) {\\n    if (!param0) return\\n    if (param0.startsWith(\\\"js:\\\") && thisRULE.preRule) {\\n        param0 = 'js:\\\\ntry{eval(JSON.parse(fetch(\\\"hiker://page/preFunc?rule=' + QING_TITLE + '\\\")).rule);\\\\\\n            eval(base64Decode(\\\"' + base64Encode(thisRULE.preRule) + '\\\"));\\\\\\n            let _cfg = getMyVar(\\\"initConfig\\\", \\\"{}\\\");\\\\\\n            if (_cfg && _cfg.length>0) {config = JSON.parse(_cfg)}}catch(e){log(e.message)}\\\\n;' +\\n            param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0);\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"链接处理\",\"path\":\"urlParse\",\"rule\":\"// 首页链接替换分类\\nfunction indexUrl(param) {\\n    function runCode(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    }\\n    let { RULE, pageNum, QING_TITLE } = JSON.parse(param.split('###')[1])\\n    RULE = JSON.parse(base64Decode(RULE))\\n    pageNum = parseInt(pageNum)\\n    let url = RULE.url\\n\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\"}]","proxy":"","icon":"http://q1.qlogo.cn/g?b=qq&nk=36835891&s=640"},{"last_chapter_rule":"","title":"轻合集.爱是用心","author":"轻合集生成器","version":105,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', 'find:'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '搜你想要的...',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n                if (typeShow.startsWith('find:')) {\n                    let filterKey = typeShow.slice(5)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow.startsWith('find:')) {\n    let filterKey = typeShow.slice(5)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow.startsWith('find:') ? {\n    title: '““””' + ('全部' + (typeShow[5] ? '[' + typeShow.slice(5) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', 'find:' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', 'find:')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nif (!typeShow.startsWith('find:')) rules = rulesType[typeShow]\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^(https?:\\/\\/.+?)(?:#|\\?|\\/|$)/i.exec(ruleTmp.url) || [, 'hiker://empty'])[1],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + JSON.stringify({\n                    RULE: base64Encode(JSON.stringify(ruleTmp)),\n                    pageNum: fypage,\n                    QING_TITLE: getMyVar('myCollection')\n                }) + '.js:eval(JSON.parse(fetch(\"hiker://page/urlParse？？rule=' + QING_TITLE + '\")).rule)；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: { title: v.title },\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', 'find:')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n            if (typeShow.startsWith('find:')) {\n                let filterKey = typeShow.slice(5)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=1302407216')\n// \n/*\n*/","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"const ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nconst fyAll = RULE.url.includes('fyAll')\\nlet tabHeader = []\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title, fold: readFile('tabFold'), })\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if(Number.isNaN(input)) input = 1\\n        else if(input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if(url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if(rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据'], 1).select(() => {\\n        if (input == '清除自定义数据') {\\n            deleteFile('customData')\\n        } else if (input == '启用合集自定义') {\\n            saveFile('disableCustom', '')\\n        } else {\\n            saveFile('disableCustom', '1')\\n            input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif(editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i)=>{\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'))(true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nlet myCollection_el = [],\\n    { RULE, isIndex, pageTitle } = MY_PARAMS,\\n    thisRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)().find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = thisRULE\\n} else {\\n    RULE.pages = thisRULE.pages\\n}\\neval(JSON.parse(fetch('hiker://page/preFunc?rule=' + QING_TITLE)).rule)\\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\\n\\nif (isIndex) {\\n    // 加载ClassTab组件\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    if (MY_PAGE == 1) {\\n        tabHeader.load(myCollection_el)\\n        if (RULE.search_url) myCollection_el.push({\\n            title: \\\"搜索\\\",\\n            desc: \\\"搜你想要的...\\\",\\n            url: '\\\"hiker://search?s=\\\"+input',\\n            extra: {\\n                rules: $.toString((QING_TITLE, title) => {\\n                    let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\\n                    rules = [rules.find((v) => v.title == title)]\\n                    return JSON.stringify(rules)\\n                }, QING_TITLE, RULE.title),\\n                defaultValue: getMyVar('searchKey', ''),\\n                onChange: \\\"putMyVar('searchKey',input)\\\"\\n            },\\n            col_type: \\\"input\\\",\\n        })\\n    }\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(thisRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n}\\n// 预处理并初始化config\\nif (MY_PAGE == 1) {\\n    let loaded = getMyVar(MY_RULE.title + \\\"@pre\\\")\\n    if (!loaded || isIndex) {\\n        eval(thisRULE.preRule)\\n        putMyVar(MY_RULE.title + \\\"@pre\\\", \\\"1\\\")\\n    }\\n}\\nlet _cfg = getMyVar('initConfig', '{}')\\nif (_cfg && _cfg.length > 0) {\\n    config = JSON.parse(_cfg)\\n}\\n\\n// 正文解析通用变量\\nlet assignLazyRule = $.toString((QING_TITLE, title, url) => {\\n    let RULE = $.require(\\\"hiker://page/dataLoad?rule=\\\" + QING_TITLE)().find((v) => v.title == title)\\n    return { title:title, url: url, pages: RULE.pages, pageList: JSON.parse(RULE.pages || '[]') }\\n}, QING_TITLE, MY_RULE.title, MY_RULE.url)\\nfunction genMyRule() {\\n    let rule = Object.assign({}, MY_RULE)\\n    delete rule.last_chapter_rule\\n    delete rule.preRule\\n    delete rule.pageList\\n    delete rule.pages\\n    return rule\\n}\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, thisRULE.ua, MY_RULE.url)\\n}\\n// 正文解析\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    setResult = function(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            if(!v.extra) v.extra = {}\\n            v.col_type = v.col_type || MY_RULE.col_type\\n            let MY__RULE = Object.assign(genMyRule(), { params: v.extra })\\n\\n            if (typeof v.url != 'string' || ['rule', 'pics', 'toast', 'input', 'confirm', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule', 'download', 'share'].find((vv) => v.url.startsWith(vv + '://')) || ['x5_webview_single', 'input'].find((vv) => v.col_type == vv)) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || v.extra.rule)\\n                    return v\\n                let [_, path, flag, params] = v.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n            } else if (v.url.includes('@lazyRule=')) {\\n                let reIndex = v.url.indexOf('.js:')\\n                if (reIndex >= 0) v.url = v.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + v.url.slice(reIndex + 4)\\n                return v\\n            } else if (isIndex) {\\n                if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(v.url)) return v\\n            } else {\\n                return v\\n            }\\n            v.extra = Object.assign({}, v.extra, {\\n                url: genExUrl(v.url),\\n                RULE: MY__RULE,\\n                pageTitle: isIndex && v.title\\n            })\\n            v.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: Object.assign(genMyRule(), { detail_find_rule: detailFindRule }),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: genMyRule(),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"$.exports = function(showAll) {\\n    let url = getMyVar('remoteUrl'),\\n        data = []\\n    if (url.startsWith('hiker://') || url.startsWith('file://')) {\\n        // 如果为本地文件则不进行缓存\\n        try {\\n            let oriData = fetch(url)\\n            if (url.startsWith('hiker://page/'))\\n                oriData = JSON.parse(oriData).rule\\n            data = JSON.parse(oriData)\\n        } catch (e) {}\\n    } else {\\n        // 获取远程数据，检查间隔默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n            remoteData = []\\n        if(interval == 0) interval = -1\\n        try { remoteData = JSON.parse(fetchCache(url, 24 * interval, {timeout:50000})) } catch(e) {}\\n        if(!Array.isArray(remoteData)) remoteData = []\\n        if (remoteData.length < 3) {\\n            log('未获取到数据')\\n            if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n            data = JSON.parse(oldData || '[]')\\n        } else {\\n            log('已获取到数据')\\n            data = remoteData\\n        }\\n    }\\n    data = data.filter((v) => { return v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器') })\\n    if (readFile('disableCustom')) return data\\n    else { // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if (showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    }\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数重写\",\"path\":\"preFunc\",\"rule\":\"// 防止require多次运行\\nlet rCache = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param2 = param2 || 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param3 = param3 || 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n\\n// 最新章节规则注入预处理代码\\nsetLastChapterRule = function(param0) {\\n    if (!param0) return\\n    if (param0.startsWith(\\\"js:\\\") && thisRULE.preRule) {\\n        param0 = 'js:\\\\ntry{eval(JSON.parse(fetch(\\\"hiker://page/preFunc?rule=' + QING_TITLE + '\\\")).rule);\\\\\\n            eval(base64Decode(\\\"' + base64Encode(thisRULE.preRule) + '\\\"));\\\\\\n            let _cfg = getMyVar(\\\"initConfig\\\", \\\"{}\\\");\\\\\\n            if (_cfg && _cfg.length>0) {config = JSON.parse(_cfg)}}catch(e){log(e.message)}\\\\n;' +\\n            param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0);\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"链接处理\",\"path\":\"urlParse\",\"rule\":\"// 首页链接替换分类\\nfunction indexUrl(param) {\\n    function runCode(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    }\\n    let { RULE, pageNum, QING_TITLE } = JSON.parse(param.split('###')[1])\\n    RULE = JSON.parse(base64Decode(RULE))\\n    pageNum = parseInt(pageNum)\\n    let url = RULE.url\\n\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\"}]","proxy":"","icon":"http://q1.qlogo.cn/g?b=qq&nk=1302407216&s=640"},{"last_chapter_rule":"","title":"用心资源网","author":"轻合集生成器","version":105,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', 'find:'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '搜你想要的...',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n                if (typeShow.startsWith('find:')) {\n                    let filterKey = typeShow.slice(5)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow.startsWith('find:')) {\n    let filterKey = typeShow.slice(5)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow.startsWith('find:') ? {\n    title: '““””' + ('全部' + (typeShow[5] ? '[' + typeShow.slice(5) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', 'find:' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', 'find:')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nif (!typeShow.startsWith('find:')) rules = rulesType[typeShow]\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^(https?:\\/\\/.+?)(?:#|\\?|\\/|$)/i.exec(ruleTmp.url) || [, 'hiker://empty'])[1],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + JSON.stringify({\n                    RULE: base64Encode(JSON.stringify(ruleTmp)),\n                    pageNum: fypage,\n                    QING_TITLE: getMyVar('myCollection')\n                }) + '.js:eval(JSON.parse(fetch(\"hiker://page/urlParse？？rule=' + QING_TITLE + '\")).rule)；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: { title: v.title },\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', 'find:')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\n            if (typeShow.startsWith('find:')) {\n                let filterKey = typeShow.slice(5)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'http://hiker.nokia.press/hikerule/rulelist.json?id=4306');\n//putMyVar('remoteUrl', 'https://raw.codehub.cn/p/tv/d/TV/git/raw/master/yxzywc.json?token=WwrYIGv9yRVUke5xIQGiSVB0zMlHg1pR8u8ADSuxsO');\n// \n/*\n*/","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"const ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nconst fyAll = RULE.url.includes('fyAll')\\nlet tabHeader = []\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title, fold: readFile('tabFold'), })\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)(true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if(Number.isNaN(input)) input = 1\\n        else if(input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if(url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if(rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据'], 1).select(() => {\\n        if (input == '清除自定义数据') {\\n            deleteFile('customData')\\n        } else if (input == '启用合集自定义') {\\n            saveFile('disableCustom', '')\\n        } else {\\n            saveFile('disableCustom', '1')\\n            input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif(editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i)=>{\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'))(true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nlet myCollection_el = [],\\n    { RULE, isIndex, pageTitle } = MY_PARAMS,\\n    thisRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)().find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = thisRULE\\n} else {\\n    RULE.pages = thisRULE.pages\\n}\\neval(JSON.parse(fetch('hiker://page/preFunc?rule=' + QING_TITLE)).rule)\\neval(JSON.parse(fetch('hiker://page/urlParse?rule=' + QING_TITLE)).rule)\\n\\nif (isIndex) {\\n    // 加载ClassTab组件\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    if (MY_PAGE == 1) {\\n        tabHeader.load(myCollection_el)\\n        if (RULE.search_url) myCollection_el.push({\\n            title: \\\"搜索\\\",\\n            desc: \\\"搜你想要的...\\\",\\n            url: '\\\"hiker://search?s=\\\"+input',\\n            extra: {\\n                rules: $.toString((QING_TITLE, title) => {\\n                    let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)()\\n                    rules = [rules.find((v) => v.title == title)]\\n                    return JSON.stringify(rules)\\n                }, QING_TITLE, RULE.title),\\n                defaultValue: getMyVar('searchKey', ''),\\n                onChange: \\\"putMyVar('searchKey',input)\\\"\\n            },\\n            col_type: \\\"input\\\",\\n        })\\n    }\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(thisRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n}\\n// 预处理并初始化config\\nif (MY_PAGE == 1) {\\n    let loaded = getMyVar(MY_RULE.title + \\\"@pre\\\")\\n    if (!loaded || isIndex) {\\n        eval(thisRULE.preRule)\\n        putMyVar(MY_RULE.title + \\\"@pre\\\", \\\"1\\\")\\n    }\\n}\\nlet _cfg = getMyVar('initConfig', '{}')\\nif (_cfg && _cfg.length > 0) {\\n    config = JSON.parse(_cfg)\\n}\\n\\n// 正文解析通用变量\\nlet assignLazyRule = $.toString((QING_TITLE, title, url) => {\\n    let RULE = $.require(\\\"hiker://page/dataLoad?rule=\\\" + QING_TITLE)().find((v) => v.title == title)\\n    return { title:title, url: url, pages: RULE.pages, pageList: JSON.parse(RULE.pages || '[]') }\\n}, QING_TITLE, MY_RULE.title, MY_RULE.url)\\nfunction genMyRule() {\\n    let rule = Object.assign({}, MY_RULE)\\n    delete rule.last_chapter_rule\\n    delete rule.preRule\\n    delete rule.pageList\\n    delete rule.pages\\n    return rule\\n}\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, thisRULE.ua, MY_RULE.url)\\n}\\n// 正文解析\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    setResult = function(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            if(!v.extra) v.extra = {}\\n            v.col_type = v.col_type || MY_RULE.col_type\\n            let MY__RULE = Object.assign(genMyRule(), { params: v.extra })\\n\\n            if (typeof v.url != 'string' || ['rule', 'pics', 'toast', 'input', 'confirm', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule', 'download', 'share'].find((vv) => v.url.startsWith(vv + '://')) || ['x5_webview_single', 'input'].find((vv) => v.col_type == vv)) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || v.extra.rule)\\n                    return v\\n                let [_, path, flag, params] = v.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n            } else if (v.url.includes('@lazyRule=')) {\\n                let reIndex = v.url.indexOf('.js:')\\n                if (reIndex >= 0) v.url = v.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + v.url.slice(reIndex + 4)\\n                return v\\n            } else if (isIndex) {\\n                if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(v.url)) return v\\n            } else {\\n                return v\\n            }\\n            v.extra = Object.assign({}, v.extra, {\\n                url: genExUrl(v.url),\\n                RULE: MY__RULE,\\n                pageTitle: isIndex && v.title\\n            })\\n            v.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE, ' + assignLazyRule + ');' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: Object.assign(genMyRule(), { detail_find_rule: detailFindRule }),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: genMyRule(),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"$.exports = function(showAll) {\\n    let url = getMyVar('remoteUrl'),\\n        data = []\\n    if (url.startsWith('hiker://') || url.startsWith('file://')) {\\n        // 如果为本地文件则不进行缓存\\n        try {\\n            let oriData = fetch(url)\\n            if (url.startsWith('hiker://page/'))\\n                oriData = JSON.parse(oriData).rule\\n            data = JSON.parse(oriData)\\n        } catch (e) {}\\n    } else {\\n        // 获取远程数据，检查间隔默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n            remoteData = []\\n        if(interval == 0) interval = -1\\n        try { remoteData = JSON.parse(fetchCache(url, 24 * interval, {timeout:50000})) } catch(e) {}\\n        if(!Array.isArray(remoteData)) remoteData = []\\n        if (remoteData.length < 3) {\\n            log('未获取到数据')\\n            if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n            data = JSON.parse(oldData || '[]')\\n        } else {\\n            log('已获取到数据')\\n            data = remoteData\\n        }\\n    }\\n    data = data.filter((v) => { return v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器') })\\n    if (readFile('disableCustom')) return data\\n    else { // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if (showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    }\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数重写\",\"path\":\"preFunc\",\"rule\":\"// 防止require多次运行\\nlet rCache = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param2 = param2 || 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (!param0 || rCache[param0] != null) {\\n        return\\n    }\\n    rCache[param0] = 1\\n    param3 = param3 || 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n\\n// 最新章节规则注入预处理代码\\nsetLastChapterRule = function(param0) {\\n    if (!param0) return\\n    if (param0.startsWith(\\\"js:\\\") && thisRULE.preRule) {\\n        param0 = 'js:\\\\ntry{eval(JSON.parse(fetch(\\\"hiker://page/preFunc?rule=' + QING_TITLE + '\\\")).rule);\\\\\\n            eval(base64Decode(\\\"' + base64Encode(thisRULE.preRule) + '\\\"));\\\\\\n            let _cfg = getMyVar(\\\"initConfig\\\", \\\"{}\\\");\\\\\\n            if (_cfg && _cfg.length>0) {config = JSON.parse(_cfg)}}catch(e){log(e.message)}\\\\n;' +\\n            param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0);\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"链接处理\",\"path\":\"urlParse\",\"rule\":\"// 首页链接替换分类\\nfunction indexUrl(param) {\\n    function runCode(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    }\\n    let { RULE, pageNum, QING_TITLE } = JSON.parse(param.split('###')[1])\\n    RULE = JSON.parse(base64Decode(RULE))\\n    pageNum = parseInt(pageNum)\\n    let url = RULE.url\\n\\n    eval(JSON.parse(fetch('hiker://page/ClassTab?rule=' + QING_TITLE)).rule)\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\"}]","proxy":"","icon":"http://q1.qlogo.cn/g?b=qq&nk=1302407216&s=640"},{"last_chapter_rule":"","title":"Q","author":"发粪涂墙","version":107,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', '@'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '这是轻合集的搜索哦~~',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n                if (typeShow[0] == '@') {\n                    let filterKey = typeShow.slice(1)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow[0] == '@') {\n    let filterKey = typeShow.slice(1)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow[0] == '@' ? {\n    title: '““””' + ('全部' + (typeShow[1] ? '[' + typeShow.slice(1) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', '@' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', '@')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nif (typeShow[0] != '@') rules = rulesType[typeShow]\nlet { paramHandle } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {})\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^https?:\\/\\/[^/?#]+/i.exec(ruleTmp.url) || ['hiker://empty'])[0],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + fypage +\n                    '.js:let { runCode, indexUrl } = $.require(\"hiker://page/funcTools？？rule=' + QING_TITLE + '\", '\n                     + JSON.stringify({\n                        MY_RULE: base64Encode(JSON.stringify(ruleTmp)),\n                        QING_TITLE: QING_TITLE\n                    }) + ')；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: base64Encode(JSON.stringify({ title: v.title })),\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', '@')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n            if (typeShow[0] == '@') {\n                let filterKey = typeShow.slice(1)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'http://hiker.nokia.press/hikerule/rulelist.json?id=5009')\nif (request('hiker://home@模板·Q') == 'null') {\r\n    confirm({\r\n        title: '依赖检测',\r\n        content: '检测到缺少模板依赖,请导入!',\r\n        confirm: () => {\r\n            return \"海阔视界首页频道规则【模板·Q】￥home_rule_url￥http://hiker.nokia.press/hikerule/rulelist.json?id=3055\"\r\n        }\r\n    })\r\n}\n// \n/*\n*/","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"var {\\n    QING_TITLE, title, url,\\n    class_name, class_url,\\n    area_name, area_url,\\n    year_name, year_url,\\n    sort_name, sort_url\\n} = $.importParam\\nconst ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('$fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('$fold_' + sign, folded ? '' : 'T')\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nlet fyAll = url.includes('fyAll'),\\n    tabHeader = []\\nif (class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: class_name,\\n    class_url: class_url\\n})\\nif (area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: area_name,\\n    class_url: area_url\\n})\\nif (year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: year_name,\\n    class_url: year_url\\n})\\nif (sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: sort_name,\\n    class_url: sort_url\\n})\\n$.exports = {\\n    fyAll: fyAll,\\n    tabHeader: new ClassTab(tabHeader, { name: title, fold: readFile('tabFold'), })\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE, true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if (Number.isNaN(input)) input = 1\\n        else if (input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if (url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if (rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据', '编辑JSON'], 1).select(() => {\\n        switch (input.slice(0, 2)) {\\n            case '清除':\\n                deleteFile('customData')\\n                break\\n            case '启用':\\n                saveFile('disableCustom', '')\\n                break\\n            case '禁用':\\n                saveFile('disableCustom', 'T')\\n                input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n                break\\n            case '编辑':\\n                let url = getMyVar('remoteUrl')\\n                if (!url.startsWith('hiker://files/') && !url.startsWith('file://'))\\n                    url = 'hiker://files/libs/' + md5(url) + '.js'\\n                return  'hiker://page/interface#noRefresh##noHistory##noRecordHistory#?rule=JSON编辑器&Json='+base64Encode(url)\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif (editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'), true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nvar myColl_el = []\\neval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(oriRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n} else if (MY_PAGE == 1) {\\n    tabHeader.load(myColl_el)\\n    if (RULE.search_url) myColl_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"这是轻合集的搜索哦~~\\\",\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        extra: {\\n            rules: $.toString((QING_TITLE, title) => {\\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\\n                rules = [rules.find((v) => v.title == title)]\\n                return JSON.stringify(rules)\\n            }, QING_TITLE, RULE.title),\\n            defaultValue: getMyVar('searchKey', ''),\\n            onChange: \\\"putMyVar('searchKey',input)\\\"\\n        },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 正文解析\\nvar {\\n    paramHandle,\\n    runPreRule,\\n    genExUrl,\\n    hijackLazyRule\\n} = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\nrunPreRule(oriRULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    let { hijackEl } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n    setResult = function(param0, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(param0.data)) param0 = param0.data\\n        Array.prototype.push.apply(myColl_el, param0.map(hijackEl))\\n        method_setResult.invoke(javaContext, myColl_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let { runCode } = $.require('hiker://page/funcTools?rule=' + QING_TITLE),\\n        [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(Object.assign(genMyRule(), { detail_find_rule: detailFindRule }))),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(genMyRule())),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myColl_el.push(res)\\n    })\\n    setResult(myColl_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"let showAll = $.importParam,\\n    url = getMyVar('remoteUrl'),\\n    data = []\\nif (url.startsWith('hiker://') || url.startsWith('file://')) {\\n    // 如果为本地文件则不进行缓存\\n    try {\\n        let oriData = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            oriData = JSON.parse(oriData).rule\\n        data = JSON.parse(oriData)\\n    } catch (e) {}\\n} else {\\n    // 获取远程数据，检查间隔默认一天\\n    let interval = parseInt(readFile('updateInterval') || '1'),\\n        oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n        remoteData = []\\n    if (interval == 0) interval = -1\\n    try { remoteData = JSON.parse(fetchCache(url, 24 * interval, { timeout: 50000 })) } catch (e) {}\\n    if (!Array.isArray(remoteData)) remoteData = []\\n    if (remoteData.length < 3) {\\n        log('未获取到数据')\\n        if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n        data = JSON.parse(oldData || '[]')\\n    } else {\\n        log('已获取到数据')\\n        data = remoteData\\n    }\\n}\\ndata = data.filter((v) => v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器'))\\nif (readFile('disableCustom')) $.exports = data\\nelse { // 写入自定义数据\\n    let customData = JSON.parse(readFile('customData') || '[]'),\\n        rewriteData = []\\n    customData = customData.reduce((self, v) => {\\n        let index = data.findIndex((vv) => v.title == vv.title)\\n        if (index >= 0) {\\n            self.push(v)\\n            let rule = data.splice(index, 1)[0]\\n            if (showAll || v.visible)\\n                rewriteData.push(Object.assign(rule, v))\\n        }\\n        return self\\n    }, [])\\n    data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n    saveFile('customData', JSON.stringify(customData))\\n    $.exports = rewriteData.concat(data)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"环境劫持\",\"path\":\"hijackEnv\",\"rule\":\"var { RULE, isIndex, pageTitle } = MY_PARAMS\\nRULE = JSON.parse(base64Decode(RULE))\\nvar oriRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE).find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = oriRULE\\n    var { tabHeader, fyAll } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, RULE))\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    RULE.pages = oriRULE.pages\\n    // 处理MY_RULE\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\nlog(MY_RULE.url)\\n// 载入函数工具\\nvar { genMyRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {\\n    QING_TITLE: QING_TITLE,\\n    MY_RULE: MY_RULE,\\n    isIndex: isIndex\\n})\\n// 防止require多次运行\\nconst myColl_required = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param2 = param2 != null ? param2 : 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param3 = param3 != null ? param3 : 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n// 最新章节规则环境劫持\\nsetLastChapterRule = function(param0) {\\n    if (param0.startsWith(\\\"js:\\\")) {\\n        param0 = 'js:' + $.toString((QING_TITLE, MY_PARAMS) => {\\n            eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n            var { runPreRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n            runPreRule(oriRULE.preRule)\\n        }, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex }) + ';' + param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0)\\n}\\n// 动态新增函数劫持\\naddItemAfter = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemAfter.invoke(javaContext, param0, param1)\\n}\\naddItemBefore = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemBefore.invoke(javaContext, param0, param1)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数工具\",\"path\":\"funcTools\",\"rule\":\"let { QING_TITLE, MY_RULE, isIndex } = $.importParam\\nif (!MY_RULE) MY_RULE = {}\\n\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\n// 首页链接替换分类\\nfunction indexUrl(param) {\\n    MY_RULE = JSON.parse(base64Decode(MY_RULE))\\n    let pageNum = parseInt(param.split('###')[1]),\\n        url = MY_RULE.url,\\n        { fyAll, tabHeader } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, MY_RULE))\\n\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\n\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\\n// 预处理并初始化config\\nfunction runPreRule(rule) {\\n    if ((typeof MY_PAGE != 'undefined' &&  MY_PAGE == 1) &&\\n         (isIndex || !getMyVar('$preRule_' + MY_RULE.title))) {\\n        eval(rule)\\n        putMyVar('$preRule_' + MY_RULE.title, 'T')\\n    }\\n    let _cfg = getMyVar('initConfig', '{}')\\n    if (_cfg && _cfg.length > 0) {\\n        config = JSON.parse(_cfg)\\n    }\\n}\\n// 正文解析通用变量\\nfunction genMyRule() {\\n    let RULE = Object.assign({}, MY_RULE)\\n    delete RULE.last_chapter_rule\\n    delete RULE.preRule\\n    delete RULE.pageList\\n    delete RULE.pages\\n    return RULE\\n}\\n\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, MY_RULE.ua, MY_RULE.url)\\n}\\n\\nhijackLazyRule = $.toString((QING_TITLE, MY_PARAMS) => {\\n    if (!MY_RULE) MY_RULE = {}\\n    MY_PARAMS = JSON.parse(base64Decode(MY_PARAMS))\\n    eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n    var {\\n        paramHandle,\\n        genExUrl,\\n        hijackLazyRule,\\n        hijackEl\\n    } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n}, QING_TITLE, base64Encode(JSON.stringify({ url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex })))\\n\\nfunction hijackEl(el) {\\n    if(!el || typeof el != 'object') return\\n    if (!el.extra) el.extra = {}\\n    el.col_type = el.col_type || MY_RULE.col_type\\n    let NOW_RULE = Object.assign(genMyRule(), { params: el.extra })\\n\\n    if (typeof el.url != 'string' ||\\n        ['x5_webview_single', 'input'].some((v) => el.col_type == v) ||\\n        ['海阔视界', 'javascript:'].some((v) => el.url.startsWith(v)) ||\\n        ['rule', 'pics', 'toast', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'x5Rule', 'webRule',\\n            'download', 'share', 'fileSelect', 'video'].some((v) => el.url.startsWith(v + '://'))) {\\n        return el\\n    } else if (el.url.startsWith('input://')) {\\n        let para = JSON.parse(el.url.slice(8))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'input://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.startsWith('confirm://')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (el.url.startsWith('select://')) {\\n        let para = JSON.parse(el.url.slice(9))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'select://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.includes('@rule=')) {\\n        let [_, url, rule] = el.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n        el.url = url\\n        NOW_RULE.detail_find_rule = rule\\n        NOW_RULE.detail_col_type = MY_RULE.col_type\\n    } else if (el.url.startsWith('hiker://page/')) {\\n        if (el.url.includes('rule=') || el.extra.rule)\\n            return el\\n        let [_, path, flag, params] = el.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n            subPage = MY_RULE.pageList.find((v) => v.path == path),\\n            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n        el.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (el.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n        NOW_RULE.detail_find_rule = subPage.rule\\n        NOW_RULE.detail_col_type = subPage.col_type\\n    } else if (el.url.includes('@lazyRule=')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (isIndex) {\\n        if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(el.url)) return el\\n    } else {\\n        return el\\n    }\\n    el.extra = Object.assign({}, el.extra, {\\n        url: genExUrl(el.url),\\n        RULE: base64Encode(JSON.stringify(NOW_RULE)),\\n        pageTitle: isIndex && el.title\\n    })\\n    el.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n    return el\\n}\\n$.exports = {\\n    runCode: runCode,\\n    indexUrl: indexUrl,\\n    paramHandle: paramHandle,\\n    runPreRule: runPreRule,\\n    genMyRule: genMyRule,\\n    genExUrl: genExUrl,\\n    hijackLazyRule: hijackLazyRule,\\n    hijackEl: hijackEl\\n}\\n\"}]","proxy":"","icon":"hiker://images/icon4"},{"last_chapter_rule":"","title":"听合集","author":"小棉袄🌞&永远の明日","version":106,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', '@'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '这是轻合集的搜索哦~~',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n                if (typeShow[0] == '@') {\n                    let filterKey = typeShow.slice(1)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow[0] == '@') {\n    let filterKey = typeShow.slice(1)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow[0] == '@' ? {\n    title: '““””' + ('全部' + (typeShow[1] ? '[' + typeShow.slice(1) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', '@' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', '@')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nif (typeShow[0] != '@') rules = rulesType[typeShow]\nlet { paramHandle } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {})\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^https?:\\/\\/[^/?#]+/i.exec(ruleTmp.url) || ['hiker://empty'])[0],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + fypage +\n                    '.js:let { runCode, indexUrl } = $.require(\"hiker://page/funcTools？？rule=' + QING_TITLE + '\", '\n                     + JSON.stringify({\n                        MY_RULE: base64Encode(JSON.stringify(ruleTmp)),\n                        QING_TITLE: QING_TITLE\n                    }) + ')；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: base64Encode(JSON.stringify({ title: v.title })),\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', '@')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n            if (typeShow[0] == '@') {\n                let filterKey = typeShow.slice(1)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'https://ghproxy.com/https://raw.githubusercontent.com/xixifree/Hiker/main/ting.json')","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"var {\\n    QING_TITLE, title, url,\\n    class_name, class_url,\\n    area_name, area_url,\\n    year_name, year_url,\\n    sort_name, sort_url\\n} = $.importParam\\nconst ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('$fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('$fold_' + sign, folded ? '' : 'T')\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nlet fyAll = url.includes('fyAll'),\\n    tabHeader = []\\nif (class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: class_name,\\n    class_url: class_url\\n})\\nif (area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: area_name,\\n    class_url: area_url\\n})\\nif (year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: year_name,\\n    class_url: year_url\\n})\\nif (sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: sort_name,\\n    class_url: sort_url\\n})\\n$.exports = {\\n    fyAll: fyAll,\\n    tabHeader: new ClassTab(tabHeader, { name: title, fold: readFile('tabFold'), })\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE, true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if (Number.isNaN(input)) input = 1\\n        else if (input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if (url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if (rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据'], 1).select(() => {\\n        if (input == '清除自定义数据') {\\n            deleteFile('customData')\\n        } else if (input == '启用合集自定义') {\\n            saveFile('disableCustom', '')\\n        } else {\\n            saveFile('disableCustom', 'T')\\n            input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif (editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'), true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nvar myColl_el = []\\neval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(oriRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n} else if (MY_PAGE == 1) {\\n    tabHeader.load(myColl_el)\\n    if (RULE.search_url) myColl_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"这是轻合集的搜索哦~~\\\",\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        extra: {\\n            rules: $.toString((QING_TITLE, title) => {\\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\\n                rules = [rules.find((v) => v.title == title)]\\n                return JSON.stringify(rules)\\n            }, QING_TITLE, RULE.title),\\n            defaultValue: getMyVar('searchKey', ''),\\n            onChange: \\\"putMyVar('searchKey',input)\\\"\\n        },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 正文解析\\nvar {\\n    paramHandle,\\n    runPreRule,\\n    genExUrl,\\n    hijackLazyRule\\n} = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\nrunPreRule(oriRULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    let { hijackEl } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n    setResult = function(param0, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(param0.data)) param0 = param0.data\\n        Array.prototype.push.apply(myColl_el, param0.map(hijackEl))\\n        method_setResult.invoke(javaContext, myColl_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let { runCode } = $.require('hiker://page/funcTools?rule=' + QING_TITLE),\\n        [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(Object.assign(genMyRule(), { detail_find_rule: detailFindRule }))),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(genMyRule())),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myColl_el.push(res)\\n    })\\n    setResult(myColl_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"let showAll = $.importParam,\\n    url = getMyVar('remoteUrl'),\\n    data = []\\nif (url.startsWith('hiker://') || url.startsWith('file://')) {\\n    // 如果为本地文件则不进行缓存\\n    try {\\n        let oriData = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            oriData = JSON.parse(oriData).rule\\n        data = JSON.parse(oriData)\\n    } catch (e) {}\\n} else {\\n    // 获取远程数据，检查间隔默认一天\\n    let interval = parseInt(readFile('updateInterval') || '1'),\\n        oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n        remoteData = []\\n    if (interval == 0) interval = -1\\n    try { remoteData = JSON.parse(fetchCache(url, 24 * interval, { timeout: 50000 })) } catch (e) {}\\n    if (!Array.isArray(remoteData)) remoteData = []\\n    if (remoteData.length < 3) {\\n        log('未获取到数据')\\n        if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n        data = JSON.parse(oldData || '[]')\\n    } else {\\n        log('已获取到数据')\\n        data = remoteData\\n    }\\n}\\ndata = data.filter((v) => v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器'))\\nif (readFile('disableCustom')) $.exports = data\\nelse { // 写入自定义数据\\n    let customData = JSON.parse(readFile('customData') || '[]'),\\n        rewriteData = []\\n    customData = customData.reduce((self, v) => {\\n        let index = data.findIndex((vv) => v.title == vv.title)\\n        if (index >= 0) {\\n            self.push(v)\\n            let rule = data.splice(index, 1)[0]\\n            if (showAll || v.visible)\\n                rewriteData.push(Object.assign(rule, v))\\n        }\\n        return self\\n    }, [])\\n    data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n    saveFile('customData', JSON.stringify(customData))\\n    $.exports = rewriteData.concat(data)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"环境劫持\",\"path\":\"hijackEnv\",\"rule\":\"var { RULE, isIndex, pageTitle } = MY_PARAMS\\nRULE = JSON.parse(base64Decode(RULE))\\nvar oriRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE).find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = oriRULE\\n    var { tabHeader, fyAll } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, RULE))\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    RULE.pages = oriRULE.pages\\n    // 处理MY_RULE\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\n// 载入函数工具\\nvar { genMyRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {\\n    QING_TITLE: QING_TITLE,\\n    MY_RULE: MY_RULE,\\n    isIndex: isIndex\\n})\\n// 防止require多次运行\\nconst myColl_required = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param2 = param2 != null ? param2 : 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param3 = param3 != null ? param3 : 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n// 最新章节规则环境劫持\\nsetLastChapterRule = function(param0) {\\n    if (param0.startsWith(\\\"js:\\\")) {\\n        param0 = 'js:' + $.toString((QING_TITLE, MY_PARAMS) => {\\n            eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n            var { runPreRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n            runPreRule(oriRULE.preRule)\\n        }, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex }) + ';' + param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0)\\n}\\n// 动态新增函数劫持\\naddItemAfter = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemAfter.invoke(javaContext, param0, param1)\\n}\\naddItemBefore = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemBefore.invoke(javaContext, param0, param1)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数工具\",\"path\":\"funcTools\",\"rule\":\"let { QING_TITLE, MY_RULE, isIndex } = $.importParam\\nif (!MY_RULE) MY_RULE = {}\\n\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\n// 首页链接替换分类\\nfunction indexUrl(param) {\\n    MY_RULE = JSON.parse(base64Decode(MY_RULE))\\n    let pageNum = parseInt(param.split('###')[1]),\\n        url = MY_RULE.url,\\n        { fyAll, tabHeader } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, MY_RULE))\\n\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\n\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\\n// 预处理并初始化config\\nfunction runPreRule(rule) {\\n    if ((typeof MY_PAGE != 'undefined' &&  MY_PAGE == 1) &&\\n         (isIndex || !getMyVar('$preRule_' + MY_RULE.title))) {\\n        eval(rule)\\n        putMyVar('$preRule_' + MY_RULE.title, 'T')\\n    }\\n    let _cfg = getMyVar('initConfig', '{}')\\n    if (_cfg && _cfg.length > 0) {\\n        config = JSON.parse(_cfg)\\n    }\\n}\\n// 正文解析通用变量\\nfunction genMyRule() {\\n    let RULE = Object.assign({}, MY_RULE)\\n    delete RULE.last_chapter_rule\\n    delete RULE.preRule\\n    delete RULE.pageList\\n    delete RULE.pages\\n    return RULE\\n}\\n\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, MY_RULE.ua, MY_RULE.url)\\n}\\n\\nhijackLazyRule = $.toString((QING_TITLE, MY_PARAMS) => {\\n    if (!MY_RULE) MY_RULE = {}\\n    eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n    var {\\n        paramHandle,\\n        genExUrl,\\n        hijackLazyRule,\\n        hijackEl\\n    } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n}, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex })\\n\\nfunction hijackEl(el) {\\n    if(!el || typeof el != 'object') return\\n    if (!el.extra) el.extra = {}\\n    el.col_type = el.col_type || MY_RULE.col_type\\n    let NOW_RULE = Object.assign(genMyRule(), { params: el.extra })\\n\\n    if (typeof el.url != 'string' ||\\n        ['x5_webview_single', 'input'].find((v) => el.col_type == v) ||\\n        ['海阔视界', 'javascript:'].find((v) => el.url.startsWith(v)) ||\\n        ['rule', 'pics', 'toast', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'x5Rule', 'webRule',\\n            'download', 'share', 'fileSelect', 'video'].find((v) => el.url.startsWith(v + '://'))) {\\n        return el\\n    } else if (el.url.startsWith('input://')) {\\n        let para = JSON.parse(el.url.slice(8))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'input://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.startsWith('confirm://')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (el.url.startsWith('select://')) {\\n        let para = JSON.parse(el.url.slice(9))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'select://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.includes('@rule=')) {\\n        let [_, url, rule] = el.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n        el.url = url\\n        NOW_RULE.detail_find_rule = rule\\n        NOW_RULE.detail_col_type = MY_RULE.col_type\\n    } else if (el.url.startsWith('hiker://page/')) {\\n        if (el.url.includes('rule=') || el.extra.rule)\\n            return el\\n        let [_, path, flag, params] = el.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n            subPage = MY_RULE.pageList.find((v) => v.path == path),\\n            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n        el.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (el.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n        NOW_RULE.detail_find_rule = subPage.rule\\n        NOW_RULE.detail_col_type = subPage.col_type\\n    } else if (el.url.includes('@lazyRule=')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (isIndex) {\\n        if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(el.url)) return el\\n    } else {\\n        return el\\n    }\\n    el.extra = Object.assign({}, el.extra, {\\n        url: genExUrl(el.url),\\n        RULE: base64Encode(JSON.stringify(NOW_RULE)),\\n        pageTitle: isIndex && el.title\\n    })\\n    el.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n    return el\\n}\\n$.exports = {\\n    runCode: runCode,\\n    indexUrl: indexUrl,\\n    paramHandle: paramHandle,\\n    runPreRule: runPreRule,\\n    genMyRule: genMyRule,\\n    genExUrl: genExUrl,\\n    hijackLazyRule: hijackLazyRule,\\n    hijackEl: hijackEl\\n}\\n\"}]","proxy":"","icon":"https://pic.imgdb.cn/item/62ea0a5116f2c2beb1f3bc42.jpg"},{"last_chapter_rule":"","title":"AI茶杯","author":"","version":42,"type":"tool","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require('hiker://page/pro')","searchFind":"","search_url":"","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"二级解析\",\"path\":\"p\",\"rule\":\"js:\\nvar d = [];\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlog(url);\\nlet html = request(url);\\nlet alist = pdfa(html, \\\"body&&a\\\");\\nlet arr = alist.map(it => {\\n    return {\\n        //html: it,\\n        text: pdfh(it, \\\"a&&Text\\\"),\\n        title: pdfh(it, \\\"a&&title\\\"),\\n        href: pd(it, \\\"a&&href\\\", url)\\n    }\\n});\\n//log(arr);\\nlet debug = false;\\n\\nfunction clearText(it) {\\n    return it.replace(/第|集|章/g, \\\"\\\");\\n}\\n\\nfunction isMovie(it) {\\n    if (it == null || it.text == null) {\\n        return false;\\n    }\\n    let tit = it.title || \\\"\\\";\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\" || it.length > 8) {\\n        return false;\\n    }\\n    //排除\\n    let reg = /\\\\./;\\n    if (tit != \\\"\\\" && !tit.includes(it) || reg.test(it)) {\\n        return false;\\n    }\\n    return it.match(/原画|备用|蓝光|超清|高清|正片|韩版|4K|4k|1080P|720P|TC|HD|BD/)\\n}\\n\\nfunction notChapter(it) {\\n    if (it == null || it.text == null) {\\n        return true;\\n    }\\n    return it.text.match(/[0-9]\\\\.[0-9]分/);\\n}\\n\\nfunction isChapter(it, pre, next) {\\n    if (notChapter(it)) {\\n        //优先排除\\n        return false;\\n    }\\n    //判断是不是电影\\n    if (isMovie(it)) {\\n        return true;\\n    }\\n    return isChapter0(it, pre) || isChapter0(it, next);\\n}\\n\\nfunction getChapterNum(it) {\\n    if (it == null || it.text == null) {\\n        return -1;\\n    }\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\") {\\n        return -1;\\n    }\\n    it = clearText(it);\\n    let reg = /^[0-9]*$/;\\n    if(!reg.test(it)){\\n        return -1;\\n    }\\n    it = parseInt(it);\\n    if (isNaN(it)) {\\n        return -1;\\n    }\\n    return it;\\n}\\n\\nfunction isChapter0(it, brother) {\\n    /*if (debug) {\\n        log({\\n            it: it,\\n            brother: brother\\n        });\\n    }*/\\n    it = getChapterNum(it);\\n    //if (debug) log(it);\\n    if (it < 0) {\\n        return false;\\n    }\\n    brother = getChapterNum(brother);\\n    //if (debug) log(brother);\\n    if (brother < 0) {\\n        return false;\\n    }\\n    return it - brother < 2 && it - brother > -2;\\n}\\n\\nfor (let i = 0; i < arr.length; i++) {\\n    let it = arr[i];\\n    let t = it.text;\\n    if (!it.href || it.href == \\\"\\\") {\\n        continue;\\n    }\\n    let pre = i == 0 ? null : arr[i - 1];\\n    let next = i == (arr.length - 1) ? null : arr[i + 1];\\n    if (isChapter(it, pre, next)) {\\n        d.push({\\n            title: t,\\n            url: \\\"video://\\\" + it.href,\\n            col_type: \\\"text_3\\\",\\n            extra: {\\n                id: it.href\\n            }\\n        });\\n    }\\n}\\nif (d.length == 0) {\\n    //匹配失败\\n    d.push({\\n        title: \\\"\\\",\\n        url: url,\\n        col_type: \\\"x5_webview_single\\\",\\n        desc: \\\"float&&100%\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            canBack: true\\n        }\\n    });\\n    toast(\\\"AI匹配失败，已使用X5加载\\\");\\n    setResult(d);\\n} else {\\n    //为线路加分割线\\n    let d2 = [];\\n    for (let i = 0; i < d.length; i++) {\\n        d2.push(d[i]);\\n        if (i < d.length - 1) {\\n            let it = d[i];\\n            let t1 = parseInt(clearText(it.title));\\n            let next = d[i + 1];\\n            let t2 = parseInt(clearText(next.title));\\n            if (t2 - t1 > 1 || t1 - t2 > 1) {\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"line_blank\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n            }\\n        }\\n    }\\n\\n    setResult(d2);\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"聚合搜索\",\"path\":\"pro\",\"rule\":\"var d = [];\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(() => {\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: \\\"input\\\",\\n        desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"sou\\\", \\\"\\\"),\\n            onChange: $.toString(() => {\\n                putMyVar(\\\"sou\\\", input);\\n            })\\n        }\\n    });\\n    addListener(\\\"onClose\\\", $.toString(() => {\\n        clearMyVar(\\\"sou\\\");\\n    }));\\n}\\n\\nlet s = getMyVar(\\\"sou\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let html = fetch(\\\"https://cupfox.app/s/\\\" + s);\\n    let text = pdfh(html, \\\"body&&#__NEXT_DATA__&&Html\\\");\\n    //log(text);\\n    let data = JSON.parse(text);\\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n\\n    for (let it of data.props.pageProps.resourceSearchResult.resources) {\\n        d.push({\\n            title: wrap(it.text, s),\\n            url: \\\"hiker://page/p?u=\\\" + base64Encode(it.url),\\n            col_type: \\\"text_1\\\",\\n            desc: it.website + \\\" \\\" + (it.tags || []).join(\\\" \\\"),\\n            pic_url: \\\"\\\"\\n        });\\n    }\\n} else {\\n    d.push({\\n        title: \\\"茶杯狐\\\",\\n        url: \\\"web://https://cupfox.app\\\",\\n        col_type: \\\"flex_button\\\",\\n        desc: \\\"\\\",\\n        pic_url: \\\"\\\"\\n    });\\n    d.push({\\n        title: \\\"AI技术\\\",\\n        url: \\\"confirm://基于AI识片自动分析源码技术，代码完全开源，数据来源于原网站，软件和规则不提供任何内容.js:''\\\",\\n        col_type: \\\"flex_button\\\",\\n        desc: \\\"\\\",\\n        pic_url: \\\"\\\"\\n    });\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"tool\",\"rule\":\"function wrap(text, s) {\\n    return text.includes(\\\"““””\\\") ? text : \\\"““””\\\" + text.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\")\\n}\\n$.exports = {\\n    wrap: wrap\\n}\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"AI狗狗","author":"","version":44,"type":"tool","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require('hiker://page/pro')","searchFind":"","search_url":"","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"二级解析\",\"path\":\"p\",\"rule\":\"js:\\nvar d = [];\\nlet url = base64Decode(getParam(\\\"u\\\"));\\nlet html = request(url);\\nlet alist = pdfa(html, \\\"body&&a\\\");\\nlet arr = alist.map(it => {\\n    return {\\n        //html: it,\\n        text: pdfh(it, \\\"a&&Text\\\"),\\n        title: pdfh(it, \\\"a&&title\\\"),\\n        href: pd(it, \\\"a&&href\\\", url)\\n    }\\n});\\n//log(arr);\\nlet debug = false;\\n\\nfunction clearText(it) {\\n    return it.replace(/第|集|章/g, \\\"\\\");\\n}\\n\\nfunction isMovie(it) {\\n    if (it == null || it.text == null) {\\n        return false;\\n    }\\n    let tit = it.title || \\\"\\\";\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\" || it.length > 8) {\\n        return false;\\n    }\\n    //排除\\n    let reg = /\\\\.|高清直播|写真推荐/;\\n    if (tit != \\\"\\\" && !tit.includes(it) || reg.test(it)) {\\n        return false;\\n    }\\n    return it.match(/原画|备用|蓝光|超清|高清|正片|韩版|4K|4k|1080P|720P|TC|HD|BD/)\\n}\\n\\nfunction notChapter(it) {\\n    if (it == null || it.text == null) {\\n        return true;\\n    }\\n    return it.text.match(/[0-9]\\\\.[0-9]分/);\\n}\\n\\nfunction isChapter(it, pre, next) {\\n    if (notChapter(it)) {\\n        //优先排除\\n        return false;\\n    }\\n    //判断是不是电影\\n    if (isMovie(it)) {\\n        return true;\\n    }\\n    return isChapter0(it, pre) || isChapter0(it, next);\\n}\\n\\nfunction getChapterNum(it) {\\n    if (it == null || it.text == null) {\\n        return -1;\\n    }\\n    it = it.text || \\\"\\\";\\n    if (it == \\\"\\\") {\\n        return -1;\\n    }\\n    it = clearText(it);\\n    let reg = /^[0-9]*$/;\\n    if (!reg.test(it)) {\\n        return -1;\\n    }\\n    it = parseInt(it);\\n    if (isNaN(it)) {\\n        return -1;\\n    }\\n    return it;\\n}\\n\\nfunction isChapter0(it, brother) {\\n    /*if (debug) {\\n        log({\\n            it: it,\\n            brother: brother\\n        });\\n    }*/\\n    it = getChapterNum(it);\\n    //if (debug) log(it);\\n    if (it < 0) {\\n        return false;\\n    }\\n    brother = getChapterNum(brother);\\n    //if (debug) log(brother);\\n    if (brother < 0) {\\n        return false;\\n    }\\n    return it - brother < 2 && it - brother > -2;\\n}\\n\\nlet _web = $.toString(() => {\\n    let urls = _getUrls();\\n    let reg = /\\\\.html|\\\\.css|\\\\.js/;\\n    for (let k in urls) {\\n        if (!reg.test(urls[k]) && urls[k].match(/\\\\.mp4|\\\\.m3u8/)) {\\n            fy_bridge_app.log(urls[k]);\\n            return fy_bridge_app.getHeaderUrl(urls[k].replace(/.*?url=/, \\\"\\\")) + \\\"#ignoreImg=true#\\\";\\n        }\\n    }\\n});\\n\\nlet web = getItem('web', '0') == \\\"1\\\";\\n\\nfor (let i = 0; i < arr.length; i++) {\\n    let it = arr[i];\\n    let t = it.text;\\n    if (!it.href || it.href == \\\"\\\") {\\n        continue;\\n    }\\n    let pre = i == 0 ? null : arr[i - 1];\\n    let next = i == (arr.length - 1) ? null : arr[i + 1];\\n    if (isChapter(it, pre, next)) {\\n        if (web) {\\n            var urlx = \\\"webRule://\\\" + it.href + \\\"@\\\" + _web;\\n            var extrax = {\\n                jsLoadingInject: true,\\n                id: it.href,\\n                blockRules: ['.m4a', '.mp3', '.flv', '.avi', '.3gp', '.mpeg', '.wmv', '.mov', '.rmvb', '.gif', '.jpeg', '.png', '.ico', '.svg']\\n            };\\n        } else {\\n            var urlx = \\\"video://\\\" + it.href;\\n            var extrax = {\\n                id: it.href\\n            };\\n        }\\n        d.push({\\n            title: t,\\n            url: urlx,\\n            col_type: \\\"text_3\\\",\\n            extra: extrax\\n        });\\n    }\\n}\\nif (d.length == 0) {\\n    //匹配失败\\n    d.push({\\n        title: \\\"\\\",\\n        url: url,\\n        col_type: \\\"x5_webview_single\\\",\\n        desc: \\\"float&&100%\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            canBack: true\\n        }\\n    });\\n    toast(\\\"AI匹配失败，已使用X5加载\\\");\\n    setResult(d);\\n} else {\\n    //为线路加分割线\\n    let d2 = [];\\n    for (let i = 0; i < d.length; i++) {\\n        d2.push(d[i]);\\n        if (i < d.length - 1) {\\n            let it = d[i];\\n            let t1 = parseInt(clearText(it.title));\\n            let next = d[i + 1];\\n            let t2 = parseInt(clearText(next.title));\\n            if (t2 - t1 > 1 || t1 - t2 > 1) {\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"line_blank\\\"\\n                });\\n                d2.push({\\n                    col_type: \\\"big_blank_block\\\"\\n                });\\n            }\\n        }\\n    }\\n\\n    setResult(d2);\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"聚合搜索\",\"path\":\"pro\",\"rule\":\"var d = [];\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(() => {\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: \\\"input\\\",\\n        desc: \\\"请输入关键词，尽量少字不要多字\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"sou\\\", \\\"\\\"),\\n            onChange: $.toString(() => {\\n                putMyVar(\\\"sou\\\", input);\\n            })\\n        }\\n    });\\n    addListener(\\\"onClose\\\", $.toString(() => {\\n        clearMyVar(\\\"sou\\\");\\n    }));\\n}\\n\\nlet s = getMyVar(\\\"sou\\\", \\\"\\\");\\nlet r = \\\"\\\";\\nif (s != \\\"\\\") {\\n    let u = \\\"https://www.dianyinggou.com/so/\\\" + s;\\n    let html = request(u);\\n    let data = pdfa(html, \\\"body&&.movies&&.each\\\");\\n    //log(text);  \\n    let {\\n        wrap\\n    } = $.require(\\\"hiker://page/tool\\\");\\n\\n    for (let it of data) {\\n        let t = pdfh(it, \\\"a&&title\\\");\\n        let url = pd(it, \\\"a&&href\\\", u);\\n        d.push({\\n            title: wrap(t, s),\\n            url: \\\"webRule://\\\" + url + \\\"@\\\" + $.toString((rule, id, s) => {\\n                let list = document.querySelectorAll(\\\".movieZy a\\\");\\n                if (list && list.length > 0) {\\n                    let arr = []\\n                    for (let it of list) {\\n                        arr.push(it.outerHTML);\\n                    }\\n                    fy_bridge_app.log(arr.length + \\\"。\\\");\\n                    fy_bridge_app.parseLazyRule($$$().lazyRule((arr, rule, id, s) => {\\n                        try {\\n                            MY_URL = \\\"\\\";\\n                            let {\\n                                wrap\\n                            } = $.require(\\\"hiker://page/tool?rule=\\\" + rule);\\n                            let list = arr.map(it => {\\n                                let u = pd(it, \\\"a&&href\\\");\\n                                u = $(u).lazyRule((rule) => {\\n                                    let h = request(input, {\\n                                        redirect: false,\\n                                        withHeaders: true\\n                                    });\\n                                    log(h);\\n                                    h = JSON.parse(h).headers.location[0];\\n                                    return \\\"hiker://page/p?rule=\\\" + rule + \\\"&u=\\\" + base64Encode(h)\\n                                }, rule);\\n                                return {\\n                                    title: wrap(pdfh(it, \\\"li&&Text\\\"), s),\\n                                    url: u,\\n                                    desc: pdfh(it, \\\"li,1&&Text\\\"),\\n                                    col_type: \\\"text_1\\\"\\n                                }\\n                            });\\n                            addItemAfter(id, list);\\n                        } catch (e) {\\n                            log(e.toString());\\n                        }\\n                    }, arr, rule, id, s));\\n                    return \\\"hiker://empty\\\"\\n                }\\n            }, MY_RULE.title, url, s),\\n            col_type: \\\"text_1\\\",\\n            desc: \\\"““””<font color=#f13b66a>二哈</font>\\\",\\n            pic_url: pd(it, \\\"img&&data-url\\\", u),\\n            extra: {\\n                id: url\\n            }\\n        });\\n    }\\n} else {\\n    d.push({\\n        title: \\\"AI技术\\\",\\n        url: \\\"confirm://基于AI识片自动分析源码技术，代码完全开源，数据来源于原网站，软件和规则不提供任何内容.js:''\\\",\\n        col_type: \\\"flex_button\\\"\\n    }, {\\n        title: getItem('web', '0') == \\\"0\\\" ? \\\"视频嗅探\\\" : \\\"Web通免\\\",\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            if (getItem('web', '0') == \\\"0\\\") {\\n                setItem('web', '1')\\n            } else {\\n                setItem('web', '0')\\n            }\\n            refreshPage();\\n            return 'hiker://empty'\\n        }),\\n        col_type: \\\"flex_button\\\"\\n    });\\n    d.push({\\n        title: \\\"二哈\\\",\\n        url: \\\"web://https://www.dianyinggou.com/\\\",\\n        col_type: \\\"flex_button\\\",\\n        desc: \\\"\\\",\\n        pic_url: \\\"\\\"\\n    });\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"tool\",\"rule\":\"function wrap(text, s) {\\n    return text.includes(\\\"““””\\\") ? text : \\\"““””\\\" + text.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\")\\n}\\n$.exports = {\\n    wrap: wrap\\n}\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"蜗牛影视.DDr","author":"道长&Killer","version":0,"type":"video","url":"hiker://empty##https://www.weikeys.com/fenlei/2-fypage.html[firstPage=https://www.weikeys.com/fenlei/2.html]","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\nvar true_url = getMyVar('header.url', MY_URL);\nvar page = MY_PAGE;\nlog(true_url);\nlet ui = ()=>{\nlet parStr=\".list&&li;img&&alt;img&&data-original;.rgba1&&Text;a&&href\";\nlet cates=打造动态分类([{\n         一级分类: 'body&&ul.nav_ul,1',\n        子分类: 'ul&&li',\n         分类链接: {\n            二次处理(url) {\n                return url.replace(\".html\",\"-\"+page+\".html\");\n            }\n        }\n    },{\n  一级分类: 'body&&.case&&.list_nav',\n    子分类: 'body&&a',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);\n}\n混合(ui,\"/vod/\",\"\");","searchFind":"js:\nrequire(config.模板);\nparStr=\".list&&li;img&&alt;img&&data-original;p,2&&Text;a&&href;.des&&Text\";\n一级(parStr,true,null,false,null);","search_url":"hiker://empty##/index.php?m=vod-search&wd=**","group":"②Dr二","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet p={\n\"tabs\": \".pt50&&.ptit:matches(播放地址)\",\n\"tab_text\": \"body--strong&&Text\",\n\"lists\": \".ulli&&.stab_list,#id&&li:not(:matches(免费))\"\n};\nvar lazy=`@lazyRule=.js:fetch(input).match(/url='(.*?)'</)[1]+\"#isVideo=true#\"`;\n二级(p,lazy);\n//自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='MOBILE_UA';\nrequire('https://hjdhnx.coding.net/p/hiker/d/dr/git/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=蜗牛"},{"last_chapter_rule":"","title":"心理FM","author":"Killer","version":0,"type":"music","url":"http://m.xinli001.com/fm/list?flag=fypage","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"音频","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/https.*url=/,'')\n        }\n    }\n}))\nvar lazy = \"@lazyRule=.js:showLoading('通用解析中，请稍候');'x5Rule://'+input+'@' + getVar('_x5')\";\ntry{\nvar list = pdfa(html,'.content&&li');\nfor (var j in list) {\n  d.push({\n     title: pdfh(list[j], '.li-left-title&&Text'),\n     desc:pdfh(list[j], '.li-left-b&&Text'),\n     pic_url: parseDom(list[j], 'img&&src'),\n     url: parseDom(list[j], 'a&&href')+lazy,extra: {id:parseDom(list[j],'a&&href'),blockRules: ['.m4a', '.mp3','.mp4','.m3u8','.flv','.avi','.3gp','.mpeg','.wmv','.mov','.rmvb','.gif','.jpg','.jpeg','.png','.ico','.svg']},//加快嗅探\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#ff673ab7","group":"②常用","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","title":"看大雪电影.K","author":"Killer","version":0,"url":"http://www.kandaxue.com/a48-type/fyclass-fypage/","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.stui-vodlist&&li;h4&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":"body&&.stui-vodlist&&li;h4&&Text;\na&&href;\n.pic-text&&Text;\n;\n.lazyload&&data-original;","search_url":"http://www.kandaxue.com/a48search/**----------fypage---/","titleColor":"#ff673ab7","group":"②影二","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\r\nvar d = [];\nvar html=getResCode();\r\n\n\n\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input);decodeURIComponent(player_data.url)`;\n\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","title":"One一个","author":"Killer","version":0,"type":"read","url":"http://m.wufazhuce.com/index","col_type":"pic_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.item-issue;.text-content-short&&Text;img&&src;.text-title&&Text;.text-title&&a&&href","searchFind":"","search_url":"","titleColor":"#ff673ab7","group":"②资讯","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res ={};\nvar d = [];\nd.push({\n\t\t title: parseDomForHtml(getResCode(), '.text-detail&&Html').split('评论内容')[0],\n    col_type:'rich_text'\n});\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","title":"歪片星球.K","author":"Killer","version":0,"type":"video","url":"https://waipian5.com/show-fyclass-fyarea-fysort------fypage---fyyear/","col_type":"movie_3","class_name":"剧集&电影&综艺&动漫","class_url":"juji&dianying&zongyi&dongman","area_name":"中国大陆&中国香港&中国台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&俄罗斯&澳大利亚","area_url":"中国大陆&中国香港&中国台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&俄罗斯&澳大利亚","sort_name":"更新时间&最多播放&实时热门&近期热播&新片上线","year_name":"2022&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005","sort_url":"time&hits&hits_day&hits_week&year","year_url":"2022&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005","find_rule":".module-main,1&&a;a&&title;img&&data-src;.module-item-note&&Text;a&&href","searchFind":".module-card-items&&.module-card-item;.module-card-item-title&&Text;a&&href;.module-item-note&&Text;.module-info-item&&Text;img&&data-src","search_url":"/search-**----------fypage---/","group":"②超清","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar arts = pdfa(html, '.module-tab-items-box&&span');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(pdfh(arts[i], 'Text'))\n}\n\nvar conts = pdfa(html, 'body&&.module-play-list');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(pdfa(conts[i], 'body&&a'))\n}\ntry{\nd.push({\n    title: pdfh(html, '.module-info-items&&.module-info-item,1&&Text').substring(0, 18) +\n        '\\n' +\n        '\\n' +\n             pdfh(html,\n'').substring(0, 18),\n    desc: pdfh(html, ''),\n     img: pd(html, \n'.lazyload&&data-src') +'@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});}catch(e){}\n\n eval(JSON.parse(fetch('hiker://page/lazy2', {})).rule);\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text')\n                .replace(/第(\\d+)集/, '$1')\n                .replace('第', '')\n                .replace('期', ''),\n            url: pd(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"视界嗅探\",\"path\":\"lazy2\",\"rule\":\"var lazy = $('').lazyRule(() => {\\n        return \\\"video://\\\"+input\\n});\"}]","proxy":"","icon":"http://waipian5.com/statics/logo.png"},{"last_chapter_rule":".myui-content__detail&&.hidden-sm&&.text-red&&Text","title":"段友-切片","author":"Killer","version":0,"type":"video","url":"https://yunjuw.cn/vodshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电视剧&电影&综艺&动漫&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&港台剧&日韩剧&欧美剧","class_url":"2&1&3&4&||&6&7&8&9&10&11&12&||&13&14&15&16","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"更新&热门&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\nvar list = parseDomForArray(html,'.myui-vodlist&&li');\n\r\n    for (var i in list) {\r\n        var title = parseDomForHtml(list[i], 'a&&title');\n        var img = parseDom(list[i], '.lazyload&&data-original')+'@Referer=doubanio.com';\r\n        var url = parseDom(list[i], 'a&&href').replace('play','detail').replace('/sid/1/nid/1','');\n        var desc = parseDomForHtml(list[i], '.pic-text||span&&Text');\r\n        items.push({\r\n            title: title,\n            pic_url: img,\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetHomeResult(res);\n","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&title'),\n            desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n            content: parseDomForHtml(list[j], 'p,-2&&Text'),\n            img: parseDom(list[j], 'a&&data-original'),\n            url: parseDom(list[j], 'a&&href')\n        });\n    }\r\nres.data = d;\r\nsetSearchResult(res);","search_url":"https://yunjuw.cn/vodsearch/**----------fypage---.html","group":"③影一","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\nvar arts = parseDomForArray(html,'.nav&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nd.push({\n\ttitle: parseDomForHtml(html, '.data&&Text').replace('分类|','').replace('地区：','').replace('年份：',' ').substring(0, 18)+ '\\n' + parseDomForHtml(html,'.data,2&&Text').substring(0, 15)+'\\n'+parseDomForHtml(html, '.data,1&&Text').substring(0, 15),\n\tdesc:parseDomForHtml(html,'.data,3&&Text').substring(0, 16),\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: MY_URL,\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nvar des_desc = parseDomForHtml(html, '.data&&Text');\n d.push({\n          title: des_desc.length > 46 ? des_desc.replace(des_desc, des_desc.substring(0, 46) +'...‘‘’’<font color=\"#0aa344\">详情</font></small>') : des_desc,\n         url: 'hiker://empty#' + parseDomForHtml(html,'body&&.myui-content__detail&&Html').split('/h1>')[1].replace(/;/g,'').replace(/<p/g,'<br><ul') + `@rule=js:var res = {}; var d = [];d.push({title: MY_URL.split('hiker://empty#')[1],col_type: 'rich_text'});res.data = d; setHomeResult(res);`,      \n          col_type: 'text_1'\n});\n/*\nvar lazy= `@lazyRule=body&&.embed-responsive&&script&&Html.js:eval(input);player_aaaa.url`\n*/\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/https.*url=/,'')\n        }\n    }\n}))\nvar lazy = \"@lazyRule=.js:showLoading('通用解析中，请稍候');'x5Rule://'+input+'@' + getVar('_x5')\";\n\nfunction setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\",\n            col_type: 'flex_button'\n        })\n    }\n    d.push({ col_type: 'blank_block' });\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘正逆序：’’',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'flex_button'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == ' - 逆序') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,extra: {id:parseDom(list[j],'a&&href'),blockRules: ['.m4a', '.mp3','.mp4','.m3u8','.flv','.avi','.3gp','.mpeg','.wmv','.mov','.rmvb','.gif','.jpg','.jpeg','.png','.ico','.svg']},//加快嗅探\n                col_type: list.length > 3 ? 'text_4' : 'text_2'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,extra: {id:parseDom(list[j],'a&&href'),blockRules: ['.m4a', '.mp3','.mp4','.m3u8','.flv','.avi','.3gp','.mpeg','.wmv','.mov','.rmvb','.gif','.jpg','.jpeg','.png','.ico','.svg']},//加快嗅探\n                col_type: list.length > 3 ? 'text_4' : 'text_2'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://yunjuw.cn/template/mytheme/statics/img/logo.png"},{"last_chapter_rule":"","title":"傻宝宝电影网.K","author":"路遥&Killer","version":0,"type":"other","url":"https://www.shabaobei.com/L/fyAll-fypage.html","col_type":"movie_3","class_name":"首页&动作片&喜剧片&爱情片&科幻片&恐怖片&战争片&剧情片&\n动画片&纪录片","class_url":"&6&7&8&9&10&11&12&13&14","area_name":"日韩剧&国产剧&港台剧&欧美剧&海外剧","area_url":"17&15&16&18&19","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html, '.stui-vodlist&&li');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&title'),\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n        img: parseDom(list[j], '.lazyload||a&&data-original')+'@Referer=',\n        url: parseDom(list[j], 'a&&href') + '#immersiveTheme#'\n    });\n}\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.stui-vodlist__media&&li');\nif (list.length == 0) throw \"搜索为空，可能匹配错误\"\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&title'),\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n        img: parseDom(list[j], 'a&&data-original'),\n        content: parseDomForHtml(list[j], '.detail--h3&&Text'),\n        url: parseDom(list[j], 'a&&href')+'#immersiveTheme#'\n    });\n}\nsetResult(d);","search_url":"https://www.shabaobei.com/vodsearch/**----------fypage---.html","titleColor":"#fff20c00","group":"③影二","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy =  ``;\nlazy=$(\"\").lazyRule(()=>{\n    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n   return lazyParse(input);\n});\nvar d = [];\nvar html = getResCode();\n\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\n\nvar tabs = [];\nvar conts = parseDomForArray(html, 'body&&.b');\nvar lists = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(conts[i], 'h3&&Text'))\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n    title: parseDomForHtml(html, '.stui-content__detail--h1&&Text').replace('地区', '\\n地区').replace('主演', '\\n主演'),\n    desc: parseDomForHtml(html, '.desc||.detail-content&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":".v_desc&&.desc&&Text","title":"呆瓜影视.K","author":"晓&&Killer","version":0,"type":"video","url":"http://m.xdg456.com/index.php?m=vod-list-id-fyclass-pg-fypage-order--by--class-0-year-fyyear-letter--area-fyarea-lang-.html​","col_type":"movie_3","class_name":"电影&动作&喜剧&爱情&科幻&恐怖&剧情&战争&灾难&纪录&悬疑&论理&合集&|&电视剧&国产剧&港台剧&韩剧&欧美剧&日韩剧&日剧&泰剧&动漫","class_url":"1&5&6&7&8&9&10&11&24&27&35&28&36&&2&12&13&15&16&14&17&18&37","area_name":"全部&大陆&香港&台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&西班牙&俄罗斯&其它","area_url":"&大陆&香港&台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&西班牙&俄罗斯&其它","sort_name":"","year_name":"全部&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1999&1998&1997&1996&1995","sort_url":"","year_url":"&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1999&1998&1997&1996&1995","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.v_list&&li');\nfor (let i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'a.title&&Text'),\n        desc: parseDomForHtml(list[i], '.desc&&Text'),\n        pic_url: parseDom(list[i], 'a&&data-bg'),\n        url: parseDom(list[i], 'a&&href'),\n        col_type: 'movie_3'\n    })\n}\nsetResult(d)","chapter_find":".detailPic&&img&&src;.tb_z&&Text;body&&.lhmain@li;a&&Text;a&&href;body&&label@Text","searchFind":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.v_list&&li');\nfor (let i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'a.title&&Text'),\n        desc: parseDomForHtml(list[i], '.desc&&Text'),\n        pic_url: parseDom(list[i], 'a&&data-bg'),\n        url: parseDom(list[i], 'a&&href'),\n        col_type: 'movie_3'\n    })\n}\nsetResult(d)","search_url":"http://m.xdg456.com/index.php?m=vod-search-pg-fypage-wd-**.html","titleColor":"#f20c00","group":"③影二","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\r\nvar d = [];\nvar html=getResCode();\nvar lazy =  ``;\nlazy=$(\"\").lazyRule(()=>{\n    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n   return lazyParse(input);\n});\n\nvar 标题='h1&&Text';\nvar 线路列表 = 'body&&.play_from&&li';\nvar 线路标签 = 'Text';\nvar 选集列表 = 'body&&.tab_content&&.play_list';\nvar 选集标签 = 'ul&&li';\nvar 演员 = '#intro_content&&p,1&&Text';\nvar 更新 = '.v_desc&&.desc&&Text';\nvar 导演 = '#intro_content&&p,0&&Text';\nvar 图片 = '.cover&&img&&src';\nvar 简介 = '#intro_content&&p,2&&Text';\n\n//简介\ntry{\nvar des_desc = parseDomForHtml(html, 简介);\n}catch(e){\nvar des_desc ='没有正确获取剧情简介！';\n}\n\n//图片\nvar des_pic =parseDom(html, 图片);\n\n//影片简介头\nvar 导演 = parseDomForHtml(html, 导演);\nvar 演员 = parseDomForHtml(html, 演员);\nvar 更新 = parseDomForHtml(html, 更新);\n\nvar arts = parseDomForArray(html,线路列表);//线路列表\nvar conts = parseDomForArray(html, 选集列表);//播放列表\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 线路标签))   //线路名\n}\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 选集标签))    //' 列表名改'ul&&li'\n}\n\nd.push({\ntitle: 导演 + '    '+更新 +'\\n' + 演员,\ndesc:des_desc,\npic_url:des_pic,\nurl:des_pic,\ncol_type:'movie_1_vertical_pic'\n});\n\n\nvar title = parseDomForHtml(getResCode(), 标题);\nd.push({\r\n    title: \"视界\",\n    pic_url: 'https://i.52112.com/icon/jpg/256/20201124/100283/4321985.jpg',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    col_type: 'icon_small_4',\n});\nd.push({\n    title: '资源采集',\n    pic_url: 'https://i.52112.com/icon/jpg/256/20201124/100287/4322096.jpg',\n    url: 'hiker://search?s=' + title + '&rule=资源网采集.dz',\n    col_type: 'icon_small_4',\n});\nd.push({\n    title: 'APP影视',\n    pic_url: 'https://i.52112.com/icon/jpg/256/20201124/100287/4322096.jpg',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    col_type: 'icon_small_4',\n});\nd.push({\n    title: '青豆',\n    pic_url: 'https://i.52112.com/icon/jpg/256/20200831/90128/3898775.jpg',\n   url: 'hiker://search?s=' + title + '&rule=青豆',\ncol_type: 'icon_small_4',\n});\n\n//折叠\nfunction setTabs(tabs, vari) {\n        d.push({\n            title: '‘‘线路’’',\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('折叠');if(conf=='关'){putVar({key:'折叠', value:'开'});}else{putVar({key:'折叠', value:'关'})};refreshPage(false);'#noHistory#hiker://empty';'toast://已切换折叠状态'`,\n            col_type: 'text_center_1'\n        })\nif (getVar('折叠') == '开'||getVar('折叠') == '') {\n        var title = '';\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"hiker://empty@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage();'toast://成功更换线路！'\";\n            d.push({\n                title: tabs[i] + (getVar(vari, '0') == i ? '✅' : ''),\n                url: url,\n                col_type: tabs.length > 3 ? 'text_4' : 'text_3'\n            })\n        }\n        d.push({\n            col_type: 'line_blank'\n        })\n    }\n}\n    function setLists(lists, index) {\n        d.push({\n            title: '‘‘选集’’',\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'#noHistory#hiker://empty';'toast://已切换排序'`,\n            col_type: 'text_center_1'\n        })\n        var list = lists[index];\n\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_4' : 'text_3'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_4' : 'text_3'\n                });\n            }\n        }\n    }\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\neval(fetch('hiker://files/rules/timik/zywcj.js'));chapter();","title":"资源网采集","author":"timik","version":2,"type":"video","url":"hiker://files/rules/timik/zywcj.txt","col_type":"movie_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/rules/timik/zywcj.js'));zywhm();","searchFind":"js:\neval(fetch('hiker://files/rules/timik/zywcj.js'));zywsea();","search_url":"hiker://$$$?wd=**&pg=1&ac=list$$$fypage","group":"③视频","detail_col_type":"movie_1","detail_find_rule":"js:\neval(fetch('hiker://files/rules/timik/zywcj.js',{}));\nTWEJ();","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\neval(fetch('hiker://files/rules/timik/zywcj.js'));zywerj();","ua":"mobile","preRule":"function uprulefile() {\n    try {\n        var ruletxt = fetch('https://gitlab.com/timiking/HikerRules/-/raw/master/zywcj/zywcj.txt', {});\n        var rulejs = fetch('https://gitlab.com/timiking/HikerRules/-/raw/master/zywcj/zywcj.js', {});\n    } catch (e) {\n        rulejs = \"\";\n        ruletxt = \"\";\n    }\n    if (rulejs.search(/lazyRule/) != -1) {\n        writeFile(\"hiker://files/rules/timik/zywcj.js\", rulejs);\n        writeFile(\"hiker://files/rules/timik/zywcj.txt\", ruletxt);\n    } else {\n        setError('规则文件获取失败，可能网络有问题。')\n    };\n};\n\n//检测是否有规则与JS文件\nif (fileExist(\"hiker://files/rules/timik/zywcj.js\") && fileExist(\"hiker://files/rules/timik/zywcj.txt\")) {\n    //执行预处理\n    var lac = fetch('hiker://files/rules/timik/zywcj.js');\n    if (lac.search(/lazyRule/) != -1) {\n        eval(lac);\n    } else {\n        //如果本地文件不对将尝试自修复\n        eval(fetch('hiker://files/rules/timik/zywcj.js'));\n        zywpre();\n    };\n} else {\n    uprulefile();\n    //执行预处理\n    eval(fetch('hiker://files/rules/timik/zywcj.js'));\n    zywpre();\n};","pages":"[]","proxy":"","icon":"#ff62a6fb"},{"last_chapter_rule":"","title":"福利兔","author":"Killer","version":0,"type":"picture","url":"https://www.fulitu.cc/page/fypage/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".row&&div.item;\nh2&&Text;\nimg&&data-original;\nspan&&Text;\na&&href.js:$(input).lazyRule(()=>eval(JSON.parse(fetch(\"hiker://page/Picture?rule=\"+getVar('name'))).rule))","searchFind":"","search_url":"","group":"④beauty","detail_col_type":"movie_1","detail_find_rule":"js:\nvar html = fetch(input,{});\nvar picshowArr = [];\nvar list = parseDomForArray(html,\".content&&img\");\nfor(let i =0;i<list.length;i++) picshowArr.push(parseDom(list[i],\"img&&data-original\"));\nreturn \"pics://\"+picshowArr.join(\"&&\");","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putVar('name',MY_RULE.title)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"图片\",\"path\":\"Picture\",\"rule\":\"var html = fetch(input,{});\\nvar picshowArr = [];\\nvar list = parseDomForArray(html,\\\".content&&img\\\");\\nfor(let i =0;i<list.length;i++) picshowArr.push(parseDom(list[i],\\\"img&&data-original\\\"));\\n \\\"pics://\\\"+picshowArr.join(\\\"&&\\\");\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"香蕉视频","author":"Timk","version":0,"type":"other","url":"http://ios.bxguwen.com/vod/listing-fyclass-0-0-0-0-0-0-0-0-fypage","col_type":"movie_2","class_name":"全部&自拍&制服&少女&辣妹&女同&素人&角色&动漫&人气&重口&经典","class_url":"0&4&5&6&7&8&9&10&11&12&13&14","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar json=JSON.parse(getResCode());\nvar res={};\nvar d=[];\nfor(var i=0;i<json.data.vodrows.length;i++){\nvar j = json.data.vodrows[i];\nvar r = {};\n    r.pic_url = j.coverpic;\n    r.title = j.title;\n   // r.desc = j.tags[0];\n    r.url = 'http://ios.bxguwen.com' + j.play_url +\n    '@lazyRule=.js:JSON.parse(fetch(input,{})).data.httpurl';\n    d.push(r);\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","group":"⑥敦伦","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"仙女库","author":"Timik","version":0,"type":"picture","url":"http://www.xiannvku.cc/pic/list-id-fyAll-fypage.html","col_type":"movie_3","class_name":"大陆&日韩","class_url":"1&2","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar h = getCode();\nvar res = {};\nvar list = pdfa(h,'.boxs&&li');\nfor(let j in list){\n  d.push({\n\ttitle:pdfh(list[j],'.p_title&&a&&Text').replace(/\\[.*?\\]/g,''),\n\turl:pdfh(list[j],'.p_title&&a&&href'),\n\tdesc:pdfh(list[j],'p,1&&Text').split('：')[1].trim(),\n\tpic_url:pdfh(list[j],'img&&src')\n  })\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","group":"⑥美图","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar pics = [];\n\ntry {\n    var list_rule = '.content&&img';\n    var pic_rule = \"img&&src\";\n    var title_rule = \"h1&&Text\";\n    var num_rule = \"#pages&&a,-2&&Text\";\n    var next_url_rule = MY_URL.replace(\"1.html\",\"\") + \"{page}.html\";\n    var charset = \"utf-8\";\n    var user_agent = 'Windows';\n    var num = parseDomForHtml(html, num_rule);\n    //log({num:num});\n    let htmlArr = [];\n    htmlArr.push({ url: MY_URL, options: { headers: { 'User-Agent': user_agent,'content-type':'application/json; charset='+charset } } });\n    for (i = 2; i <= num; i++) {\n        var next_url = next_url_rule.replace(\"{page}\",i);\n        //log({next_url:next_url});\n        htmlArr.push({ url: next_url, options: { headers: { 'User-Agent': user_agent ,'content-type':'application/json; charset='+charset } } });\n    }\n    htmlArr = batchFetch(htmlArr);\n    var title = parseDomForHtml(htmlArr[0], title_rule);\n    //log({title:title});\n    putVar('title', title);\n    htmlArr.forEach(x => {\n        if(list_rule==''){\n            var pic = parseDomForHtml(x, pic_rule)\n            //log({pic:pic});\n            pics.push(pic);\n        }else {\n            var list = parseDomForArray(x, list_rule)\n        //log({list:list})\n        for (var key in list) {\n            var pic = parseDomForHtml(list[key], pic_rule)\n            //log({pic:pic});\n            pics.push(pic);\n        }\n        }\n    });\n    for (x in pics) {\n        d.push({\n            pic_url: pics[x],\n            url: pics[x],\n            col_type: \"pic_3\"\n        });\n    }\n    putVar('pics', pics);\n    d.unshift({\n\t  title:title + \"(\"+pics.length+\"P)\",\n\t  col_type: 'text_center_1', extra: { lineVisible: false }\n\t});\n    d.push({\n        title: '下载全部图片',\n        url: $(' 是否下载全部图片').confirm(_ => {\n            var picsStr = getVar('pics')\n            var titleStr = getVar('title');\n            var jsonObj = JSON.parse(picsStr);//转换为json对象\n            var pics = [];\n            for (var i = 0; i < jsonObj.length; i++) {\n                var s = jsonObj[i];\n                log({ p: s });\n                var file = s.split(\".\");\n                var len = file.length\n                var suffix = file[len - 1];\n                if (!fileExist('hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix)) {\n                    saveImage(s, 'hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix);\n                }\n            }\n            return 'toast://下载成功';\n        }),\n        col_type: 'text_center_1', extra: { lineVisible: false }\n    });\n\n} catch (error) {\n    log({ error: error });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/ke/9.png"},{"last_chapter_rule":"","title":"秀人美女","author":"Timik","version":1,"type":"picture","url":"https://www.xrmnw.cc/fyclass/indexfypage.html[firstPage=https://www.xrmnw.cc/fyclass/]","col_type":"movie_3","class_name":"秀人网&模范学院&魅妍社&美媛馆&爱蜜社&兔几盟&尤物馆&优星馆&蜜桃社&嗲囡囡&影私荟&顽味生活&星乐园&花の颜&御女郎&薄荷叶&尤蜜荟&糖果画报&模特联盟&猫萌榜&花漾&星颜社&画语界","class_url":"XiuRen&MFStar&MiStar&MyGirl&Imiss&BoLoli&YouWu&Uxing&MiiTao&FeiLin&WingS&Taste&LeYuan&HuaYan&DKGirl&MintYe&YouMi&Candy&MTMeng&Micat&HuaYang&XingYan&XiaoYu","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".update_area_lists&&li;.meta-title&&Text.js:input.replace(/\\[.*?\\]/,'');img&&src;.postlist-imagenum&&Text;a&&href","searchFind":".list&&.sousuo;h2&&Text;;;h2&&a&&href","search_url":"https://www.xrmnw.cc/plus/search/index.asp?keyword=**&searchtype=title&p=fypage","group":"⑥美图","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar pics = [];\nvar host = 'https://www.xrmnw.cc';\ntry {\n    var list_rule = '.content&&img';\n    var pic_rule = \"img&&src\";\n    var title_rule = \"h1&&Text\";\n    var num_rule = \".page&&a,-2&&Text\";\n    var next_url_rule = MY_URL.replace(\".html\",\"\") + \"_{page}.html\";\n    var charset = \"utf-8\";\n    var user_agent = 'Windows';\n    var num = parseDomForHtml(html, num_rule);\n    //log({num:num});\n    let htmlArr = [];\n    htmlArr.push({ url: MY_URL, options: { headers: { 'User-Agent': user_agent,'content-type':'application/json; charset='+charset } } });\n    for (i = 2; i <= num; i++) {\n        var next_url = next_url_rule.replace(\"{page}\",i);\n        //log({next_url:next_url});\n        htmlArr.push({ url: next_url, options: { headers: { 'User-Agent': user_agent ,'content-type':'application/json; charset='+charset } } });\n    }\n    htmlArr = batchFetch(htmlArr);\n    var title = parseDomForHtml(htmlArr[0], title_rule);\n    //log({title:title});\n    putVar('title', title);\n    htmlArr.forEach(x => {\n        if(list_rule==''){\n            var pic = parseDomForHtml(x, pic_rule)\n            log({pic:pic});\n            pics.push(pic);\n        }else {\n            var list = parseDomForArray(x, list_rule)\n        //log({list:list})\n        for (var key in list) {\n            var pic = host + parseDomForHtml(list[key], pic_rule)\n            //log({pic:pic});\n            pics.push(pic);\n        }\n        }\n    });\n    for (x in pics) {\n        d.push({\n            pic_url: pics[x],\n            url: pics[x],\n            col_type: \"card_pic_3\"\n        });\n    }\n    putVar('pics', pics);\n    d.unshift({\n\t  title:title + \"(\"+pics.length+\"p)\",\n\t  col_type: 'text_center_1', extra: { lineVisible: false }\n\t});\n    d.push({\n        title: '下载全部图片',\n        url: $(' 是否下载全部图片').confirm(_ => {\n            var picsStr = getVar('pics')\n            var titleStr = getVar('title');\n            var jsonObj = JSON.parse(picsStr);//转换为json对象\n            var pics = [];\n            for (var i = 0; i < jsonObj.length; i++) {\n                var s = jsonObj[i];\n                log({ p: s });\n                var file = s.split(\".\");\n                var len = file.length\n                var suffix = file[len - 1];\n                if (!fileExist('hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix)) {\n                    saveImage(s, 'hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix);\n                }\n            }\n\n            return 'toast://下载成功';\n        }),\n        col_type: 'text_center_1', extra: { lineVisible: false }\n    });\n\n} catch (error) {\n    log({ error: error });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/ke/9.png"},{"last_chapter_rule":"","title":"唯美女生","author":"Killer","version":4,"type":"picture","url":"https://www.vmgirls.com/wp-admin/admin-ajax.php?append=list-home&paged=fypage&action=ajax_load_posts&query=&page=home&tabcid=fyAll;post","col_type":"pic_2_card","class_name":"最新&热门&清新&摄影&糖水&清纯&青春","class_url":"-2.1&-1.0&25&17&61&18&12","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.col-6;a&&title;a&&style.js:input.match(/url\\('(.*?)'\\)/)[1]+\"@Referer=\";.flex-fill&&Text;a&&href.js:$(input).lazyRule(()=>eval(JSON.parse(fetch(\"hiker://page/Picture?rule=\"+getVar('name'))).rule))","searchFind":"","search_url":"","titleColor":"#ffff00ff","group":"⑦美女图","detail_col_type":"pic_1_full","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putVar('name',MY_RULE.title)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"图片\",\"path\":\"Picture\",\"rule\":\"var html = request(input,{});\\nvar picshowArr = [];\\nvar list = parseDomForArray(html,\\\".nc-light-gallery&&img\\\");\\n//log(list);\\nfor(let i =0;i<list.length;i++) picshowArr.push(parseDom(list[i],\\\"img&&src\\\"));\\n\\\"pics://\\\"+picshowArr.join(\\\"&&\\\");\"}]","icon":""},{"last_chapter_rule":"","title":"悦读","author":"Joe&&小棉袄🌞","version":17,"type":"read","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require(\"hiker://page/home\")","searchFind":"js:\nvar d = [];\nlet kw = getParam(\"kw\")\nsetResult([{\n    title: \"点击开始聚搜\",\n    url: \"hiker://page/ju?p=fypage&kw=\" + kw\n}])\nsetResult(d);","search_url":"hiker://empty?kw=**","group":"⑧阅读","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"text_1\",\"name\":\"源目录\",\"path\":\"source\",\"rule\":\"js:\\nvar d = [];\\nvar m = MY_PARAMS.rules\\nvar baseurl = m.bookSourceUrl\\nif (m.ruleExplore.bookList) {\\n    var rule = m.ruleExplore\\n} else {\\n    var rule = m.ruleSearch\\n}\\nd.push({\\n    title: \\\"搜索\\\",\\n    desc: \\\"请输入搜索关键词\\\",\\n    url: $.toString(() => {\\n        putMyVar(\\\"kw\\\", input);\\n        return \\\"hiker://page/search?p=fypage&kw=\\\" + input\\n    }),\\n    col_type: \\\"input\\\",\\n    extra: {\\n        \\\"u\\\": baseurl + m.searchUrl,\\n        \\\"rules\\\": m,\\n        defaultValue: getMyVar(\\\"kw\\\", \\\"\\\"),\\n        bookSourceName: m.bookSourceName\\n    }\\n})\\nif (m.enabledExplore&&m.exploreUrl) {\\n    JSON.parse(m.exploreUrl).forEach(item => {\\n        d.push({\\n            title: item.title,\\n            col_type: item.style.layout_flexBasisPercent == 1 ? \\\"text_center_1\\\" : \\\"text_3\\\",\\n            url: item.url == \\\"\\\" ? \\\"hiker://empty\\\" : \\\"hiker://page/books?p=fypage\\\",\\n            extra: {\\n                \\\"all\\\": m,\\n                \\\"rules\\\": rule,\\n                \\\"u\\\": baseurl + item.url\\n            }\\n        })\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"主页\",\"path\":\"home\",\"rule\":\"var d = [];\\nif (fileExist(\\\"hiker://files/yuedu/list.json\\\") && JSON.parse(fetch(\\\"hiker://files/yuedu/list.json\\\")).urls.length != 0) {\\n    d.push({\\n        title: \\\"⚙️设置\\\",\\n        url: \\\"hiker://page/config\\\",\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    let data = JSON.parse(fetch(\\\"hiker://files/yuedu/list.json\\\"))\\n    data.urls.forEach(item => {\\n        d.push({\\n            title: item.name,\\n            url: $().lazyRule((i) => {\\n                putMyVar(\\\"tab\\\", i)\\n                refreshPage()\\n                return \\\"toast://切换成功\\\"\\n            }, item.name),\\n            col_type: \\\"scroll_button\\\"\\n        })\\n    })\\n    d.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(() => {\\n            putMyVar(\\\"kw\\\", input);\\n            return \\\"hiker://page/ju?p=fypage&kw=\\\" + input\\n        }),\\n        col_type: \\\"input\\\",\\n        desc: \\\"聚合搜索，请输入关键词\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"kw\\\", \\\"\\\")\\n        }\\n    });\\n    let list = JSON.parse(fetch(\\\"hiker://files/yuedu/\\\" + md5(getMyVar(\\\"tab\\\", data.urls[0].name)) + \\\".json\\\"))\\n    list.forEach(item => {\\n        let s = JSON.stringify(item)\\n        if (s.includes(\\\"<js>\\\") || s.includes(\\\"@js:\\\") || s.includes(\\\"$.\\\") || s.includes(\\\"🔞\\\")) {\\n            var url = \\\"toast://当前书源暂不支持\\\"\\n            return\\n        } else {\\n            var url = \\\"hiker://page/source?p=fypage\\\"\\n        }\\n        d.push({\\n            title: item.bookSourceName + `(${item.bookSourceGroup})`,\\n            col_type: \\\"text_2\\\",\\n            url: url,\\n            extra: {\\n                \\\"rules\\\": item\\n            }\\n        })\\n    })\\n} else {\\n    setResult([{\\n        title: \\\"你还没有书哦～～点我进入设置\\\",\\n        url: \\\"hiker://page/config\\\",\\n        col_type: \\\"text_center_1\\\"\\n    }])\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"列表\",\"path\":\"books\",\"rule\":\"js:\\nvar d = [];\\ntry {\\n    var m = MY_PARAMS.rules\\n    // 阅读=>视界\\n    var url = MY_PARAMS.u.replace(\\\"{{page}}\\\", MY_PAGE)\\n    var listrule = \\\"body&&\\\" + m.bookList.replace(/\\\\![0-9]/g, \\\"\\\").replace(\\\" \\\", \\\"&&\\\").split(\\\"||\\\")[0]\\n    if (m.author) {\\n        var author = m.author.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n    } else {\\n        var author = false\\n    }\\n    if (m.coverUrl) {\\n        var cover = m.coverUrl.replace(\\\"@\\\", \\\"&&\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n    } else {\\n        var cover = false\\n    }\\n    var name = m.name.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n        return a.replace(\\\".\\\", \\\",\\\")\\n    })\\n    var bookurl = m.bookUrl.replace(\\\"@\\\", \\\"&&\\\").replace(/\\\\.[0-9]/g, function(a) {\\n        return a.replace(\\\".\\\", \\\",\\\")\\n    })\\n    if (m.intro) {\\n        var intro = m.intro.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n    } else {\\n        var intro = false\\n    }\\n    MY_URL = url;\\n    var res = request(url)\\n    let list = pdfa(res, listrule)\\n    if (list.length > 0) {\\n        list.forEach(item => {\\n            d.push({\\n                col_type: (cover ? \\\"movie_1_vertical_pic\\\" : \\\"text_1\\\"),\\n                title: parseDomForHtml(item, name),\\n                img: (cover ? parseDom(item, cover) + \\\"@Referer=\\\" : \\\"hiker://empty\\\"),\\n                url: \\\"hiker://page/menu?url=\\\" + parseDom(item, bookurl) + \\\"#autoCache##immersiveTheme#\\\",\\n                desc: (author ? parseDomForHtml(item, author) : \\\"\\\") + \\\"\\\\n\\\" + (intro ? parseDomForHtml(item, intro) : \\\"\\\"),\\n                extra: {\\n                    \\\"bookName\\\": parseDomForHtml(item, name),\\n                    \\\"cover\\\": (cover ? parseDom(item, cover) + \\\"@Referer=\\\" : \\\"hiker://empty\\\"),\\n                    \\\"Toc\\\": MY_PARAMS.all.ruleToc,\\n                    \\\"content\\\": MY_PARAMS.all.ruleContent\\n                }\\n            })\\n        })\\n    } else {\\n        d.push({\\n            title: \\\"列表加载失败：\\\" + listrule,\\n            col_type: \\\"text_center_1\\\",\\n            url: \\\"hiker://empty\\\"\\n        })\\n    }\\n} catch (e) {\\n    d.push({\\n        title: \\\"加载失败：\\\" + e.message,\\n        col_type: \\\"text_center_1\\\",\\n        url: \\\"hiker://empty\\\"\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"text_center_1\",\"name\":\"设置\",\"path\":\"config\",\"rule\":\"js:\\nvar d = [];\\ntry {\\n    if (!fileExist(\\\"hiker://files/yuedu/list.json\\\")) {\\n        writeFile(\\\"hiker://files/yuedu/list.json\\\", '{\\\"urls\\\":[]}')\\n    }\\n    d.push({\\n        title: \\\"添加订阅\\\",\\n        url: $(\\\"\\\", \\\"订阅名称\\\").input(() => {\\n            return $(\\\"\\\", \\\"订阅链接\\\").input((name) => {\\n                let list = JSON.parse(fetch(\\\"hiker://files/yuedu/list.json\\\"))\\n                list.urls.push({\\n                    name: name,\\n                    url: input\\n                })\\n                writeFile(\\\"hiker://files/yuedu/list.json\\\", JSON.stringify(list))\\n                try {\\n                    var t = fetch(input)\\n                    JSON.parse(t)\\n                    writeFile(\\\"hiker://files/yuedu/\\\" + md5(name) + \\\".json\\\", t)\\n                    return \\\"toast://导入成功\\\"\\n                } catch (e) {\\n                    return \\\"toast://导入失败\\\"\\n                }\\n                refreshPage()\\n            }, input)\\n        })\\n    })\\n    let list = JSON.parse(fetch(\\\"hiker://files/yuedu/list.json\\\"))\\n    list.urls.forEach((item, i) => {\\n        d.push({\\n            title: item.name,\\n            desc: item.url,\\n            url: $([\\\"删除\\\", \\\"编辑名称\\\", \\\"编辑地址\\\", \\\"更新\\\"]).select((lis, i) => {\\n                var list = lis\\n                if (input == \\\"删除\\\") {\\n                    return $(\\\"确认删除？\\\").confirm((list, i) => {\\n                        deleteFile(\\\"hiker://files/yuedu/\\\" + md5(list.urls[i].name) + \\\".json\\\")\\n                        list.urls.splice(i, 1)\\n                        writeFile(\\\"hiker://files/yuedu/list.json\\\", JSON.stringify(list))                        \\n                        refreshPage()\\n                    }, list, i)\\n                } else if (input == \\\"编辑名称\\\") {\\n                    return $(\\\"\\\").input((list, i) => {\\n                        list.urls[i].name = input\\n                        writeFile(\\\"hiker://files/yuedu/list.json\\\", JSON.stringify(list))\\n                        refreshPage()\\n                    }, list, i)\\n                } else if (input == \\\"编辑地址\\\") {\\n                    return $(\\\"\\\").input((list, i) => {\\n                        list.urls[i].url = input\\n                        writeFile(\\\"hiker://files/yuedu/list.json\\\", JSON.stringify(list))\\n                        refreshPage()\\n                    }, list, i)\\n                } else {\\n                    try {\\n                        var t = fetch(list.urls[i].url)\\n                        JSON.parse(t)\\n                        writeFile(\\\"hiker://files/yuedu/\\\" + md5(list.urls[i].name) + \\\".json\\\", t)\\n                        refreshPage()\\n                        toast(\\\"更新成功\\\")\\n                    } catch (e) {\\n                        toast(\\\"更新失败\\\")\\n                    }\\n                }\\n            }, list, i),\\n            col_type: \\\"text_1\\\"\\n        })\\n    })\\n} catch (e) {\\n    d.push({\\n        title: \\\"错误：\\\" + e.message,\\n        col_type: \\\"text_center_1\\\",\\n        url: \\\"hiker://empty\\\"\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"text_1\",\"name\":\"目录\",\"path\":\"menu\",\"rule\":\"js:\\nvar d = [];\\nvar res = getResCode()\\nlet Toc = MY_PARAMS.Toc\\nlet {\\n    getArray,\\n    getText,\\n    getUrl0\\n} = $.require(\\\"hiker://page/converter\\\");\\ngetArray(res, Toc.chapterList).forEach(item => {\\n    //log(item);    \\n    var title = getText(item, Toc.chapterName)\\n    if (title != \\\"\\\") {\\n        d.push({\\n            title: title,\\n            url: \\\"hiker://page/content\\\",\\n            extra: {\\n                title: title,\\n                content: MY_PARAMS.content,\\n                url: getUrl0(item, Toc.chapterList, Toc.chapterUrl) + \\\"#autoPage##readTheme#\\\"\\n            }\\n        })\\n    }\\n})\\nvar cp = d.map(function(item) {\\n    return {\\n        \\\"title\\\": item.title,\\n        \\\"url\\\": item.extra.url.replace(\\\"#autoPage##readTheme#\\\", \\\"\\\")\\n    }\\n})\\nd.unshift({\\n    title: \\\"下载\\\",\\n    url: \\\"hiker://page/download.view#noRecordHistory##noRefresh##noHistory#?rule=本地资源管理\\\",\\n    col_type: \\\"text_center_1\\\",\\n    extra: {\\n        chapterList: cp,\\n        defaultView: \\\"1\\\",\\n        info: {\\n            bookName: MY_PARAMS.bookName,\\n            bookTopPic: MY_PARAMS.cover,\\n            ruleName: \\\"悦读\\\",\\n            parseCode: $.toString((MY_PARAMS) => {\\n                var res = request(input);\\n                var rule = MY_PARAMS.content;\\n                let r = rule.content.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n                    return a.replace(\\\".\\\", \\\",\\\")\\n                });\\n                let r1 = r.split(\\\"&&\\\");\\n                let r2 = r1.slice(0, r1.length - 1).join(\\\"&&\\\");\\n                let arr = pdfa(res, \\\"body&&\\\" + r2);\\n                //log(arr);\\n                var tt = \\\"\\\"\\n                for (let it of arr) {\\n                    it = it.replace(new RegExp(\\\"\\\\n\\\", \\\"g\\\"), \\\"--br--\\\");\\n                    //log(it);\\n                    var t = pdfh(it, \\\"Text\\\");\\n                    t = t.replace(new RegExp(\\\"--br--\\\", \\\"g\\\"), \\\"<br>\\\");\\n                    if (t == \\\"\\\") {\\n                        continue\\n                    }\\n                    let t2 = t.split(\\\"<br>\\\");\\n                    for (let it2 of t2) {\\n                        if (it2 == \\\"\\\" || it2.length == 1) {\\n                            continue\\n                        }\\n                        if (!it2.startsWith(\\\"　\\\") && !it2.startsWith(\\\"&nbsp;&nbsp;\\\")) {\\n                            it2 = \\\"&nbsp;&nbsp;&nbsp;&nbsp;\\\" + it2.trim();\\n                        }\\n                        if (rule.replaceRegex) {\\n                            it2 = it2.replace(new RegExp(rule.replaceRegex.replace(\\\"##\\\", \\\"\\\"), \\\"g\\\"), \\\"\\\")\\n                        }\\n                        if (it2 == \\\"\\\") {\\n                            continue\\n                        }\\n                        tt += it2 + \\\"\\\\n\\\"\\n                    }\\n                }\\n                return tt\\n            }, MY_PARAMS),\\n            type: \\\"novel\\\"\\n        }\\n    }\\n})\\nd.unshift({\\n    title: MY_PARAMS.bookName,\\n    img: MY_PARAMS.cover,\\n    url: MY_URL,\\n    col_type: \\\"movie_1_vertical_pic_blur\\\"\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"内容\",\"path\":\"content\",\"rule\":\"js:\\nvar d = [];\\nvar res = getResCode()\\nvar rule = MY_PARAMS.content\\nlet r = rule.content.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n    return a.replace(\\\".\\\", \\\",\\\")\\n});\\nlet r1 = r.split(\\\"&&\\\");\\nlet r2 = r1.slice(0, r1.length - 1).join(\\\"&&\\\");\\nlet arr = pdfa(res, \\\"body&&\\\" + r2);\\n//log(arr);\\nfor (let it of arr) {\\n    it = it.replace(new RegExp(\\\"\\\\n\\\", \\\"g\\\"), \\\"--br--\\\");\\n    //log(it);\\n    var t = pdfh(it, \\\"Text\\\");\\n    t = t.replace(new RegExp(\\\"--br--\\\", \\\"g\\\"), \\\"<br>\\\");\\n    if (t == \\\"\\\") {\\n        continue\\n    }\\n    let t2 = t.split(\\\"<br>\\\");\\n    for (let it2 of t2) {\\n        if (it2 == \\\"\\\" || it2.length == 1) {\\n            continue\\n        }\\n        if (!it2.startsWith(\\\"　\\\") && !it2.startsWith(\\\"&nbsp;&nbsp;\\\")) {\\n            it2 = \\\"&nbsp;&nbsp;&nbsp;&nbsp;\\\" + it2.trim();\\n        }\\n        if (rule.replaceRegex) {\\n            it2 = it2.replace(new RegExp(rule.replaceRegex.replace(\\\"##\\\", \\\"\\\"), \\\"g\\\"), \\\"\\\")\\n        }\\n        if (it2 == \\\"\\\" || it2 == \\\"&nbsp;&nbsp;&nbsp;&nbsp;\\\") {\\n            continue\\n        }\\n        d.push({\\n            title: it2,\\n            url: \\\"\\\",\\n            col_type: \\\"rich_text\\\",\\n            desc: \\\"\\\",\\n            pic_url: \\\"\\\"\\n        });\\n    }\\n}\\nd.unshift({\\n    title: \\\"<big>\\\" + MY_PARAMS.title + \\\"</big>\\\",\\n    col_type: \\\"rich_text\\\"\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"搜索\",\"path\":\"search\",\"rule\":\"js:\\nlet {\\n    search\\n} = $.require(\\\"hiker://page/ss\\\");\\nlet d = [];\\nlet kw = getParam(\\\"kw\\\");\\nlet s = kw;\\nsetPageTitle(\\\"搜索\\\" + kw + \\\" \\\" + MY_PARAMS.bookSourceName);\\nlet matchMust = getItem(\\\"mm\\\", \\\"0\\\");\\nlet tip = \\\"精确匹配：\\\" + (matchMust == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\");\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: tip,\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            setItem(\\\"mm\\\", getItem(\\\"mm\\\", \\\"0\\\") == \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage();\\n            return \\\"toast://OK\\\";\\n        }),\\n        col_type: \\\"text_1\\\",\\n    });\\n}\\nlet d2 = search(MY_PARAMS.rules, kw, MY_PAGE);\\nfor (let it of d2) {\\n    if (matchMust == \\\"0\\\" || (it.title && it.title.indexOf(kw) >= 0)) {\\n        it.title = it.title.includes(\\\"““””\\\") ? it.title : \\\"““””\\\" + it.title.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\")\\n        d.push(it);\\n    }\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"转换\",\"path\":\"converter\",\"rule\":\"$.exports = {\\n    getArray: (html, rule) => {\\n        let r1 = rule.split(\\\"!\\\")[0].split(\\\"||\\\");\\n        let arr = pdfa(html, \\\"body&&\\\" + r1[0].replace(\\\" \\\", \\\"&&\\\").replace(\\\"@\\\", \\\"&&\\\"));\\n        if (r1.length > 1) {\\n            let r2 = r1[1].split(\\\":\\\");\\n            let r3 = [];\\n            for (let it of r2) {\\n                try {\\n                    let i = parseInt(it);\\n                    if (isNaN(i)) {\\n                        continue;\\n                    }\\n                    r3.push(i);\\n                } catch (e) {}\\n            }\\n            let arr2 = [];\\n            for (let i = 0; i < arr.length; i++) {\\n                if (r3.indexOf(i) < 0) {\\n                    arr2.push(arr[i]);\\n                }\\n            }\\n            return arr2;\\n        }\\n        log(\\\"获取失败，失败定位：\\\" + r1[0].replace(\\\" \\\", \\\"&&\\\").replace(\\\"@\\\", \\\"&&\\\"))\\n        return arr;\\n    },\\n    getText: (html, rule) => {\\n        var ru = rule.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        }).split(\\\"##\\\")\\n        if (ru.length == 1) {\\n            var r = pdfh(html, ru[0])\\n        } else {\\n            var r = pdfh(html, ru[0]).replace(new RegExp(ru[1], \\\"g\\\"), \\\"\\\")\\n        }\\n        if (r == \\\"\\\") {\\n            log(\\\"返回为空，可能是定位失败：\\\" + rule.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n                return a.replace(\\\".\\\", \\\",\\\")\\n            }).split(\\\"##\\\")[0])\\n        }\\n        return r\\n    },\\n    getUrl0: (html, parentRule, rule) => {\\n        if (parentRule != null) {\\n            parentRule = parentRule.split(\\\"!\\\")[0];\\n        }\\n        let p = parentRule != null && parentRule[parentRule.length - 1] == \\\"a\\\" ? \\\"a&&\\\" : \\\"\\\";\\n        let r = pd(html, p + rule.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\");\\n        }).split(\\\"##\\\")[0].split(\\\"##\\\")[0]);\\n        if (r == \\\"\\\") {\\n            log(\\\"返回为空，可能是定位失败：\\\" + p + rule.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n                return a.replace(\\\".\\\", \\\",\\\");\\n            }).split(\\\"##\\\")[0])\\n        }\\n        return r\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"聚搜\",\"path\":\"ju\",\"rule\":\"js:\\nvar d = [];\\nlet {\\n    search,\\n    listRules\\n} = $.require(\\\"hiker://page/ss\\\");\\nlet {\\n    all,\\n    use,\\n    data\\n} = listRules(MY_PAGE);\\ndata = data || [];\\nlet s = getParam(\\\"kw\\\");\\nsetPageTitle(\\\"搜索\\\" + s);\\nlet matchMust = getItem(\\\"mm\\\", \\\"0\\\");\\nlet tip = \\\"搜索源：\\\" + use + \\\"/\\\" + all + \\\"  精确匹配：\\\" + (matchMust == \\\"1\\\" ? \\\"是\\\" : \\\"否\\\");\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: tip,\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            setItem(\\\"mm\\\", getItem(\\\"mm\\\", \\\"0\\\") == \\\"0\\\" ? \\\"1\\\" : \\\"0\\\");\\n            refreshPage();\\n            return \\\"toast://OK\\\";\\n        }),\\n        col_type: \\\"text_1\\\",\\n        extra: {\\n            id: \\\"yuedu-s-h\\\"\\n        }\\n    });\\n} else if (data.length > 0) {\\n    updateItem(\\\"yuedu-s-h\\\", {\\n        title: tip\\n    });\\n}\\nlet p = MY_PAGE;\\nlet pageid = \\\"yuedu-page\\\" + MY_PAGE;\\nif (data.length > 0) {\\n    d.push({\\n        title: \\\"加载第\\\" + MY_PAGE + \\\"页中，进度：1/\\\" + data.length,\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\",\\n        desc: \\\"\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            id: pageid\\n        }\\n    });\\n}\\nsetResult(d);\\nif (data.length > 0) {\\n    //多线程加载\\n    let tasks = data.map(it => {\\n        return {\\n            func: function(rule) {\\n                return search(rule, s, 1);\\n            },\\n            param: it,\\n            id: \\\"rule@\\\" + it.name\\n        }\\n    });\\n\\n    batchExecute(tasks, {\\n        func: function(param, id, error, result) {\\n            //log(\\\"listener: \\\" + (result || []).length)\\n            param.i = param.i + 1;\\n            if (result) {\\n                try {\\n                    for (let it of result) {\\n                        param.j = param.j + 1;\\n                        if (matchMust == \\\"1\\\") {\\n                            if (!it.title || !it.title.includes(s)) {\\n                                continue;\\n                            }\\n                        }\\n                        let extra = it.extra || {};\\n                        extra.id = \\\"__app\\\" + MY_PAGE + \\\"@\\\" + param.j;\\n                        extra.bookName = it.title\\n                        extra.cover = it.pic_url || it.img\\n                        addItemBefore(pageid, {\\n                            title: it.title.includes(\\\"““””\\\") ? it.title : \\\"““””\\\" + it.title.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\"),\\n                            desc: it.desc,\\n                            url: it.url,\\n                            pic_url: it.pic_url || it.img,\\n                            col_type: it.pic_url || it.img ? 'movie_1_vertical_pic' : \\\"text_1\\\",\\n                            extra: extra\\n                        })\\n                    }\\n                } catch (e) {}\\n\\n            }\\n            if (param.i >= param.all) {\\n                deleteItem(pageid)\\n            } else {\\n                updateItem({\\n                    title: \\\"加载第\\\" + MY_PAGE + \\\"页中，进度：\\\" + (param.i + 1) + \\\"/\\\" + param.all,\\n                    url: \\\"hiker://empty\\\",\\n                    col_type: \\\"text_center_1\\\",\\n                    desc: \\\"\\\",\\n                    pic_url: \\\"\\\",\\n                    extra: {\\n                        id: pageid\\n                    }\\n                })\\n            }\\n        },\\n        param: {\\n            all: data.length,\\n            i: 0,\\n            j: -1\\n        }\\n    });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"搜索辅助\",\"path\":\"ss\",\"rule\":\"$.exports = {\\n    search: (rule, kw, page) => {\\n        let d = [];\\n        let m = rule.ruleSearch\\n        // 阅读=>视界\\n        let u = rule.bookSourceUrl + rule.searchUrl;\\n        let url = u.replace(\\\"{{page}}\\\", page).replace(\\\"{{key}}\\\", kw)\\n        let listrule = \\\"body&&\\\" + m.bookList.replace(/![0-9]/g, \\\"\\\").replace(\\\" \\\", \\\"&&\\\").split(\\\"||\\\")[0]\\n        let author = m.author.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n        let cover = m.coverUrl.replace(\\\"@\\\", \\\"&&\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n        let name = m.name.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n        let bookurl = m.bookUrl.replace(\\\"@\\\", \\\"&&\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n        let intro = m.intro.replace(\\\"@\\\", \\\"&&\\\").replace(\\\"text\\\", \\\"Text\\\").replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        });\\n        //setPageTitle(\\\"搜索\\\" + getParam(\\\"kw\\\") + \\\" \\\" + MY_PARAMS.bookSourceName);\\n        //MY_URL = url;\\n        let res = request(url)\\n        let list = pdfa(res, listrule)\\n        list.forEach(item => {\\n            d.push({\\n                title: parseDomForHtml(item, name),\\n                img: parseDom(item, cover, url),\\n                url: \\\"hiker://page/menu?url=\\\" + parseDom(item, bookurl, url) + \\\"#autoCache##immersiveTheme#\\\",\\n                desc: rule.bookSourceName + \\\"\\\\n\\\" + parseDomForHtml(item, author) + \\\"\\\\n\\\" + parseDomForHtml(item, intro),\\n                extra: {\\n                    \\\"Toc\\\": rule.ruleToc,\\n                    \\\"content\\\": rule.ruleContent,\\n                    \\\"bookName\\\": parseDomForHtml(item, name),\\n                    \\\"cover\\\": parseDom(item, cover, url)\\n                }\\n            })\\n        });\\n        return d;\\n    },\\n    listRules: (page, rule) => {\\n        try {\\n            //并发数量\\n            let size = 20;\\n            let data1 = JSON.parse(fetch(\\\"hiker://files/yuedu/list.json\\\"))\\n            let list = JSON.parse(fetch(\\\"hiker://files/yuedu/\\\" + md5(getMyVar(\\\"tab\\\", data1.urls[0].name)) + \\\".json\\\"))\\n            let rules = [];\\n            list.forEach(item => {\\n                let s = JSON.stringify(item)\\n                if (s.includes(\\\"<js>\\\") || s.includes(\\\"@js:\\\") || s.includes(\\\"$.\\\") || s.includes(\\\"🔞\\\")) {\\n                    return\\n                } else {\\n                    rules.push(item);\\n                }\\n            });\\n            if (!page && !rule) {\\n                return rules.map(it => it.name);\\n            }\\n            if (rule != null) {\\n                return rules.filter(i => i.name == rule);\\n            }\\n            let start = (page - 1) * size;\\n            if (rules.length < start + 1) {\\n                return [];\\n            }\\n            let len = size;\\n            if (rules.length < page * size) {\\n                len = rules.length - start\\n            }\\n            let all = rules.length;\\n            let use = (page - 1) * size + len;\\n            return {\\n                all: all,\\n                use: use,\\n                data: rules.slice(start, start + len)\\n            };\\n        } catch (e) {\\n            return {\\n                all: 0,\\n                use: 0,\\n                data: []\\n            }\\n        }\\n    }\\n}\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"蜂鸟图片模板-论坛模式","author":"发粪涂墙&名城梦&Killer","version":0,"type":"picture","url":"https://photo.fengniao.com/ajaxPhoto.php?action=getPhotoLists&fid=fyclass&sort=fysort&page=fypage","col_type":"pic_2","class_name":"人像&先·蜂&风光&旅行&新手&生态&纪实&生活&手机&拍妻&车模&其他","class_url":"101&595&125&15&27&16&20&115&22&492&403&999","area_name":"","area_url":"","sort_name":"最新&最热","year_name":"","sort_url":"0_1&1_1","year_url":"","find_rule":"js:\nsetResult(JSON.parse(getResCode()).content.map(\n    data => ({\n        title: data.title,\n        img: data.image,\n        url: 'https://m.fengniao.com/photo/pic_' + data.threadid + '.html'\n    })\n))","searchFind":"","search_url":"","group":"⑨图集","detail_col_type":"rich_text","detail_find_rule":"js:\nvar res={};\nvar d=[];\nvar html = request(MY_URL);\nvar title = pdfh(html,'h1&&Text');//标题需要改动\n\n//————以下不用改动，属于格式————//\nvar size=16;\n//图片显示模式 网页内嵌图片/0 默认海阔显示图片/1\nif(getMyVar('fuliba.bigImg')=='') putMyVar('fuliba.bigImg','pic_1_full');\n\nlet viewPicArray = [{ pic_1_full:\"默认大图🌈\", pic_3:\"精美小图✨\"}];\nputMyVar('fuliba.imgMode',viewPicArray[0][getMyVar('fuliba.bigImg')]);\n\nvar picType = `@lazyRule=.js:putMyVar('fuliba.bigImg',getMyVar('fuliba.bigImg')!=='pic_3'?'pic_3':'pic_1_full');refreshPage();'toast://已切换图片类型';\">`;\n\nfunction getNewText(text,css){\n   return '<'+css+'>' + text + '</'+css+'>';\n}\n\nfunction getBigText(text) {\n    return '<big>' + text + '</big>';\n}\nfunction getSmallText(text) {\n    return '<small>' + text + '</small>';\n}\nfunction getStrongText(text) {\n    return '<strong>' + text + '</strong>';\n}\nfunction getTitleText(text) {\n    return getStrongText(text);\n}\nfunction getColorText(text, color) {\n    return '<font color=\"' + color + '\">' + text + '</font>';\n}\nfunction getGreyText(text) {\n    return getColorText(text, 'grey');\n}\nfunction getAuthorText(text) {\n    return getColorText(text, userColor);\n}\nfunction getCodeText(text) {\n    return '<code>' + text + '</code>';\n}\nfunction getBlockquoteText(text) {\n    return '<blockquote>' + text + '</blockquote>'\n}\nfunction getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\nfunction getCommentMeta(html) {\n    return getSmallText(html);\n}\nlet headerTitle = getBigText(getStrongText(title)) + ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文👀]'));\nd.push({title: headerTitle,});\nd.push({col_type:'line'});\nd.push({col_type:\"rich_text\",title:`<small>当前模式为：<a href=\"hiker://empty`+picType+getMyVar('fuliba.imgMode')+\"</a></small>\"});\n//————以上不用改动，属于格式————//\n\n\n/*\n//————以下为翻页图片模板————//\nvar i = parseDomForHtml(html, \".page&&Text\").split(\"/\")[1];\nvar tp = (html, arr) => {\n    parseDomForArray(html, \".ck-parent-div&&img\").map(item => {\n        arr.push(parseDomForHtml(item, \"img&&src\"));\n    });\n}\nvar htmlUrl = [];\nfor (let p = 2; p <=i; p++) {\n    htmlUrl.push({\n        url: MY_URL+ \"/\" + p + \".html\",\n        \n    });\n}\nvar htmlArr = batchFetch(htmlUrl);\nvar imglist = [];\ntp(html, imglist);\nhtmlArr.map(item =>tp(item, imglist));\n//————以上为翻页图片模板————//\n*/\n\n//————以下为不翻页图片模板————//\nvar imglist = parseDomForArray(html, 'body&&img').map(\n                img => (parseDomForHtml(img, 'img&&src'))\n            );\n//————以上为不翻页图片模板————//\n\n\n\n//————以下为图片显示样式————//\nfor (let k = 0; k < imglist.length; k++){\n    d.push({\n        pic_url:imglist[k],\n        url: imglist[k],\n        col_type:getMyVar('fuliba.bigImg'),\n    });\n}\n\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","title":"小黄书","author":"Timik","version":1,"type":"picture","url":"https://xchina.pro/photos/kind-fyclass/fypage.html;get;UTF-8;{User-Agent@Windows}","col_type":"movie_3","class_name":"写真&人体","class_url":"1&2","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet arr = pdfa(getResCode(), \".list&&.item\");\n    for (let it of arr) {\n        d.push({\n            title: pdfh(it, \"img&&alt\").replace(/\\[.*\\]/,\"\"),\n\t\t       desc:pdfh(it,\"img&&alt\").split(\"]\")[0].replace(/\\[/,\"\"),\n            pic: pdfh(it, \"img&&src\"),\n            url: \"https://xchina.pro/\" + pdfh(it, \"a&&href\")\n        })\n    }\nsetResult(d);","searchFind":"","search_url":"","group":"⑩NSFW","detail_col_type":"pic_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar pics = [];\ntry {\n    //获取列表规则,为空则为单图片\n    var list_rule = '.photos&&img[alt]';\n    //获取图片规则，基于列表\n    var pic_rule = \".cr_only&&src\";\n    //详情页中的标题，用于下载文件名\n    var title_rule = \".no-scroll&&div&&div&&h1&&Text\";\n    //页数规则\n    var num_rule = \".pager&&div&&a,-2&&Text\";\n    //详情页下一页替换规则\n    var next_url_rule = MY_URL.replace(\".html\", \"\") + \"/{page}.html\";\n    //log({next_url_rule:next_url_rule});\n    //字符串编码\n    var charset = \"UTF-8\";\n    var user_agent = 'Windows';\n    //获取页数\n    var num = parseDomForHtml(html, num_rule);\n    // log({num:num});\n    let htmlArr = [];\n    htmlArr.push({ url: MY_URL, options: { headers: { 'User-Agent': user_agent, 'content-type': 'application/json; charset=' + charset } } });\n    for (i = 2; i <= num; i++) {\n        var next_url = next_url_rule.replace(\"{page}\", i);\n        // log({ next_url: next_url });\n        htmlArr.push({ url: next_url, options: { headers: { 'User-Agent': user_agent, 'content-type': 'application/json; charset=' + charset } } });\n    }\n    htmlArr = batchFetch(htmlArr);\n    var title = parseDomForHtml(htmlArr[0], title_rule);\n    //log({title:title});\n    putVar('title', title);\n    htmlArr.forEach(x => {\n        if (list_rule == '') {\n            var pic = parseDomForHtml(x, pic_rule)\n            // log({ pic: pic });\n            pics.push(pic);\n        } else {\n            var list = parseDomForArray(x, list_rule)\n            // log({ list: list })\n            for (var key in list) {\n                var pic = parseDomForHtml(list[key], pic_rule)\n                // log({ pic: pic });\n                pics.push(pic);\n            }\n        }\n    });\n    for (x in pics) {\n        d.push({\n            pic_url: pics[x],\n            url: pics[x].replace(\"_600x0\",\"\"),\n            col_type: \"pic_3\"\n        });\n    }\n    putVar('pics', pics);\n    d.unshift({\n        title: title + \"(\" + pics.length + \"P)\",\n        col_type: 'text_center_1', extra: { lineVisible: false }\n    });\n    d.push({\n        title: '下载全部图片',\n        url: $(' 是否下载全部图片').confirm(_ => {\n            var picsStr = getVar('pics')\n            var titleStr = getVar('title').replace(/[:./]/g,\"\");\n            var jsonObj = JSON.parse(picsStr);//转换为json对象\n            var pics = [];\n            for (var i = 0; i < jsonObj.length; i++) {\n                var s = jsonObj[i];\n                log({ p: s });\n                var file = s.split(\".\");\n                var len = file.length\n                var suffix = file[len - 1];\n                if (!fileExist('hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix)) {\n                    saveImage(s, 'hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix);\n                }\n            }\n\n            return 'toast://下载成功';\n        }),\n        col_type: 'text_center_1', extra: { lineVisible: false }\n    });\n\n} catch (error) {\n    log({ error: error });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"pic_1_full","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"撸女吧","author":"Timik","version":0,"type":"picture","url":"https://www.97mm.cc/page_fypage.html[firstPage=https://www.97mm.cc/]","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".main&&article;h2&&Text;img&&src;;h2&&a&&href","searchFind":"","search_url":"","group":"⑩NSFW","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar pics = [];\ntry {\n    var list_rule = '';\n    var pic_rule = \".entry&&img&&src\";\n    var title_rule = \"h1&&Text\";\n    var num_rule = \"#dm-fy&&a,-2&&Text\";\n    var next_url_rule = MY_URL + \"?page={page}\";\n    var charset = \"UTF-8\";\n    var user_agent = 'Windows';\n    var num = parseDomForHtml(html, num_rule);\n    //log({num:num});\n    let htmlArr = [];\n    htmlArr.push({ url: MY_URL, options: { headers: { 'User-Agent': user_agent,'content-type':'application/json; charset='+charset } } });\n    for (i = 2; i <= num; i++) {\n        var next_url = next_url_rule.replace(\"{page}\",i);\n        //log({next_url:next_url});\n        htmlArr.push({ url: next_url, options: { headers: { 'User-Agent': user_agent ,'content-type':'application/json; charset='+charset } } });\n    }\n    htmlArr = batchFetch(htmlArr);\n    var title = parseDomForHtml(htmlArr[0], title_rule);\n    //log({title:title});\n    putVar('title', title);\n    htmlArr.forEach(x => {\n        if(list_rule==''){\n            var pic = parseDomForHtml(x, pic_rule)\n            //log({pic:pic});\n            pics.push(pic);\n        }else {\n            var list = parseDomForArray(x, list_rule)\n        //log({list:list})\n        for (var key in list) {\n            var pic = parseDomForHtml(list[key], pic_rule)\n            //log({pic:pic});\n            pics.push(pic);\n        }\n        }\n    });\n    for (x in pics) {\n        d.push({\n            pic_url: pics[x],\n            url: pics[x],\n            col_type: \"pic_3\"\n        });\n    }\n    putVar('pics', pics);\n    d.unshift({\n\t  title:title + \"(\"+pics.length+\"p)\",\n\t  col_type: 'text_center_1', extra: { lineVisible: false }\n\t});\n    d.push({\n        title: '下载全部图片',\n        url: $(' 是否下载全部图片').confirm(_ => {\n            var picsStr = getVar('pics')\n            var titleStr = getVar('title');\n            var jsonObj = JSON.parse(picsStr);//转换为json对象\n            var pics = [];\n            for (var i = 0; i < jsonObj.length; i++) {\n                var s = jsonObj[i];\n                log({ p: s });\n                var file = s.split(\".\");\n                var len = file.length\n                var suffix = file[len - 1];\n                if (!fileExist('hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix)) {\n                    saveImage(s, 'hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix);\n                }\n            }\n\n            return 'toast://下载成功';\n        }),\n        col_type: 'text_center_1', extra: { lineVisible: false }\n    });\n\n} catch (error) {\n    log({ error: error });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"凸凹吧","author":"Timik","version":0,"type":"picture","url":"https://www.63mm.cc/page_fypage.html[firstPage=https://www.63mm.cc/]","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".main&&article;h2&&Text;img&&src;;h2&&a&&href","searchFind":"","search_url":"","group":"⑩NSFW","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar pics = [];\ntry {\n    var list_rule = '';\n    var pic_rule = \".entry&&img&&src\";\n    var title_rule = \"h1&&Text\";\n    var num_rule = \"#dm-fy&&a,-2&&Text\";\n    var next_url_rule = MY_URL + \"?page={page}\";\n    var charset = \"UTF-8\";\n    var user_agent = 'Windows';\n    var num = parseDomForHtml(html, num_rule);\n    //log({num:num});\n    let htmlArr = [];\n    htmlArr.push({ url: MY_URL, options: { headers: { 'User-Agent': user_agent,'content-type':'application/json; charset='+charset } } });\n    for (i = 2; i <= num; i++) {\n        var next_url = next_url_rule.replace(\"{page}\",i);\n        //log({next_url:next_url});\n        htmlArr.push({ url: next_url, options: { headers: { 'User-Agent': user_agent ,'content-type':'application/json; charset='+charset } } });\n    }\n    htmlArr = batchFetch(htmlArr);\n    var title = parseDomForHtml(htmlArr[0], title_rule);\n    //log({title:title});\n    putVar('title', title);\n    htmlArr.forEach(x => {\n        if(list_rule==''){\n            var pic = parseDomForHtml(x, pic_rule)\n            //log({pic:pic});\n            pics.push(pic);\n        }else {\n            var list = parseDomForArray(x, list_rule)\n        //log({list:list})\n        for (var key in list) {\n            var pic = parseDomForHtml(list[key], pic_rule)\n            //log({pic:pic});\n            pics.push(pic);\n        }\n        }\n    });\n    for (x in pics) {\n        d.push({\n            pic_url: pics[x],\n            url: pics[x],\n            col_type: \"pic_3\"\n        });\n    }\n    putVar('pics', pics);\n    d.unshift({\n\t  title:title + \"(\"+pics.length+\"p)\",\n\t  col_type: 'text_center_1', extra: { lineVisible: false }\n\t});\n    d.push({\n        title: '下载全部图片',\n        url: $(' 是否下载全部图片').confirm(_ => {\n            var picsStr = getVar('pics')\n            var titleStr = getVar('title');\n            var jsonObj = JSON.parse(picsStr);//转换为json对象\n            var pics = [];\n            for (var i = 0; i < jsonObj.length; i++) {\n                var s = jsonObj[i];\n                log({ p: s });\n                var file = s.split(\".\");\n                var len = file.length\n                var suffix = file[len - 1];\n                if (!fileExist('hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix)) {\n                    saveImage(s, 'hiker://files/download/' + titleStr + '/' + (i + 1) + '.' + suffix);\n                }\n            }\n\n            return 'toast://下载成功';\n        }),\n        col_type: 'text_center_1', extra: { lineVisible: false }\n    });\n\n} catch (error) {\n    log({ error: error });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":""},{"title":"触站","author":"TyrantGenesis","version":1,"type":"picture","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/TyrantG/IMAGE/huashi6.js'))\nbaseParse()","searchFind":"js:\neval(fetch('hiker://files/TyrantG/IMAGE/huashi6.js'))\nsearchParse()","search_url":"https://rt.huashi6.com/front/works/search?index=fypage&title=**","group":"⑩TyrantG","detail_col_type":"movie_1","detail_find_rule":"js:\neval(fetch('hiker://files/TyrantG/IMAGE/huashi6.js'))\nsecParse()","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\neval(fetch('hiker://files/TyrantG/IMAGE/huashi6.js'))\nsecParse()","ua":"pc","preRule":"eval(fetch(\"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/God_Plan.js\"))\nhuashi6()","pages":"[]","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/chuzhan.png"},{"last_chapter_rule":"","title":"瓜果视频","author":"Timik","version":1,"type":"video","url":"hiker://empty$$$fyclass","col_type":"icon_5","class_name":"向日葵&丝瓜&草莓","class_url":"https://api.xrkapi004.xyz&https://api.sgapi004.xyz&https://api.cmapi004.xyz","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nputVar('host', getHome(MY_URL.split('$$$')[1]));\nvar res = {};\nvar list = JSON.parse(fetch(getVar('host') + '/api/videosort/')).rescont;\nvar items = list.map(data => ({\n    title: data.name,\n    url: getVar('host') + '/api/videosort/' + data.id + '?orderby=new&page=fypage',\n    pic_url: \"data:image/jpeg;base64,\" + fetch(data.icobase64.url).slice(32)\n}));\nres.data = items;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar html = fetch(getVar('host')+'/api/videosort/0?page=fypage&serach='+MY_URL.split('$$$')[1]+'&uuid=674d0eb77a5ff867&device=0');\nvar list = JSON.parse(html).rescont.data;\nvar items = list.map(data => ({\n    title: data.title,\n    url: getVar('host')+'/api/videoplay/'+data.id+'?uuid=724b9c9fdd5e7b6f@lazyRule=.js:JSON.parse(fetch(input)).rescont.videopath',\n    desc: (data.authername?'演员：'+data.authername:'') + (data.playtimes?'时长：'+data.playtimes:''),\n    pic_url: \"data:image/jpeg;base64,/9j/\"+fetch(data.coverbase64.url).split('/9j/')[1]\n}));\nres.data = items;\nsetHomeResult(res);","search_url":"hiker://empty$$$**","group":"⑩福利","detail_col_type":"movie_2","detail_find_rule":"js:\nvar res = {};\nvar list = JSON.parse(getResCode()).rescont.data;\nvar items = list.map(data => ({\n    title: data.title,\n    url: getVar('host')+'/api/videoplay/'+data.id+'?uuid=724b9c9fdd5e7b6f@lazyRule=.js:JSON.parse(fetch(input)).rescont.videopath',\n    desc: (data.authername?'演员：'+data.authername:'') + (data.playtimes?'时长：'+data.playtimes:''),\n    pic_url: \"data:image/jpeg;base64,/9j/\"+fetch(data.coverbase64.url).split('/9j/')[1]\n}));\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"js:\nvar list = base64Decode(fetch('https://api.notelive.cn/render/guaguoho',{})).split('#');\n//log({list:list})\nvar urls = [];\nfor (let k in list){\n  urls.push({\n\turl:list[k].match(/htt.*/)\n  })\n}\nurls.shift()\nputVar('urls',urls)\nlog(getVar(\"urls\"))","pages":"[]","proxy":"","icon":"https://wimg.ruan8.com/uploadimg/ico/2019/0722/1563790568190843.jpg"},{"last_chapter_rule":"","title":"瓜果","author":"","version":0,"type":"other","url":"http://fyclass/api/videosort/","col_type":"icon_round_small_4","class_name":"丝瓜&向日葵&草莓&秋葵","class_url":"api.sgbe2.xyz&api.xrkapi004.xyz&api.cmapi004.xyz&api.klpqk.com","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: var json = JSON.parse(getResCode());\nvar res = {};\nvar list = json.rescont;\nvar items = list.map(data => ({\n    title: data.name,\n    url: 'http://api.sgbe2.xyz:80/api/videosort/'+data.id+'?orderby=new&page=fypage',\n    //desc: data.tagName,\n    pic_url: data.icopath\n}));\nres.data = items;\nsetHomeResult(res);","searchFind":"","search_url":"","group":"⑩秋名山","detail_col_type":"movie_2","detail_find_rule":"js: var json = JSON.parse(getResCode());\nvar res = {};\nvar list = json.rescont.data;\nvar items = list.map(data => ({\n    title: data.title,\n    url: 'http://api.sgbe2.xyz/api/videoplay/'+data.id+'?uuid=74a11c4f-95e6-469c-961c-98ce38ec9bbf'+'@lazyRule=Text.js:JSON.parse(input).rescont.videopath',\n    desc: data.authername,\n    pic_url: data.coverpath\n}));\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"秋葵&榴莲","author":"","version":0,"type":"other","url":"http://fyclass/api/videosort/","col_type":"icon_round_small_4","class_name":"秋葵&榴莲","class_url":"api.klpqk.com&yxsp1.com","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: var json = JSON.parse(getResCode());\nvar res = {};\nvar list = json.rescont;\nvar items = list.map(data => ({\n    title: data.name,\n    url: MY_URL+data.id+'?orderby=new&page=fypage',\n    //desc: data.tagName,\n    pic_url: data.icopath\n}));\nres.data = items;\nsetHomeResult(res);","searchFind":"js:\nvar json = JSON.parse(getResCode());\nvar res = {};\nvar list = json.rescont.data;\nvar lazy = `@lazyRule=Text.js:var u= JSON.parse(input).rescont.videopath;; if(u.search(\"yuanqiplay\")!=-1){ \"https://yxsp1.com/api/index.m3u8?m3u8=\"+u; }else{ u; }`;\nvar items = list.map(data => ({\n    title: data.title,\n    url:MY_URL.split('api/')[0]+'api/videoplay/'+data.id +'?uuid=a2c3d1d461980d00' + lazy,\n    desc: data.authername,\n    pic_url: data.coverpath\n}));\nres.data = items;\nsetHomeResult(res);","search_url":"http:/liulianshipin100.com/api/videosort/0?serach=**&page=fypage","group":"⑩秋名山","detail_col_type":"movie_2","detail_find_rule":"js:\nvar json = JSON.parse(getResCode());\nvar res = {};\nvar list = json.rescont.data;\nvar lazy = `@lazyRule=Text.js:var u= JSON.parse(input).rescont.videopath;; if(u.search(\"yuanqiplay\")!=-1){ \"https://yxsp1.com/api/index.m3u8?m3u8=\"+u; }else{ u; }`;\n\nvar items = list.map(data => ({\n    title: data.title,\n    url: MY_HOME + '/api/videoplay/' + data.id + '?uuid=a2c3d1d461980d00' +lazy,\n    desc: data.authername,\n    pic_url: data.coverpath\n}));\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"title":"斗鱼直播","author":"TyrantGenesis","version":5,"type":"live","url":"https://m.douyu.com","col_type":"movie_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch(\"hiker://files/rules/TyrantG/LIVE/douyu.js\"))\nbaseParse()","searchFind":"js:\neval(fetch(\"hiker://files/rules/TyrantG/LIVE/douyu.js\"))\nsearchParse()","search_url":"https://m.douyu.com/api/search/anchor?limit=10&offset=fypage@-1@*10@&sk=**;POST","titleColor":"#bdb2ff","group":"⑳TyrantG","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"const BASE_URL = \"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/\"\nconst LOCAL_URL = \"hiker://files/rules/TyrantG/\"\n\n/* Base Function */\nconst godWriteFile = (path) => {\n  if (Array.isArray(path))\n\tpath.forEach(item => writeFile(LOCAL_URL+item, fetch(BASE_URL+item)))\n  else\n\twriteFile(LOCAL_URL+path, fetch(BASE_URL+path))\n}\n\nconst godSaveFile = (path) => {\n  if (Array.isArray(path))\n\tpath.forEach(item => {\n\t  if (! fileExist(LOCAL_URL+item)) writeFile(LOCAL_URL+item, fetch(BASE_URL+item))\n\t})\n  else\n\tif (! fileExist(LOCAL_URL+path)) writeFile(LOCAL_URL+path, fetch(BASE_URL+path))\n  \n}\n/* Base Function */\n\ngodWriteFile([\"LIVE/douyu.js\", \"public/douyu-tabs.html\"])\ngodSaveFile([\"public/css/element-ui.css\", \"public/js/vue.min.js\", \"public/js/element-ui.js\"])","pages":"[]","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/douyu.png"},{"title":"虎牙直播","author":"TyrantGenesis","version":3,"type":"live","url":"https://m.huya.com","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/TyrantG/LIVE/huya.js'))\nbaseParse()","searchFind":"js:\neval(fetch('hiker://files/TyrantG/LIVE/huya.js'))\nsearchParse()","search_url":"https://search.cdn.huya.com/?m=Search&do=getSearchContent&plt=m&q=**&uid=0&app=11&v=1&typ=-5&start=fypage@-1@*12@&rows=12","titleColor":"#bdb2ff","group":"⑳TyrantG","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"eval(fetch(\"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/God_Plan.js\"))\nhuya_live()","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/huya.png"},{"last_chapter_rule":"","title":"企鹅体育","author":"TyrantGenesis","version":1,"type":"live","url":"hiker://empty?page=fypage&_=_","col_type":"scroll_button","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/TyrantG/LIVE/qie_sport.js'))\nbaseParse()","searchFind":"js:\neval(fetch('hiker://files/TyrantG/LIVE/qie_sport.js'))\nsearchParse()","search_url":"https://live.qq.com/api/info/search?keyword=**&from=room;post","group":"⑳TyrantG","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"eval(fetch(\"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/God_Plan.js\"))\nqie_sport_live()","pages":"[]","icon":"https://live.qq.com/nextStatic/img/head/logo.png"},{"title":"YouTube","author":"TyrantGenesis","version":2,"type":"video","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/TyrantG/TEST/youtube.js'))\nbaseParse()","searchFind":"","search_url":"","titleColor":"#bdb2ff","group":"⑳TyrantG","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"eval(fetch(\"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/God_Plan.js\"))\nyoutube()","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/youtube.png"},{"title":"站酷","author":"TyrantGenesis","version":2,"type":"picture","url":"https://www.zcool.com.cn/p1/discover/list##fypage","col_type":"","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/TyrantG/IMAGE/zcool.js'))\nbaseParse()","searchFind":"js:\neval(fetch('hiker://files/TyrantG/IMAGE/zcool.js'))\nsearchParse()","search_url":"https://www.zcool.com.cn/p1/search/content?JsonBody={\"word\":\"**\",\"cate_id\":0,\"recommend_level\":0,\"time\":0,\"has_video\":0,\"city_id\":0,\"college_id\":0,\"sort\":5,\"ps\":20,\"column\":4,\"p\":\"fypage\"};POST","titleColor":"#bdb2ff","group":"⑳TyrantG","detail_col_type":"","detail_find_rule":"","sdetail_col_type":"","sdetail_find_rule":"","ua":"pc","preRule":"eval(fetch(\"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/God_Plan.js\"))\nzcool()","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/zcool.jpg"},{"title":"稀土掘金","author":"TyrantGenesis","version":1,"type":"news","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\naddListener(\"onClose\", $.toString(() => {\n    clearItem('cate_level_1_id')\n    clearItem('cate_level_2_id')\n    clearItem('cursor')\n}))\nconst d = []\nconst EMPTY = 'hiker://empty'\nconst CATE_URL              = 'https://juejin.cn'\nconst SEC_CARE_API          = 'https://api.juejin.cn/recommend_api/v1/tag/recommend_tag_list'\nconst CONTENT_LIST_API      = 'https://api.juejin.cn/recommend_api/v1/article/recommend_cate_tag_feed'\nconst CURRENT_PAGE          = MY_URL.split('##')[1].toString()\nconst CATE_LEVEL_1_ID       = getItem('cate_level_1_id', '')\nconst CATE_LEVEL_2_ID       = getItem('cate_level_2_id', '')\n\nconst CATE_LEVEL_1_ARRAY    = pdfa(fetch(CATE_URL, {headers: {\"User-Agent\": PC_UA}}), '.view-nav&&a')\n\nif (CURRENT_PAGE === '1') {\n    clearItem('cursor')\n    CATE_LEVEL_1_ARRAY.forEach(item => {\n        let id = pdfh(item, '.category-popover-box&&st:state') || ''\n        let title = pdfh(item, '.category-popover-box&&Text')\n        let url = pdfh(item, 'a&&href')\n\n        d.push({\n            title: id === CATE_LEVEL_1_ID ? '‘‘’’<strong><font color=\"red\">'+title+'</font></strong>' : title,\n            url: $(EMPTY).lazyRule(params => {\n                setItem('cursor', '0')\n                setItem('cate_level_1_id', params.id)\n                setItem('cate_level_2_id', '')\n                refreshPage(true)\n                return 'hiker://empty'\n            }, {\n                id: id\n            }),\n            col_type: 'scroll_button'\n        })\n    })\n    d.push({\n        col_type: \"blank_block\"\n    })\n\n    if (CATE_LEVEL_1_ID) {\n        d.push({\n            title: CATE_LEVEL_2_ID === '' ? '‘‘’’<strong><font color=\"red\">全部</font></strong>' : '全部',\n            url: $(EMPTY).lazyRule(_ => {\n                setItem('cate_level_2_id', '')\n                refreshPage(true)\n                return 'hiker://empty'\n            }),\n            col_type: 'scroll_button'\n        })\n        let data = {\"cate_id\": CATE_LEVEL_1_ID}\n\n        let headers = {\n            \"User-Agent\": PC_UA,\n            \"Content-Type\": 'application/json',\n            \"Referer\": 'https://juejin.cn/',\n        }\n        const CATE_LEVEL_2_JSON = fetch(SEC_CARE_API, {headers: headers, method:'POST', body: JSON.stringify(data)})\n        const CATE_LEVEL_2_RESULT = JSON.parse(CATE_LEVEL_2_JSON)\n\n        if (CATE_LEVEL_2_RESULT && CATE_LEVEL_2_RESULT.err_no === 0) {\n            const CATE_LEVEL_2_ARRAY = CATE_LEVEL_2_RESULT.data\n            CATE_LEVEL_2_ARRAY.forEach(item => {\n                d.push({\n                    title: CATE_LEVEL_2_ID === item.tag_id.toString() ? '‘‘’’<strong><font color=\"'+item.color+'\">'+item.tag_name+'</font></strong>' : item.tag_name,\n                    url: $(EMPTY).lazyRule(params => {\n                        setItem('cursor', '0')\n                        setItem('cate_level_2_id', params.id)\n                        refreshPage(true)\n                        return 'hiker://empty'\n                    }, {\n                        id: item.tag_id\n                    }),\n                    col_type: 'scroll_button'\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            })\n        }\n    }\n}\n\nconst CURSOR = getItem('cursor', '0')\ndata = {\n    cate_id: \"6809637769959178254\",\n    cursor: CURSOR,\n    id_type: 2,\n    limit: 20,\n    sort_type: 200,\n}\nif (CATE_LEVEL_1_ID) data.cate_id = CATE_LEVEL_1_ID\nif (CATE_LEVEL_2_ID) data.tag_id = CATE_LEVEL_2_ID\n\nheaders = {\n    \"User-Agent\": PC_UA,\n    \"Content-Type\": 'application/json',\n    \"Referer\": 'https://juejin.cn/',\n}\nconst LIST_JSON = fetch(CONTENT_LIST_API, {headers: headers, method:'POST', body: JSON.stringify(data)})\nconst LIST_RESULT = JSON.parse(LIST_JSON)\n\nif (LIST_RESULT && LIST_RESULT.err_no === 0) {\n    setItem('cursor', LIST_RESULT.cursor)\n    log('Data')\n    log(getItem('cursor', '0'))\n    const LIST = LIST_RESULT.data\n    LIST.forEach(item => {\n        d.push({\n            title: item.article_info.title,\n            desc: item.article_info.brief_content,\n            pic_url: item.article_info.cover_image,\n            url: $(CATE_URL+'/post/'+item.article_id).rule(_ => {\n                const d = []\n\n                d.push({\n                    desc: '100% && float',\n                    url: MY_URL,\n                    col_type:\"x5_webview_single\"\n                })\n\n                setResult(d)\n            }),\n            col_type: 'movie_1'\n        })\n    })\n}\n\nsetResult(d)\n","searchFind":"","search_url":"","group":"⑳TyrantG","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/juejin.png"},{"last_chapter_rule":"","title":"呀哩呀哩","author":"","version":0,"type":"other","url":"https://www.yaliyali.cc/f/fyAll--------fypage---.html","col_type":"movie_3","class_name":"国产&日韩","class_url":"1&2","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&a;.module-poster-item-title&&Text;.lazyload&&data-original;.module-item-note&&Text;.module-item&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://www.yaliyali.cc/vodsearch/**----------fypage---.html","titleColor":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"acgNya","author":"","version":0,"type":"other","url":"http://www.acgnya.com/vodshow/fyclass--------fypage---/","col_type":"movie_3","class_name":"连载&完结&特摄&国漫","class_url":"6&7&13&20","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".module-items&&a;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"http://www.acgnya.com/vodsearch/**----------fypage---/","titleColor":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"组件展示优化版","author":"🏅京梦","version":0,"type":"other","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\nd.push({\n    title: '点击即复制',\n    col_type: 'text_center_1',\n    url: 'toast://点我干嘛？',\n    desc:'相应的样式名',\n})\nd.push({\n    title: 'text_1',\n    col_type: 'text_1',\n    url: 'copy://text_1',\n    desc:'',\n})\nd.push({\n    title: 'text_2',\n    col_type: 'text_2',\n    url: 'copy://text_2',\n    desc:'',\n})\nd.push({\n    title: 'text_3',\n    col_type: 'text_3',\n    url: 'copy://text_3',\n    desc:'',\n})\nd.push({\n    title: 'text_4',\n    col_type: 'text_4',\n    url: 'copy://text_4',\n    desc:'',\n})\nd.push({\n    title: 'text_5',\n    col_type: 'text_5',\n    url: 'copy://text_5',\n    desc:'',\n})\nd.push({\n    title: 'text_center_1',\n    col_type: 'text_center_1',\n    url: 'copy://text_center_1',\n    desc:'',\n})\nd.push({\n    title: 'long_text',\n    col_type: 'long_text',\n    url: 'copy://long_text',\n    desc:'',\n})\nd.push({\n    title: 'rich_text',\n    col_type: 'rich_text',\n    url: 'copy://rich_text',\n    desc:'',\n})\nd.push({\n    title: 'text_icon',\n    col_type: 'text_icon',\n    url: 'copy://text_icon',\n    desc:'',\n})\nd.push({\n    title: 'movie_1',\n    col_type: 'movie_1',\n    url: 'copy://movie_1',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'movie_1_left_pic',\n    col_type: 'movie_1_left_pic',\n    url: 'copy://movie_1_left_pic',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'movie_1_vertical_pic',\n    col_type: 'movie_1_vertical_pic',\n    url: 'copy://movie_1_vertical_pic',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'movie_1_vertical_pic_blur',\n    col_type: 'movie_1_vertical_pic_blur',\n    url: 'copy://movie_1_vertical_pic_blur',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'movie_2',\n    col_type: 'movie_2',\n    url: 'copy://movie_2',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'movie_3',\n    col_type: 'movie_3',\n    url: 'copy://movie_3',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'movie_3_marquee',\n    col_type: 'movie_3_marquee',\n    url: 'copy://movie_3_marquee',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'pic_1',\n    col_type: 'pic_1',\n    url: 'copy://pic_1',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'pic_1_full',\n    col_type: 'pic_1_full',\n    url: 'copy://pic_1_full',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'pic_1_card',\n    col_type: 'pic_1_card',\n    url: 'copy://pic_1_card',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'pic_2',\n    col_type: 'pic_2',\n    url: 'copy://pic_2',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'pic_2_card',\n    col_type: 'pic_2_card',\n    url: 'copy://pic_2_card',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'pic_3',\n    col_type: 'pic_3',\n    url: 'copy://pic_3',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'pic_3_square',\n    col_type: 'pic_3_square',\n    url: 'copy://pic_3_square',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_1_search',\n    col_type: 'icon_1_search',\n    url: 'copy://icon_1_search',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_2',\n    col_type: 'icon_2',\n    url: 'copy://icon_2',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_2_round',\n    col_type: 'icon_2_round',\n    url: 'copy://icon_2_round',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_small_3',\n    col_type: 'icon_small_3',\n    url: 'copy://icon_small_3',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\n\nd.push({\n    title: 'icon_4',\n    col_type: 'icon_4',\n    url: 'copy://icon_4',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_4_card',\n    col_type: 'icon_4_card',\n    url: 'copy://icon_4_card',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_small_4',\n    col_type: 'icon_small_4',\n    url: 'copy://icon_small_4',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_round_4',\n    col_type: 'icon_round_4',\n    url: 'copy://icon_round_4',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'icon_round_small_4',\n    col_type: 'icon_round_small_4',\n    url: 'copy://icon_round_small_4',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\n\nd.push({\n    title: 'icon_5',\n    col_type: 'icon_5',\n    url: 'copy://icon_5',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'input',\n    col_type: 'input',\n    url: 'copy://input',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'avatar',\n    col_type: 'avatar',\n    url: 'copy://avatar',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'x5_webview_single',\n    col_type: 'text_center_1',\n    url: 'copy://x5_webview_single',\n    desc:'',\n})\nd.push({\n    title: 'flex_button',\n    col_type: 'flex_button',\n    url: 'copy://flex_button',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'scroll_button',\n    col_type: 'scroll_button',\n    url: 'copy://scroll_button',\n    desc:'',\n})\nd.push({\n    title: 'line',\n    col_type: 'line',\n    url: 'copy://line',\n    desc:'',\n})\nd.push({\n    title: 'line_blank',\n    col_type: 'line_blank',\n    url: 'copy://line_blank',\n    desc:'',\n})\nd.push({\n    title: 'blank_block',\n    col_type: 'blank_block',\n    url: 'copy://blank_block',\n    desc:'',\n})\nd.push({\n    title: 'big_blank_block',\n    col_type: 'big_blank_block',\n    url: 'copy://big_blank_block',\n    desc:'',\n})\nd.push({\n    title: 'big_big_blank_block',\n    col_type: 'big_big_blank_block',\n    url: 'copy://big_big_blank_block',\n    desc:'',\n})\nd.push({\n    title: 'card_pic_1',\n    col_type: 'card_pic_1',\n    url: 'copy://card_pic_1',\n    img: 'hiker://images/home_pic1',\n    desc:'0',\n})\nd.push({\n    title: 'card_pic_2',\n    col_type: 'card_pic_2',\n    url: 'copy://card_pic_2',\n    img: 'hiker://images/home_pic1',\n    desc:'0',\n})\nd.push({\n    title: 'card_pic_2_2',\n    col_type: 'card_pic_2_2',\n    url: 'copy://card_pic_2_2',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'card_pic_2_2_left',\n    col_type: 'card_pic_2_2_left',\n    url: 'copy://card_pic_2_2_left',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nd.push({\n    title: 'card_pic_3',\n    col_type: 'card_pic_3',\n    url: 'copy://card_pic_3',\n    img: 'hiker://images/home_pic1',\n    desc:'',\n})\nsetResult(d);","searchFind":"","search_url":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"铜钟🎶","author":"缘分","version":1,"type":"other","url":"fyclass","col_type":"card_pic_3","class_name":"首页&热歌榜","class_url":"https://tonzhon.com/api/playlist_recommendations&https://tonzhon.com/secondhand_api/hot_list/netease","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nd.push({\n    title: \"🔎\",\n    url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n    desc: \"输入歌手、歌曲名搜索\",\n    col_type: \"input\",\n});\nif (MY_URL.search(/playlist/) > -1) {\n    var list = JSON.parse(getResCode()).playlists\n    for (var j in list) {\n        d.push({\n            title: list[j].name,\n            pic_url: 'https://static.tonzhon.com/' + list[j].coverUrl,\n            url: 'https://tonzhon.com/api/playlists/' + list[j].id\n        });\n    }\n} else {\n    var lazy = $('').lazyRule(() => {\n        log(input);\n        var url = request(input).match(/data.*?\"(http.*?)\"/)[1]\n        return url\n    })\n    var lists = pd(getResCode(), 'Text').match(/originalId[\\s\\S]*?false/g) //.split(\"false\")\n    for (var j in lists) {\n        d.push({\n            title: pdfh(lists[j], 'Text').match(/originalId[\\s\\S]*?name\\\":\\\"(.*?)\\\"/)[1],\n            url: 'https://tonzhon.com/secondhand_api/song_source/netease/' + pd(lists[j], 'Text').match(/originalId\\\":(\\d+)/)[1] + lazy,\n            col_type: 'text_1'\n        });\n    }\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar d = [];\n//MY_URL= getResCode().split(\"#\")[1]\nvar list = JSON.parse(getResCode()).result.songs;\nfor (var i in list) {\n    var play = 'http://music.163.com/api/song/detail/?id=' + list[i].id + '&ids=%5B' + list[i].id + '%5D';\n    var pic = request(play).match(/blurPicUrl\":\"(http.*?jpg)/)[1]\n    d.push({\n        title: list[i].name + '-『' + list[i].artists[0].name + \"』\",\n        img: pic,\n        url: \"https://music.163.com/song/media/outer/url?id=\" + list[i].id + \".mp3\"\n    })\n}\nsetResult(d);","search_url":"http://music.cyrilstudio.top/search?keywords=**","group":"其它","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\n    try {\n        try {\n            input = 'https://tonzhon.com/secondhand_api/song_source/netease/' + input\n            var url = request(input).match(/data.*?\"(http.*?)\"/)[1]\n            return url\n        } catch (e) {\n\n            input = input.replace('netease', 'qq')\n\n            var url = request(input, {\n                headers: {\n                    'Referer': MY_URL\n                }\n            }).match(/data[\\s\\S]*?\"(http.*?)\"/)[1]\n\n            return url\n        }\n    } catch (e) {\n        var id = input.split(\"qq/\")[1]\n        var url = 'http://antiserver.kuwo.cn/anti.s?type=convert_url&rid=' + id + '&format=mp3&response=url'\n        url = request(url, {})\n        return url\n    }\n})\ntry {\n    var list = pd(getResCode(), 'Text').split(\"songs\\\":\")[1].split(\",\\\"playingTimes\")[0].split(\"platform\")\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'Text').match(/originalId[\\s\\S]*?name\\\":\\\"(.*?)\\\"/)[1],\n            url: pd(list[j], 'Text').match(/originalId\\\":\\\"(.*?)\\\"/)[1] + lazy,\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://tonzhon.com/favicon.ico"},{"last_chapter_rule":"","title":"TVbox工具","author":"Joe","version":0,"type":"tool","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar configIp = fileExist(\"hiker://files/tvbox/config.json\") ? request(\"hiker://files/tvbox/config.json\") : \"0.0.0.0:9978\"\nd.push({\n    title: '当前ip:' + configIp,\n    img: MY_RULE.icon,\n    col_type: 'avatar',\n    url: $(configIp, \"输入ip\").input(() => {\n        if (input.match(`(.*).(.*).(.*).(.*):(.*)`)) {\n            writeFile(\"hiker://files/tvbox/config.json\", input)\n            refreshPage()\n            toast(\"切换成功\")\n        } else {\n            toast(\"格式错误！\")\n        }\n    })\n})\nsetResult(d);","searchFind":"","search_url":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"api\",\"path\":\"api\",\"rule\":\"$.exports.推送tvbox = function(vod) {\\n    var configIp = fileExist(\\\"hiker://files/tvbox/config.json\\\") ? request(\\\"hiker://files/tvbox/config.json\\\") : \\\"0.0.0.0:9978\\\"\\n    var url = \\\"\\\"\\n    if (vod.vod) {\\n        vod.vod.forEach((ite, i) => {\\n            ite.urls.forEach(item => {\\n                var a = item.name + \\\"$\\\" + item.url.replace(/\\\\&/g, \\\"＆＆\\\").replace(\\\"#isVideo=true#\\\", \\\"\\\")\\n                url += a + (vod.headers ? \\\"|\\\" + Object.entries(vod.headers).map(function(item) {\\n                    return item[0] + \\\"=\\\" + item[1]\\n                }).join(\\\"&\\\") : \\\"\\\") + \\\"#\\\"\\n            })\\n            if (i + 1 != vod.vod.length) {\\n                url += \\\"$$$\\\"\\n            }\\n        })\\n        var from = vod.vod.map(function(item) {\\n            return item.name\\n        })\\n    } else {\\n        log(\\\"失败\\\")\\n        return false\\n    }\\n    let xyq_detail = {\\n        name: vod.name ? vod.name : \\\"\\\",\\n        pic: vod.pic ? vod.pic.split('@')[0] : \\\"https://lanmeiguojiang.com/tubiao/movie/59.svg\\\",\\n        content: vod.content ? vod.content : \\\"暂无简介\\\",\\n        url: url,\\n        from: from.join(\\\"$$$\\\"),\\n        actor: vod.actor ? vod.actor : \\\"\\\",\\n        director: vod.director ? vod.director : \\\"\\\",\\n    }\\n    log(xyq_detail)\\n    let state = post(\\\"http://\\\" + configIp + '/action', {\\n        body: {\\n            do: 'push',\\n            url: JSON.stringify(xyq_detail)\\n        },\\n        headers: {\\n            'User-Agent': MOBILE_UA\\n        },\\n    });\\n    log(state)\\n    if (state === 'ok') {\\n        return true\\n    } else {\\n        return false\\n    }\\n}\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/more/337.png"},{"last_chapter_rule":"","title":"短视频·Q","author":"发粪涂墙","version":0,"type":"video","url":"http://www.sharenice.net/fyAll?page=fypage[firstPage=http://www.sharenice.net/fyAll]","col_type":"movie_3","class_name":"首页&抖音&快手&微视&火山&场库&体育","class_url":"&douyin&kuaishou&weishi&huoshan&changku&tags/t-5L2T6IKy.html","area_name":"美拍&秒拍&全民&梨&好兔&美女&正能量","area_url":"meipai&miaopai&quanmin&lishipin&haotu&tags/t-576O5aWz.html&tags/t-5q2j6IO96YeP.html","sort_name":"生活&音乐&美食&明星&动漫&影视&时尚","year_name":"搞笑&社会&游戏&娱乐&旅游&萌系","sort_url":"tags/t-55Sf5rS7.html&tags/t-6Z+z5LmQ.html&tags/t-576O6aOf.html&tags/t-5piO5pif.html&tags/t-5Yqo5ryr.html&tags/t-5b2x6KeG.html&tags/t-5pe25bCa.html","year_url":"tags/t-5pCe56yR.html&tags/t-56S+5Lya.html&tags/t-5ri45oiP.html&tags/t-5aix5LmQ.html&tags/t-5peF5ri4.html&tags/t-6JCM57O7.html","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&li:has(img)');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       pic_url: parseDom(list[j], 'img&&data-original'),\r\n       url: parseDom(list[j],'a&&href')+ `@lazyRule=.js:parseDomForHtml(request('http://m.sharenice.net/mobile'+input.split('net')[1]),'.video-play-box&&video&&src')+'#.mp4'`\r\n  });\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"","search_url":"","group":"其它","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":""},{"firstHeader":"sort","last_chapter_rule":"","title":"道长仓库Pro","author":"@LoyDgIk","version":156,"type":"tool","url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n    const {\n        getApi,\n        color,\n        small,\n        getFile,\n        htmlTag,\n        api,\n        md\n    } = $.require(\"hiker://page/utiliy\");\n\nconst lsg=$.require(\"hiker://page/localStorage?rule=道长仓库Pro\");\nlet classA = getVar(\"Warehouse.class\", \"0\");\nlet listUrl = getApi(\"usersUrl\") + classA,\n    myUrl = getApi(\"devSelf\");\n// myUrl = getApi(\"rulesAllUrl\");\nputVar(\"Warehouse.filter\", \"\");\nvar noWait=true;//无需重试\nvar timeout=500;\nvar tmp_headers={\n    timeout:timeout\n};\ntry{\n    var userList = JSON.parse(request(listUrl,tmp_headers)).result,\n        nowCon = 0,\n        ruleCount = JSON.parse(request(getApi(\"ruleCountUrl\"),tmp_headers)).result;\n}catch(e){\n    noWait=false;\n    setResult([{\n        title:'仓库同时访问量过大或网络差，繁忙中...\\n请耐心等待稍后再试',\n        desc:'点击尝试重新访问',\n        col_type:'text_1',\n        url:$('#noLoading#').lazyRule(()=>{\n            refreshPage(false);\n            return 'toast://已刷新'\n        })\n    }]);\n}\nif(noWait){\n    let data = [];\n    let classTab = [\n        [\"上次活跃\", \"0\"],\n        [\"规则数\", \"1\"],\n        [\"注册时间\", \"-1\"]\n    ]\n    for (let item of classTab) {\n        data.push({\n            title: item[1] === classA ? \"““\" + item[0] + \"””\" : item[0],\n            url: $(\"#noLoading#\").lazyRule((key) => {\n                putVar(\"Warehouse.class\", key);\n                refreshPage(false);\n                return \"hiker://empty\";\n            }, item[1]),\n            col_type: \"scroll_button\"\n        });\n    }\n    data.push({\n        title: \"全部规则\",\n        url: \"hiker://page/AllPublicRule?url=hiker://empty#fypage#noHistory##noRecordHistory#\",\n        col_type: \"scroll_button\"\n    });\n    data.push({\n        title: \"刷新依赖\",\n        url: $('#noLoading#').lazyRule((jsonUrl)=>{\n            jsonUrl = jsonUrl+'2505';\n            // log(jsonUrl);\n            let text = request(jsonUrl);\n            if(!/version/.test(text)){\n                return 'toast://服务器正忙,请稍候再试...'\n            }\n            deleteCache(jsonUrl);\n            try {\n                require(jsonUrl);\n                confirm({title:'刷新成功提示',content:\"toast://已刷新,当前版本信息:\\n\"+JSON.stringify(version)})\n                return 'hiker://empty'\n            }catch (e) {\n                return 'toast://糟糕，本地缓存插件被清除了，但是服务器通讯失败!'\n            }\n        },getApi(\"importUrl\")),\n        col_type: \"scroll_button\"\n    });\n    data.push({\n        title:\"通免:\"+color(lsg.getItem(\"通免\",\"X5\"),\"#ff7000\"),\n        col_type:\"scroll_button\",\n        url:$('#noLoading#').lazyRule(()=>{\n            const lsg=$.require(\"hiker://page/localStorage?rule=道长仓库Pro\");\n            if(lsg.getItem(\"通免\",\"X5\")==\"X5\"){\n                lsg.setItem(\"通免\",\"WEB\");\n            }else{\n                lsg.setItem(\"通免\",\"X5\");\n            }\n            refreshPage(false);\n            return \"toast://已设置仓库通免模式为:\"+lsg.getItem(\"通免\");\n        })\n    });\n    data.push({\n        title:\"排序:\"+color(getItem(\"排序\",\"时间优先\"),\"#ff7000\"),\n        col_type:\"scroll_button\",\n        url:$('#noLoading#').lazyRule((color)=>{\n            let next=getItem(\"排序\",\"时间优先\")==='时间优先'?'新版优先':'时间优先';\n            setItem(\"排序\",next);\n            //refreshPage(false);\n            updateItem('sort',{title:\"排序:\"+color(next,\"#ff7000\")})\n            return \"toast://已设置仓库开发者规则排序模式为:\"+next;\n        },color),\n        extra:{\n            id:'sort'\n        }\n    });\n    data.push({\n        title:color(\"仓库公告\",\"#ff7000\"),\n        col_type:\"scroll_button\",\n        url:$('hiker://empty#noHistory##noRecordHistory#').rule((md)=>{\n            require(md);\n            let d = [];\n            let 仓库公告=\"暂无公告\";\n            try{\n                仓库公告=fetch('https://gitcode.net/qq_32394351/dr/-/raw/master/js/仓库公告.md');\n            }catch(e){}\n            if(仓库公告) {\n                d.push({\n                    title: marked.parse(仓库公告),\n                    col_type: 'rich_text',\n                    url: 'hiker://empty'\n                });\n            }\n            setResult(d);\n        },md)\n    });\n\n    data.push({\n        title:color(\"升级仓库\",\"#15ab21\"),\n        col_type:\"scroll_button\",\n        url:$('#noLoading#').lazyRule(()=>{\n            const {getApi} = $.require(\"hiker://page/utiliy\");\n            let ruleHead = '海阔视界首页频道规则【道长仓库Pro】￥home_rule_url￥';\n            let url = getApi('importUrl')+\"1094\";\n            let importUrl = 'rule://'+base64Encode(ruleHead+url);\n            return importUrl\n        })\n    });\n\n    data.push({\n        title:color(\"升级$扩展\",\"#15ab21\"),\n        col_type:\"scroll_button\",\n        url:$('#noLoading#').lazyRule(()=>{\n            const {getApi} = $.require(\"hiker://page/utiliy\");\n            let ruleHead = '海阔视界，网页插件￥js_url￥$hiker@';\n            let url = getApi('importUrl')+\"5111\";\n            let importUrl = 'rule://'+base64Encode(ruleHead+url);\n            return importUrl\n        })\n    });\n\n    addListener('onClose', $.toString(() => {\n        clearVar(\"Warehouse.class\");\n    }));\n    let {\n        username,\n        password,\n        user\n    } = getFile();\n\n    let is_login = false;\n    let is_manager = false;\n    if (username !== void 0 && password !== void 0) {\n        myUrl += '?qq=' + username + '&password=' + password;\n        let code_str = request(myUrl,tmp_headers);\n        let code = {};\n        try{\n            code=JSON.parse(code_str);\n        }catch(e){}\n        if (code.status === 0&& code.result.active) {\n            is_login = true;\n            if(code.result.is_manager){\n                is_manager = true;\n                putVar('house.is_manager','真');\n                putVar('house.username',username);\n                putVar('house.password',password);\n            }else{\n                putVar('house.is_manager','');\n                clearVar('house.username');\n                clearVar('house.password');\n            }\n        }\n    }\n    if (is_login) {\n        try{\n            nowCon = JSON.parse(request(getApi(\"nowConUrl\"),tmp_headers)).result;\n        }catch(e){\n            nowCon='未知';\n        }\n        let devData = userList.find(item => item.qq === username);\n        data.push({\n            title: '<strong><span style=\"color: #ff7000\">' + devData.name + '</span></strong>&nbsp;&nbsp;&nbsp;&nbsp;<small><u>规则管理 ></u></small>',\n            pic_url: devData.avatar,\n            col_type: \"avatar\",\n            url: \"hiker://page/devManage#noHistory##noRecordHistory#\",\n            extra: {\n                //username: username,\n                //password: password,\n                dev: devData\n            }\n        });\n        data.push({\n            col_type: 'text_1',\n            title: small(\"现有 \" + color(userList.length, \"#ff7000\") + \" 名开发者，\" + color(ruleCount[0], \"#ff7000\") + \" 条公开规则，\" + color(ruleCount[1], \"#ff7000\") + \" 条集芳阁规则。在线:\"+color(nowCon, \"#ff7000\")),\n            url: \"toast://喵喵喵?\",\n        });\n    } else {\n        data.push({\n            title: small(color(\"开发者登录\", \"#00BFFF\")),\n            col_type: 'text_center_1',\n            desc: small(\"现有\" + color(userList.length, \"#ff7000\") + \"名开发者，\" + color(ruleCount[0], \"#ff7000\") + \"条公开规则，\" + color(0, \"#ff7000\") + \"条集芳阁规则。\"),\n            url: \"hiker://page/devLogin\"\n        });\n    }\n    if (Array.isArray(user) && user.length === 2) {\n        let userlogin = request(api.dis_login, {\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n                \"params\": {\n                    \"qq\": user[0],\n                    \"auth_code\": user[1]\n                }\n            }),\n            method: 'POST',\n            timeout:timeout\n        });\n        userlogin = JSON.parse(userlogin).result;\n        if (userlogin.status === 0) {\n            userlogin = userlogin.result\n            data.push({\n                title: userlogin.name + \"&nbsp;&nbsp;\" + userlogin.qq + \"&nbsp;&nbsp;&nbsp;&nbsp;<small><u>更换账号 ></u></small>\",\n                col_type: 'avatar',\n                pic_url: userlogin.avatar_url,\n                url: \"hiker://page/Userregistration\"\n            });\n            data.splice(3,0,{\n                title: userlogin.has_reply?\"🆕回复\":\"🔔回复\",\n                url: \"hiker://page/MyReply?url=hiker://empty#fypage#noHistory##noRecordHistory#\",\n                col_type: \"scroll_button\",\n                extra:{\n                    auth_code:user[1],\n                    qq:user[0]\n                }\n            });\n        } else {\n            data.push({\n                title: userlogin.detail,\n                col_type: 'text_center_1',\n                desc: \"““””<small><u>重新获取验证码 ></u></small>\",\n                url: \"hiker://page/Userregistration\"\n            });\n        }\n    } else {\n        data.push({\n            title: \"评论登录/注册\",\n            col_type: 'text_center_1',\n            desc: \"\",\n            url: \"hiker://page/Userregistration\"\n        });\n    }\n    for (var item of userList) {\n        data.push({\n            title: item.name + \"(\" + item.rule_num + \")\",\n            desc: item.id + ':' + item.nick_name,\n            pic_url: item.avatar,\n            url: \"hiker://page/rules#noHistory#\",\n            extra: {\n                avatarUrl: item.avatar,\n                qq: item.qq,\n                id:item.id,\n                can_upload:item.can_upload\n            }\n        });\n    }\n\n    data.push({\n        col_type: 'long_text'\n    });\n    setResult(data);\n    let img = [\n        [\n            \"hiker://files/icon/赞.svg\", \"https://bafybeiaeetwbc3thoy22y5zd7al6rndeqbrbwhszqb6oitnf7a5zvsz5pe.ipfs.cf-ipfs.com/\"\n        ],\n        [\n            \"hiker://files/icon/踩.svg\", \"https://bafybeiehxynphaafe4mukacs7we4d6lrb35kppdiffjv4vwnsq22nfqnl4.ipfs.cf-ipfs.com/\"\n        ],\n        [\n            \"hiker://files/icon/评论.svg\", \"https://bafybeifhxi5rdnxq5xly7r4qdbwico2343smelxdqoytalguctgc2ojsdy.ipfs.cf-ipfs.com/\"\n        ]\n    ]\n    for (let item of img) {\n        if (!fileExist(item[0])) {\n            writeFile(item[0], request(item[1]));\n        }\n    }\n}","searchFind":"js:\nvar d = [];\nconst {\n    api,\n    getApi,\n    localRuleVer    \n} = $.require(\"hiker://page/utiliy\");\nvar html = request(getApi(\"search\") + \"?key=\" + MY_URL.replace(\"hiker://empty#\", \"\")); // 获取源码\nvar rule_list = JSON.parse(html).result;\nlet filter = getVar(\"Warehouse.filter\", \"\");\nif (filter !== \"\") {\n    rule_list = rule_list.filter(item => item.author === filter);\n}\nif (rule_list.length === 0) {\n    d.push({\n        title: '共搜索到' + rule_list.length + \"条记录\",\n        desc: '详情请找道长,qq 434857005',\n        url: \"hiker://empty\",\n        col_type: 'text_center_1'\n    });\n}\nlet homeList = JSON.parse(request(api.home));\n\nfor (let item of rule_list) {\n    //let lver=localRuleVer(homeList, item);\n    let label = \"\",\n        lver = -2;\n    if (item.data_type === \"home_rule_url\") {\n        lver = localRuleVer(homeList, item);\n        if (lver === -1) {\n            label = \"🆕\";\n        } else if (lver < item.ver) {\n            label = \"🆙\";\n        }\n    }\n    d.push({\n        title: label+item.name,\n        desc: item.type,\n        content: item.author/*+\"\\n本地版本:\"+lver+\"\\t\\t云端版本:\"+item.ver*/+ '\\n更新于:' + item.last_update,\n        url: \"hiker://page/ruleDetail#noHistory##noRecordHistory#\",\n        extra: {\n            lver: lver,\n            id: item.id\n        },\n        pic_url: item.pic_url\n    });\n\n}\n\nsetResult(d);","search_url":"hiker://empty#**","titleColor":"#ff228be6","group":"工具","detail_col_type":"text_1","detail_find_rule":"","sdetail_col_type":"text_1","sdetail_find_rule":"","ua":"mobile","preRule":"$.require('hiker://page/libs?rule=道长仓库Pro');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"utiliy\",\"rule\":\"js:\\nlet host = \\\"http://hiker.nokia.press\\\";\\n//let host = \\\"http://192.168.3.94:8079\\\";\\nlet home = base64Decode(\\\"aGlrZXI6Ly9ob21l\\\");\\nvar api = {\\n    host: host+\\\"/hikerule\\\",\\n    usersUrl: \\\"/dev/users?order=\\\", //用户列表\\n    ruleCountUrl: \\\"/dev/rulecount\\\", //获取规则数量\\n    rulesUrl: \\\"/dev/get\\\", //用户对应的规则列表仅仅获取公开\\n    rulesAllUrl: \\\"/dev/getall\\\", //开发者对应的规则列表可获取私有\\n    devSelf:'/dev/getself',//获取开发者信息\\n    manCanUpload:'/set_can_upload/',//超管设置开发者是否可上传\\n    manRuleSafe:'/set_rule_safe/',//超管设置规则安全性\\n    manRuleGood:'/set_rule_good/',//超管设置规则优质性\\n    importUrl: \\\"/rulelist.json?id=\\\", //规则详情可导入\\n    infoSetUrl: \\\"/dev/set_info\\\",\\n    nowConUrl: \\\"/sql_info/get_now_con\\\",\\n    infoGetUrl: \\\"/dev/get_info?name=\\\",\\n    settingsGetUrl: \\\"/dev/get_settings?name=\\\",\\n    gupload: \\\"/dev/gupload\\\",\\n    gtimeover: \\\"/dev/gtimeover\\\",\\n    getbyid: \\\"/dev/getbyid\\\",\\n    ruleListJson: \\\"/rulelist.json\\\",\\n    auth: \\\"/dev/get_auth\\\",\\n    timeover: \\\"/dev/timeover\\\",\\n    share: \\\"/dev/share\\\",\\n    genAuth: \\\"/dev/gen_auth\\\",\\n    deleteUrl: \\\"/dev/delete\\\",\\n    jsonList: \\\"/dev/json_list\\\",\\n    search: \\\"/dev/search\\\",\\n    new_dev: \\\"/dev_regist/new\\\",\\n    new_getId: \\\"/dev_regist/get_id\\\",\\n    new_confirm: \\\"/dev_regist/confirm\\\",\\n    modify_pwd: \\\"/modify/password\\\",\\n    modify_name: \\\"/modify/name\\\",\\n    modify_ava: \\\"/modify/avatar\\\",\\n    user: \\\"/dev/user/\\\",\\n    get_rule_note: \\\"/modify/get_rule_note/\\\",\\n    set_rule_pic: \\\"/modify/rule_pic/\\\",\\n    set_rule_note: \\\"/modify/rule_note/\\\"\\n}\\n$.exports.range = function(m, n) {\\n    return Math.floor(Math.random() * (m - n + 1) + n);\\n}\\n$.exports.mapColType = function(target, type, n) {\\n    for (let i = 0; i < n; i++) {\\n        target.push({\\n            col_type: type\\n        });\\n    }\\n}\\nvar getApi = function(k) {\\n    return api.host + api[k];\\n};\\n$.exports.getApi=getApi;\\n$.exports.md=getApi('importUrl')+\\\"3187\\\";\\n$.exports.localRuleVer = function(localRuleList, rule) {\\n    let localRule;\\n    for (let i = 0; i < localRuleList.length; i++) {\\n        let item = localRuleList[i];\\n        let au = item.author || \\\"\\\";\\n        let sameAu=au.length > 0 && rule.author.includes(au);\\n        sameAu=true;//不判断作者默认为true\\n        if (item.title === rule.name && sameAu) {\\n            localRule = item;\\n            break;\\n        }\\n    }\\n    if (localRule === void 0) {\\n        return -1;\\n    } else {\\n        return localRule.version;\\n    }\\n}\\n$.exports.color = function(text, color) {\\n    text += \\\"\\\";\\n    if (text.indexOf(\\\"““””\\\") === 0) {\\n        text.replace(\\\"““””\\\", \\\"\\\");\\n    }\\n    return \\\"““””<font color='\\\" + color + \\\"'>\\\" + text + \\\"</font>\\\";\\n}\\n\\n$.exports.sleep = function(timeout){\\n    java.lang.Thread.sleep(timeout);\\n}\\nfunction htmlTag(tag, text) {\\n    text += \\\"\\\";\\n    if (text.indexOf(\\\"““””\\\") === 0) {\\n        text.replace(\\\"““””\\\", \\\"\\\");\\n    }\\n    return \\\"““””\\\" + \\\"<\\\" + tag + \\\">\\\" + text + \\\"</\\\" + tag + \\\">\\\";\\n\\n}\\n\\nfunction getNowFormatDate() {\\n            let date = new Date();\\n            let seperator1 = \\\"-\\\";\\n            let seperator2 = \\\":\\\";\\n            let month = date.getMonth() + 1;\\n            let strDate = date.getDate();\\n            let strHours = date.getHours();\\n            let strMinutes = date.getMinutes();\\n            let strSeconds = date.getSeconds()+1;\\n            if (month >= 1 && month <= 9) {\\n                month = \\\"0\\\" + month\\n            }\\n            if (strDate >= 0 && strDate <= 9) {\\n                strDate = \\\"0\\\" + strDate\\n            }\\n            if (strHours >= 0 && strHours <= 9) {\\n                strHours = \\\"0\\\" + strHours\\n            }\\n            if (strMinutes >= 0 && strMinutes <= 9) {\\n                strMinutes = \\\"0\\\" + strMinutes\\n            }\\n            if (strSeconds >= 0 && strSeconds <= 9) {\\n                strSeconds = \\\"0\\\" + strSeconds\\n            }\\n            //let currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate + \\\" \\\" + strHours + seperator2 + strMinutes + seperator2 + strSeconds;\\n            let currentdate = (date.getFullYear()-2020)+''+ month +''+ strDate +''+ strHours+'' + strMinutes +''+ Math.ceil(strSeconds/7);\\n            return parseInt(currentdate)\\n        }\\n$.exports.getNowFormatDate = getNowFormatDate;\\n$.exports.htmlTag = htmlTag;\\n$.exports.small = function(text) {\\n    return htmlTag(\\\"small\\\", text);\\n}\\n$.exports.getFile = function() {\\n    var File = request(\\\"hiker://files/WarehouseUSER.json\\\") || \\\"{}\\\";\\n    try {\\n        return JSON.parse(File);\\n    } catch (e) {\\n        writeFile(\\\"hiker://files/WarehouseUSER.json\\\", \\\"{}\\\");\\n        return {};\\n    }\\n}\\n$.exports.getUserDate =function(){\\n    var File = request(\\\"hiker://files/WarehouseUSERA.json\\\") || \\\"[]\\\";\\n    try {\\n        return JSON.parse(File);\\n    } catch (e) {\\n        writeFile(\\\"hiker://files/WarehouseUSERA.json\\\", \\\"[]\\\");\\n        return [];\\n    }\\n}\\n$.exports.existFile = function(spath, ipath, headers) {\\n    let scode = request(spath);\\n    if (!scode) {\\n        writeFile(spath, request(ipath, headers));\\n    }\\n}\\n\\nlet newApi = {\\n    \\\"dis_new\\\": \\\"/hikerule/new_rule_discuss/\\\",\\n    \\\"dis_verify\\\": \\\"/hikerule/rule_discuss/get_yzm\\\",\\n    \\\"dis_get\\\": \\\"/hikerule/rule_discuss/\\\",\\n    \\\"dis_set\\\": \\\"/hikerule/modify/can_discuss/\\\",\\n    \\\"dis_new_user\\\": \\\"/hikerule/rule_discuss/new_user\\\",\\n    \\\"dis_login\\\":\\\"/hikerule/rule_discuss/user_login\\\",\\n    \\\"dis_dev_discuss\\\":\\\"/hikerule/modify/dev_can_discuss\\\",\\n    \\\"dis_dev_control\\\":\\\"/hikerule/rule_discuss/remove/\\\",\\n    \\\"all_rule\\\":\\\"/hikerule/get_rules\\\",\\n    \\\"dis_get_reply\\\":\\\"/hikerule/get_reply_rule_discuss\\\",\\n    \\\"dis_reply\\\":\\\"/hikerule/dev_new_rule_discuss/\\\",\\n}\\n\\nfunction setApi(object) {\\n    let target = {};\\n    for (let key in object) {\\n        target[key]=host+object[key]\\n    }\\n    return target;\\n}\\n\\n$.exports.api = setApi(newApi);\\n$.exports.api.host=host;\\n$.exports.api.home=home;\"},{\"col_type\":\"movie_3\",\"name\":\"开发者登录\",\"path\":\"devLogin\",\"rule\":\"js:\\nsetPageTitle(\\\"开发者登录\\\");\\nconst {\\n    getApi,\\n    htmlTag,\\n    mapColType,\\n    small,\\ngetFile\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nvar data = [];\\naddListener('onClose', $.toString(()=>{\\n    clearVar(\\\"WarehouseUsername\\\");\\n    clearVar(\\\"WarehousePassword\\\");\\n}))\\ndata.push({\\n    title: '账号',\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('WarehouseUsername',''),\\n        type:\\\"number\\\",\\n        onChange: 'putVar(\\\"WarehouseUsername\\\",input)'\\n    }\\n}, {\\n    title: '密码',\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('WarehousePassword', ''),\\n        type: \\\"password\\\",\\n        onChange: 'putVar(\\\"WarehousePassword\\\",input)'\\n    }\\n});\\n\\ndata.push({\\n    title:\\\"&nbsp;&nbsp;<a href='hiker://page/Register'>注册</a>\\\",\\n    col_type:\\\"rich_text\\\"\\n});\\nmapColType(data, \\\"line_blank\\\", 1);\\nlet user = getFile();\\ndata.push({\\n    title: htmlTag(\\\"b\\\", \\\"登录\\\"),\\n    url: $().lazyRule((url, f)=> {\\n        let username = getVar('WarehouseUsername', ''),\\n            password = getVar('WarehousePassword', '');\\n        if(username === \\\"\\\" && password ===\\\"\\\"){\\n            return \\\"toast://账号和密码不能为空\\\"\\n        }\\n        let myUrl = url + '?qq=' + username + '&password=' + password;\\n        let code_str = request(myUrl);\\n        let code = JSON.parse(code_str);\\n        if (code.status == 0) {\\n            f.username=username;\\n            f.password=password\\n            writeFile('hiker://files/WarehouseUSER.json', JSON.stringify(f));\\n            back();\\n            return \\\"toast://登录成功\\\";\\n        }else{\\n            return \\\"toast://账号或密码错误\\\";\\n        }\\n    }, getApi(\\\"rulesAllUrl\\\"),user),\\n    col_type: 'text_center_1'\\n});\\nsetResult(data);\"},{\"col_type\":\"icon_2_round\",\"name\":\"开发者管理\",\"path\":\"devManage\",\"rule\":\"js:\\nsetPageTitle(\\\"规则管理\\\");\\naddListener('onClose', 'clearVar(\\\"Warehouse.back\\\",\\\"\\\");');\\nif (getVar(\\\"Warehouse.back\\\") === \\\"1\\\") {\\n    back();\\n}\\nconst {\\n    getApi,\\n    color,\\n    small,\\n    getFile,\\n    existFile,\\n    mapColType,\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    dev\\n} = MY_PARAMS;\\nlet {\\n    username,\\n    password,\\n} = getFile();\\n//existFile(\\\"hiker://files/rules/dzHouse/html/开发者分享.html\\\", \\\"https://erp.scwinbao.com/hikerule/rulelist.json?id=539\\\");\\nlet ruleList = JSON.parse(request(getApi(\\\"rulesAllUrl\\\") + '?qq=' + username + '&password=' + password)).result;\\nlet MOBILE_UA = 'Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Mobile Safari/537.36';\\nlet infoSetUrl = getApi(\\\"infoSetUrl\\\");\\nlet infoGetUrl = getApi(\\\"infoGetUrl\\\") + username;\\nlet settingsGetUrl = getApi(\\\"settingsGetUrl\\\") + username;\\nputMyVar(\\\"dev_set_info\\\", [username, password, infoSetUrl, MOBILE_UA, infoGetUrl].join(\\\"$$\\\"));\\nlet data = [];\\ndata.push({\\n    title: '““””<big>仓库设置</big>&nbsp;&nbsp;&nbsp;<small><u>（ 个人资料 >）</u></small>',\\n    desc: '““””您共有 <span style=\\\"color: #ff7000\\\">' + ruleList.length + '</span>' + \\\" 条规则。\\\\n点击规则可进行分享、删除、导入操作及查看详情\\\",\\n    url: \\\"hiker://page/PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{id:dev.id},\\n    col_type: 'text_1'\\n});\\nmapColType(data, \\\"line\\\", 2);\\ndata.push({\\n    title: small(color(\\\"更改公告✍\\\", \\\"#34b1ff\\\")),\\n    // url: \\\"x5://file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/dev_info_edit.html\\\",\\n    url: \\\"hiker://page/devInfoEdit\\\",\\n    col_type: 'text_3'\\n});\\ndata.push({\\n    title: small(color(\\\"更多分享📲\\\", \\\"#34b1ff\\\")),\\n    //url: \\\"x5://file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/开发者分享.html\\\",\\n    url: \\\"hiker://page/moreShare\\\",\\n    col_type: 'text_3'\\n});\\ndata.push({\\n    title: small(color(\\\"升级依赖📥\\\", \\\"#34b1ff\\\")),\\n    url: $(\\\"升级会重新从仓库拉取相关的静态页面到本地\\\\n确认升级吗?\\\").confirm((host) => {\\n        writeFile(\\\"hiker://files/rules/dzHouse/html/开发者分享.html\\\", request(host+'/hikerule/rulelist.json?id=539'));\\n        writeFile(\\\"hiker://files/rules/dzHouse/html/dev_info_edit.html\\\", request(host+'/hikerule/rulelist.json?id=402'));\\n        writeFile(\\\"hiker://files/rules/dzHouse/html/dev_info_get.html\\\", request(host+'/hikerule/rulelist.json?id=404'));\\n        refreshPage(false);\\n        return \\\"toast://已重置开发者分享,简介查看,简介编辑等静态文件\\\";\\n    },api.host),\\n    col_type: 'text_3'\\n});\\nlet devSetBack;\\ntry {\\n    devSetBack = JSON.parse(request(settingsGetUrl));\\n} catch (e) {\\n    devSetBack = {};\\n}\\n\\nfunction setSettingItem(basic) {\\n    let temp = {\\n        title: basic.title,\\n        col_type: basic.col_type,\\n        url: $(basic.confirm).confirm((url, msg) => {\\n            let back = request(url);\\n            let ret = JSON.parse(back);\\n            if (ret.status == 0) {\\n                refreshPage(true);\\n                return \\\"toast://\\\" + msg[0];\\n            } else {\\n                refreshPage(false);\\n                return \\\"toast://\\\" + msg[1] + \\\"\\\\n\\\" + ret.detail;\\n            }\\n        }, basic.url, basic.msg)\\n    };\\n    return temp;\\n}\\nif (devSetBack.status == 0) {\\n    let devSettings = devSetBack.result;\\n    let share = {\\n        col_type: \\\"text_3\\\"\\n    };\\n    if (devSettings.share_public) {\\n        share.title = small(color(\\\"公开上传\\\", \\\"green\\\") + color(\\\"(私藏)\\\", \\\"#00bfff\\\"));\\n        share.url = getApi(\\\"gupload\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password + \\\"&flag=1\\\";\\n        share.confirm = \\\"是否确认私藏以后提交的规则?\\\";\\n        share.msg = [\\\"已私藏\\\", \\\"私藏失败\\\"];\\n    } else {\\n        share.title = small(color(\\\"私密上传\\\", \\\"red\\\") + color(\\\"(公开)\\\", \\\"#adff2f\\\"));\\n        share.url = getApi(\\\"gupload\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\n        share.confirm = \\\"是否确认公开以后提交的规则?\\\";\\n        share.msg = [\\\"已公开\\\", \\\"公开失败\\\"];\\n    }\\n    data.push(setSettingItem(share));\\n    let timeOver = {\\n        col_type: \\\"text_3\\\"\\n    };\\n    if (devSettings.time_over) {\\n        timeOver.title = small(color(\\\"短时秘钥\\\", \\\"green\\\") + color(\\\"(永久)\\\", \\\"#00bfff\\\"));\\n        timeOver.url = getApi(\\\"gtimeover\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password + \\\"&flag=1\\\";\\n        timeOver.confirm = \\\"是否确认以后的私藏规则分享不过期?\\\";\\n        timeOver.msg = [\\\"已设为永久\\\", \\\"设为永久失败\\\"];\\n    } else {\\n        timeOver.title = small(color(\\\"永久秘钥\\\", \\\"red\\\") + color(\\\"(过期)\\\", \\\"#adff2f\\\"));\\n        timeOver.url = getApi(\\\"gtimeover\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\n        timeOver.confirm = \\\"确认要以后分享的私藏规则自动到期?\\\";\\n        timeOver.msg = [\\\"已设为过期\\\", \\\"设为过期失败\\\"];\\n    }\\n    data.push(setSettingItem(timeOver));\\n    let discuss = {\\n        col_type: \\\"text_3\\\"\\n    };\\n    if (devSettings.can_discuss) {\\n        discuss.title = small(color(\\\"允许评论\\\", \\\"red\\\") + color(\\\"(不许)\\\", \\\"#adff2f\\\"));\\n        discuss.url = api.dis_dev_discuss + \\\"?qq=\\\" + username + \\\"&password=\\\" + password+ \\\"&flag=1\\\";\\n        discuss.confirm = \\\"是否确认以后上传的规则允许评论?\\\";\\n        discuss.msg = [\\\"已设为不许\\\", \\\"设置失败\\\"];\\n\\n    } else {\\n        discuss.title = small(color(\\\"不许评论\\\", \\\"green\\\") + color(\\\"(允许)\\\", \\\"#00bfff\\\"));\\n        discuss.url = api.dis_dev_discuss + \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\n        discuss.confirm = \\\"是否确认以后上传的规则允许评论?\\\";\\n        discuss.msg = [\\\"已设为允许\\\", \\\"设置失败\\\"];\\n    }\\n    data.push(setSettingItem(discuss));\\n}\\nmapColType(data, \\\"line\\\", 2);\\nfor (let item of ruleList) {\\n    let my_t_excode1 = '';\\n    let my_t_excode2 = '';\\n    if (item.state != 'public') {\\n        my_t_excode1 += '㊙️';\\n    } else {\\n        my_t_excode1 += '';\\n    }\\n    data.push({\\n        title: my_t_excode1 + item.name + my_t_excode2,\\n        url: \\\"hiker://page/manageRule#noHistory##noRecordHistory#\\\",\\n        extra: {\\n            id: item.id,\\n            //username: username,\\n            //password: password\\n        },\\n        pic_url: item.pic,\\n    })\\n}\\nif (ruleList.length === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>快来上传你的第一条规则吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n}\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"规则详细-dev\",\"path\":\"manageRule\",\"rule\":\"js:\\n    const {\\n        getApi,\\n        color,\\n        small,\\n        getFile,\\n        existFile,\\n        mapColType,\\n        htmlTag,\\n        api,\\n        md,\\n    } = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id\\n} = MY_PARAMS;\\nlet {\\n    username,\\n    password,\\n} = getFile();\\naddListener('onClose', $.toString(() => {\\n    refreshPage(false);\\n}));\\nlet dataItem = JSON.parse(request(getApi(\\\"getbyid\\\") + \\\"?id=\\\" + id)).result;\\nsetPageTitle(\\\"编辑「\\\" + dataItem.name + \\\"」\\\");\\nlet reqByGet = \\\"?id=\\\" + dataItem.id + \\\"&qq=\\\" + username + \\\"&password=\\\" + password;\\nlet ruleListJson = getApi(\\\"ruleListJson\\\") + \\\"?id=\\\";\\nlet data = [];\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"版本\\\"),\\n    desc: \\\"““””云端版本:\\\" + color(dataItem.ver, \\\"#5cff2c\\\") + \\\"\\\\n上次提交于: [\\\" + color(dataItem.last_update, \\\"#ff7000\\\") + \\\"]\\\",\\n    url: $(\\\"<开发者>\\\\n\\\" + dataItem.author + \\\"\\\\n<名称>\\\\n\\\" + dataItem.name + \\\"\\\\n<云端版本>\\\\n\\\" + dataItem.ver + \\\"\\\\n<更新时间>\\\\n[\\\" + dataItem.last_update + \\\"]\\\").confirm(() => {}),\\n    col_type: 'text_1'\\n});\\nlet dataType = {\\n    home_rule_url: '首页云规则',\\n    publish: '提交云仓库规则',\\n    js_url: '网页插件规则',\\n    html: '静态页面',\\n    config: '主页配置'\\n};\\n\\nlet basic = {\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n};\\nlet dataTypeTips = dataType[dataItem.data_type] || '未知规则:' + dataItem.data_type;\\n\\nbasic.title = htmlTag(\\\"big\\\", \\\"类型\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(\\\"(id:\\\" + dataItem.id + \\\")\\\");\\nbasic.desc = \\\"数据类型：\\\" + color(dataTypeTips, \\\"#cb54ff\\\") + \\\"\\\\n分享状态为：\\\" + dataItem.state;\\nif ([\\\"html\\\", \\\"config\\\", \\\"js_url\\\"].includes(dataItem.data_type)) {\\n    basic.desc += \\\"\\\\n““”” =>\\\" + small(\\\"点此预览\\\");\\n    basic.url = ruleListJson + dataItem.id;\\n}\\nlet auth = \\\"\\\";\\nif (dataItem.state == \\\"private\\\") {\\n    let auth_back = JSON.parse(request(getApi(\\\"auth\\\") + reqByGet));\\n    basic.title = basic.title + \\\"\\\\n\\\" + small(color(auth_back.result, \\\"grey\\\"));\\n    auth = '&auth=' + auth_back.result;\\n    basic.url = basic.url === \\\"hiker://empty\\\" ? basic.url : basic.url + auth;\\n}\\ndata.push(basic);\\nlet notes = request(getApi(\\\"get_rule_note\\\") + id);\\nnotes = JSON.parse(notes).result;\\nrequire(md);\\nlet notesHtml=\\\"\\\"\\ntry{\\n    notesHtml=marked.parse(notes);\\n}catch(e){}\\nif (notes !== false) {\\n    data.push({\\n        title: htmlTag(\\\"big\\\", \\\"备注\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(htmlTag(\\\"u\\\", \\\"查看完整公告 >\\\")),\\n        desc: notes,\\n        col_type: \\\"text_1\\\",\\n        url: \\\"hiker://page/info\\\",\\n        extra: {\\n            text: notesHtml,\\n            name: dataItem.name,\\n            // type: \\\"long_text\\\"\\n            type: \\\"rich_text\\\"\\n        }\\n    });\\n}\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"操作\\\"),\\n    col_type: \\\"text_1\\\",\\n    url: \\\"toast://你才是最帅的那个人！\\\"\\n});\\nlet importUrl, ruleCode, shareUrl, backCode = \\\"\\\";\\nlet subUrl = ruleListJson + dataItem.id + auth;\\nif (!dataItem.is_json) {\\n    backCode = request(subUrl);\\n}\\nswitch (dataItem.data_type) {\\n    case \\\"home_rule_url\\\":\\n        ruleCode = \\\"海阔视界首页频道规则【\\\" + dataItem.name + \\\"】￥home_rule_url￥\\\" + ruleListJson + dataItem.id + auth;\\n        importUrl = \\\"rule://\\\" + base64Encode(ruleCode)\\n        break;\\n    case 'publish':\\n        ruleCode = '海阔视界规则分享，当前分享的是：' + dataItem.name + '￥publish￥' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'js_url':\\n        ruleCode = '海阔视界规则分享，当前分享的是：网页插件￥js_url￥' + dataItem.name + '@base64://' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'html':\\n        let file_tmp = dataItem.name.split('.');\\n        let file_path = file_tmp.length > 1 ? file_tmp[file_tmp.length - 1] + \\\"/\\\" + dataItem.name : dataItem.name;\\n        ruleCode = \\\"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/\\\" + file_path + \\\"@\\\" + ruleListJson + dataItem.id + auth;\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break\\n    case \\\"config\\\":\\n        importUrl = $().rule(password => {\\n            eval(fetch(\\\"hiker://assets/home.js\\\"));\\n            HikerHome.load(\\\"import\\\", password);\\n        }, backCode);\\n        break;\\n}\\nlet my_col_type = \\\"text_2\\\";\\nif (importUrl) {\\n    data.push({\\n        title: \\\"导入规则\\\",\\n        url: importUrl,\\n        col_type: my_col_type\\n    });\\n    if(dataItem.is_json_list&&/home_rule_url|html/.test(dataItem.data_type)){\\n        data.push({\\n            title: '““””<span style=\\\"color: #ff7000\\\">导入道德经</span>',\\n            url: $().lazyRule((dataItem,subUrl)=>{\\n                // let title = \\\"H-\\\"+dataItem.name+\\\".\\\"+dataItem.author;\\n                let title = \\\"J-\\\"+dataItem.name.split('.')[0];\\n                let subObj = {\\n                    title: title,\\n                    url: subUrl,\\n                    desc: \\\"hiker://files/rules/dzHouse/ruleCache/\\\"+title+\\\".json\\\",\\n                    code: \\\"\\\",\\n                    active: false,//禁用并发更新\\n                }\\n                let shareText = base64Encode(JSON.stringify(subObj));\\n                var pastes = getPastes();\\n                var url = sharePaste(shareText,pastes.slice(-1)[0]);\\n                let import_rule= \\\"轻合集订阅：\\\"+title+'\\\\n'+url;\\n                copy(import_rule);\\n                const path = 'hiker://files/rules/dzHouse/ruleCache/sub.json';\\n                $.rc(config.lib.sub);\\n                return 订阅导入(path)\\n            },dataItem,subUrl),\\n            col_type: my_col_type\\n        });\\n    }\\n}\\nif (ruleCode) {\\n    data.push({\\n        title: \\\"分享规则\\\",\\n        url: \\\"copy://\\\" + ruleCode,\\n        col_type: my_col_type\\n    });\\n}\\n\\nfunction setSettingItem(basic, pattern) {\\n    let temp = {\\n        title: basic.title,\\n        col_type: basic.col_type,\\n        url: $(basic.confirm).confirm((url, msg, pattern) => {\\n            let backA = request(url);\\n            let ret = JSON.parse(backA);\\n            if (ret.status == 0) {\\n                pattern ? back() : refreshPage(false);\\n                return \\\"toast://\\\" + msg[0];\\n            } else {\\n                pattern ? back() : refreshPage(false);\\n                return \\\"toast://\\\" + msg[1] + \\\"\\\\n\\\" + ret.detail;\\n            }\\n        }, basic.url, basic.msg, pattern)\\n    };\\n    return temp;\\n}\\nif (dataItem.state == 'private') {\\n    data.push({\\n        title: \\\"设为公开\\\",\\n        url: $(getApi(\\\"share\\\") + reqByGet + \\\"&flag\\\" + \\\"#noLoading#\\\").lazyRule(() => {\\n            request(input);\\n            refreshPage(false);\\n            return \\\"toast://已设为公开\\\";\\n        }),\\n        col_type: my_col_type\\n    }, {\\n        title: \\\"随机密钥\\\",\\n        col_type: my_col_type,\\n        url: $(getApi(\\\"genAuth\\\") + reqByGet + \\\"#noLoading#\\\").lazyRule(() => {\\n            let back = request(input);\\n            let ret = JSON.parse(back);\\n            if (ret.status == 0) {\\n                refreshPage(false);\\n                return \\\"toast://已生成随机密码\\\\n\\\" + ret.result\\n            } else {\\n                refreshPage(true);\\n                return \\\"toast://随机密码生成失败\\\"\\n            }\\n        })\\n    });\\n    let timeOver = {\\n        col_type: my_col_type\\n    };\\n    if (dataItem.time_over) {\\n        timeOver.title = small(color(\\\"短时密钥\\\", \\\"green\\\") + color(\\\"(→永久)\\\", \\\"red\\\"));\\n        timeOver.url = getApi(\\\"timeover\\\") + reqByGet + \\\"&flag=1\\\";\\n        timeOver.confirm = \\\"是否确认以后的私藏规则分享不过期?\\\";\\n        timeOver.msg = [\\\"已设为永久\\\", \\\"设为永久失败\\\"];\\n    } else {\\n        timeOver.title = small(color(\\\"永久密钥\\\", \\\"red\\\") + color(\\\"(→短时)\\\", \\\"green\\\"));\\n        timeOver.url = getApi(\\\"timeover\\\") + reqByGet;\\n        timeOver.confirm = \\\"确认要以后分享的私藏规则自动到期?\\\";\\n        timeOver.msg = [\\\"已设为过期\\\", \\\"设为过期失败\\\"];\\n    }\\n    data.push(setSettingItem(timeOver));\\n} else if (dataItem.state == 'public') {\\n    data.push({\\n        title: \\\"设为私有\\\",\\n        url: $(getApi(\\\"share\\\") + reqByGet + \\\"&flag=1#noLoading#\\\").lazyRule(() => {\\n            request(input);\\n            refreshPage(false);\\n            return \\\"toast://已设为私有\\\";\\n        }),\\n        col_type: my_col_type\\n    });\\n}\\ndata.push(setSettingItem({\\n    title: \\\"删除数据\\\",\\n    confirm: \\\"是否确认删除\\\",\\n    msg: [\\\"已删除\\\", \\\"删除失败\\\"],\\n    url: getApi(\\\"deleteUrl\\\") + reqByGet,\\n    col_type: my_col_type\\n}, true));\\ndata.push({\\n    title: \\\"设置图标\\\",\\n    url: $(dataItem.pic_url, \\\"输入图标地址\\\").input(api => {\\n        if (input === \\\"\\\") {\\n            return \\\"toast://你在逗我链接哪?\\\"\\n        }\\n        let result = request(api + \\\"&rule_pic=\\\" + input);\\n        result = JSON.parse(result);\\n        if (result.status !== 0) {\\n            return \\\"toast://\\\" + result.detail;\\n        }\\n        return \\\"toast://修改成功\\\";\\n    }, getApi(\\\"set_rule_pic\\\") + dataItem.id + reqByGet),\\n    col_type: my_col_type\\n});\\n\\ndata.push({\\n    title: dataItem.can_discuss ? \\\"禁止评论\\\" : \\\"开启评论\\\",\\n    url: $(api.dis_set + dataItem.id + reqByGet + \\\"&state=\\\" + (dataItem.can_discuss ? \\\"\\\" : 1)).lazyRule((can_discuss) => {\\n        request(input);\\n        refreshPage(false);\\n        return can_discuss ? \\\"toast://已禁止评论\\\" : \\\"toast://已开启评论\\\";\\n    }, dataItem.can_discuss),\\n    col_type: my_col_type\\n});\\nMY_PARAMS.name = dataItem.name;\\nMY_PARAMS.username=username;\\nMY_PARAMS.password=password;\\ndata.push({\\n    title: \\\"设置备注\\\",\\n    url: \\\"hiker://page/set_rule_notes\\\",\\n    extra: MY_PARAMS,\\n    col_type: my_col_type\\n});\\nif (dataItem.is_json && dataItem.data_type === \\\"home_rule_url\\\" && !dataItem.is_json_list) {\\n    data.push({\\n        title: '进入频道',\\n        url: $( /*\\\"#noLoading#\\\"*/ ).lazyRule((name,home) => {\\n            let ruleList = JSON.parse(request(home));\\n            let hasRule = ruleList.some(item => item.title === name);\\n            if (hasRule) {\\n                putVar(\\\"Warehouse.back\\\", \\\"1\\\");\\n                back();\\n                return home+\\\"s@\\\" + name;\\n            } else {\\n                return \\\"toast://未安装\\\";\\n            }\\n        }, dataItem.name,api.home),\\n        col_type: my_col_type\\n    });\\n}\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: dataItem.good_num,\\n    pic_url: \\\"hiker://files/icon/赞.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\ndata.push({\\n    title: dataItem.bad_num,\\n    pic_url: \\\"hiker://files/icon/踩.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\ndata.push({\\n    title: \\\"评论\\\",\\n    pic_url: \\\"hiker://files/icon/评论.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/Reply#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        ruleId: dataItem.id,\\n        name: dataItem.author,\\n        password: password,\\n        username: username\\n    }\\n});\\nlet totalSum = dataItem.good_num + dataItem.bad_num;\\n\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"评论(\\\" + totalSum + \\\")\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(htmlTag(\\\"u\\\", \\\"查看全部评论(控评) >\\\")),\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://page/Comment\\\",\\n    extra: {\\n        url: \\\"hiker://empty#fypage#noHistory##noRecordHistory#\\\",\\n        id: dataItem.id,\\n        totalSum: totalSum,\\n        no_active: true,\\n        username: username,\\n        password: password\\n    }\\n});\\n//const longestSum=120;\\nlet icon = {\\n    \\\"good\\\": \\\"👍\\\",\\n    \\\"bad\\\": \\\"👎\\\",\\n    \\\"reply\\\": \\\"开发者🗣\\\"\\n}\\nif (totalSum === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    let commentList = JSON.parse(request(api.dis_get + dataItem.id + \\\"?limit=5\\\")).result;\\n    for (let item of commentList) {\\n        let Reply = item.discuss_type===\\\"reply\\\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\\\"‘‘回复@\\\"+item.reply_to_name+\\\" #\\\"+item.discuss_id+\\\"’’\\\\n\\\":\\\"\\\";\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            url: \\\"hiker://page/Reply\\\",\\n            extra:{\\n                ruleId: dataItem.id,\\n                name: item.name,\\n                password: password,\\n                username: username,\\n                replyId:item.id\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: Reply+item.create_date + \\\"·\\\" + icon[item.discuss_type],\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra: {\\n                name: item.name,\\n                type: \\\"long_text\\\",\\n                text: item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n    }\\n}\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nsetResult(data);\"},{\"col_type\":\"icon_2_round\",\"name\":\"规则列表\",\"path\":\"rules\",\"rule\":\"js:\\n    addListener('onClose',$.toString(()=>{\\n        clearVar(\\\"Warehouse.back\\\");\\n        clearVar(\\\"Warehouse.filter\\\");\\n        clearVar(\\\"Warehouse.type\\\");\\n        if(getVar('Warehouse.can_upload','')){\\n            log('操作过禁止上传:'+getVar('Warehouse.can_upload'));\\n            clearVar(\\\"Warehouse.can_upload\\\");\\n            refreshPage(true);\\n        }\\n    }));\\n\\nif (getVar(\\\"Warehouse.back\\\") === \\\"1\\\") {\\n    back(false);\\n}\\n\\nconst {\\n    getApi,\\n    api,\\n    color,\\n    small,\\n    localRuleVer,\\n    htmlTag,\\n    md\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nconst { normalSort } = $.require(\\\"hiker://page/sort\\\");\\nlet {\\n    avatarUrl,\\n    qq,\\n    id,\\n    can_upload\\n} = MY_PARAMS;\\nlet dataType = getVar(\\\"Warehouse.type\\\",\\\"\\\");\\nlet backCode = JSON.parse(request(getApi(\\\"rulesUrl\\\") + \\\"?name=\\\" + qq+\\\"&data_type=\\\"+dataType));\\nlet devName = backCode.dev_name;\\nputVar(\\\"Warehouse.filter\\\", devName);\\nlet ruleList = backCode.result;\\nlet subUrl = getApi(\\\"jsonList\\\") + \\\"?name=\\\" + qq;\\nlet hasSub = hasHomeSub(subUrl);\\nlet devInfo = \\\"这个人很懒,什么都没写哦~\\\";\\nlet tmpJson = JSON.parse(request(getApi(\\\"infoGetUrl\\\") + qq));\\nif (tmpJson.status == 0) {\\n    devInfo = tmpJson.result || devInfo;\\n}\\nlet subFlag = hasSub ? '🆗' : '📡';\\nlet data = [];\\nrequire(md);\\ndevInfo=marked.parse(devInfo);\\ndata.push({\\n    title: \\\"““””\\\" + devName + \\\"\\\\n\\\\n\\\" + small(htmlTag(\\\"u\\\", \\\"点击查看完整公告\\\")),\\n    desc: small(devInfo),\\n    url: 'hiker://page/info',\\n    extra: {\\n        text: devInfo,\\n        name: devName,\\n        type:\\\"rich_text\\\"\\n    },\\n    pic_url: avatarUrl,\\n    col_type: 'movie_1_vertical_pic'\\n});\\ndata.push({\\n    title: \\\"<big>订阅管理</big>&nbsp;&nbsp;<small>(当前\\\" + (hasSub ? \\\"已订阅\\\" : \\\"未订阅\\\") + \\\")</small>\\\",\\n    col_type: \\\"rich_text\\\"\\n});\\n\\nlet sub_code = '海阔视界合集规则订阅￥home_sub￥' + devName + \\\"合集@@\\\" + subUrl;\\nlet rulesCode = '海阔视界合集规则￥home_rule_url￥' + subUrl;\\ndata.push({\\n    title: '““””<span style=\\\"color: #ff7000\\\">一键订阅</span>',\\n    desc: '订阅““””<span style=\\\"color: #5cff2c\\\">' + devName + '</span>的所有单规则，合集需单独订阅',\\n    url: sub_code,\\n    col_type: 'text_2'\\n});\\ndata.push({\\n    title: '““””<span style=\\\"color: #ff7000\\\">导入全部</span>',\\n    url: rulesCode,\\n    col_type: 'text_2'\\n});\\ndata.push({\\n    title: '““””<span style=\\\"color: #ff7000\\\">导入轻合集</span>',\\n    url: $().lazyRule((devName,subUrl,avatarUrl)=>{\\n        const {genRule}=$.require(\\\"hiker://page/genApi\\\");\\n        log(\\\"轻合集图标链接:\\\"+avatarUrl);\\n        let import_rule=genRule(\\\"轻合集.\\\"+devName,subUrl,avatarUrl);\\n        //copy(import_rule);\\n        let ruleCode=parsePaste(import_rule.split(\\\"\\\\n\\\")[0]);\\n        //return \\\"hiker://empty\\\"\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        return importUrl\\n    },devName,subUrl,avatarUrl),\\n    col_type: 'text_2'\\n});\\ndata.push({\\n    title: '““””<span style=\\\"color: #ff7000\\\">导入道德经</span>',\\n    url: $().lazyRule((devName,subUrl,avatarUrl)=>{\\n        let title = \\\"H-\\\"+devName;\\n        let subObj = {\\n            title: title,\\n            url: subUrl,\\n            desc: \\\"hiker://files/rules/dzHouse/ruleCache/\\\"+title+\\\".json\\\",\\n            code: \\\"\\\",\\n            active: false,//禁用并发更新\\n        }\\n        let shareText = base64Encode(JSON.stringify(subObj));\\n        var pastes = getPastes();\\n        var url = sharePaste(shareText,pastes.slice(-1)[0]);\\n        let import_rule= \\\"轻合集订阅：\\\"+title+'\\\\n'+url;\\n        copy(import_rule);\\n        const path = 'hiker://files/rules/dzHouse/ruleCache/sub.json';\\n        $.rc(config.lib.sub);\\n        return 订阅导入(path)\\n    },devName,subUrl,avatarUrl),\\n    col_type: 'text_2'\\n});\\nlet can_upload_api = getApi(\\\"manCanUpload\\\")+id;\\nif(getVar('house.is_manager')){\\n    let tips = can_upload?'能':'否';\\n    // log('tips:'+tips);\\n    // log('can_upload:'+can_upload);\\n    data.push({\\n        title:'⚠能否上传:'+(getVar('Warehouse.can_upload')||tips),\\n        col_type:'scroll_button',\\n        url:'hiker://empty'\\n    });\\n    function setUpload(flag,can_upload_api) {\\n        flag = flag || '';\\n        try {\\n            let code = fetch(can_upload_api, {\\n                headers: {\\\"User-Agent\\\": MOBILE_UA},\\n                body: {\\n                    \\\"params\\\":\\n                        {\\n                            \\\"username\\\": getVar('house.username'),\\n                            \\\"password\\\": getVar('house.password'),\\n                            \\\"can_upload\\\": !!flag\\n                        }\\n                }\\n            });\\n            code = JSON.parse(code).result;\\n            if (code.status === 0) {\\n                return code.detail\\n            } else {\\n                return '操作失败:' + code.detail\\n            }\\n        } catch (e) {\\n            return '操作失败:' + e.message\\n        }\\n    }\\n    data.push({\\n        title:'🚫禁止上传',\\n        col_type:'scroll_button',\\n        url:$('禁止该开发者上传规则?你的操作将被系统记录').confirm((id,can_upload_api,setUpload)=>{\\n            let ret = setUpload(false,can_upload_api);\\n            if(!/操作失败/.test(ret)){\\n                putVar('Warehouse.can_upload','否');\\n                refreshPage(false);\\n            }\\n            return 'toast://'+ret\\n        },id,can_upload_api,setUpload)\\n    });\\n    data.push({\\n        title:'✅允许上传',\\n        col_type:'scroll_button',\\n        url:$('允许该开发者上传规则?你的操作将被系统记录').confirm((id,can_upload_api,setUpload)=>{\\n            let ret = setUpload(true,can_upload_api);\\n            if(!/操作失败/.test(ret)){\\n                putVar('Warehouse.can_upload','是');\\n                refreshPage(false);\\n            }\\n            return 'toast://'+ret\\n        },id,can_upload_api,setUpload)\\n    });\\n}\\ndata.push({\\n    title: \\\"<small>提示：开发者单独分享的合集文件只能单独导入。</small>\\\",\\n    col_type: \\\"rich_text\\\"\\n});\\ndata.push({\\n    title: \\\"<big>规则列表</big>&nbsp;&nbsp;<small>(共\\\" + ruleList.length + \\\"条)</small>\\\",\\n    col_type: \\\"rich_text\\\"\\n});\\nlet dataTypeList = {\\n    \\\"\\\":\\\"全部\\\",\\n    \\\"home_rule_url\\\": '小程序',\\n    //\\\"publish\\\": '提交云仓库规则',\\n    \\\"js_url\\\": '网页插件',\\n    \\\"html\\\": '静态页面',\\n    \\\"config\\\": '主题'\\n};\\nfor(let key in dataTypeList){\\n    data.push({\\n        title:dataType===key?\\\"““\\\"+dataTypeList[key]+\\\"””\\\":dataTypeList[key],\\n        url:$(\\\"#noLoading#\\\").lazyRule((key)=>{\\n            putVar(\\\"Warehouse.type\\\",key);\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        },key),\\n        col_type:\\\"scroll_button\\\"\\n    });\\n}\\nif (ruleList.length > 20) {\\n    data.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(name => \\\"hiker://search?s=\\\" + input + \\\"&rule=\\\" + name, MY_RULE.title),\\n        col_type: \\\"input\\\",\\n        desc: \\\"搜索当前开发者的规则\\\"\\n    });\\n}\\nlet homeList = JSON.parse(request(api.home));\\nlet mRuleList = [];\\nfor (var item of ruleList) {\\n    var name = item.name;\\n    if (item.is_tap) {\\n        let location = JSON.parse(request(getApi(\\\"ruleListJson\\\") + \\\"?id=\\\" + item.id));\\n        item.id = location.id;\\n        item.name = location.name;\\n        item.author = location.author;\\n        item.data_type = location.data_type;\\n        item.ver = location.ver\\n    }\\n    item.version = item.ver;\\n    let label = \\\"\\\",\\n        lver = -2;\\n    if (item.is_json && item.data_type === \\\"home_rule_url\\\") {\\n        lver = localRuleVer(homeList, item);\\n        if (lver === -1) {\\n            label = \\\"🆕\\\";\\n        } else if (lver < item.ver) {\\n            label = \\\"🆙\\\";\\n        }\\n    }\\n    mRuleList.push({\\n        title: label + name,\\n        url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#\\\",\\n        extra: {\\n            lver: lver,\\n            id: item.id\\n        },\\n        pic_url: item.pic,\\n    });\\n}\\n/* 归并排序 Start */\\nif(getItem(\\\"排序\\\",\\\"时间优先\\\")==='新版优先'){\\n    mRuleList = normalSort(mRuleList);\\n}\\n/* 归并排序 End */\\ndata.push.apply(data, mRuleList)\\nsetResult(data);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"规则详细-user\",\"path\":\"ruleDetail\",\"rule\":\"js:\\n    const {\\n        getApi,\\n        color,\\n        small,\\n        htmlTag,\\n        api,\\n        md\\n    } = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id,\\n    lver,\\n    isAll\\n} = MY_PARAMS;\\nif(getParam(\\\"id\\\")){\\n    isAll = true;\\n    id = getParam(\\\"id\\\");\\n    lver = lver || \\\"未获取版本号\\\";\\n}\\naddListener('onClose', $.toString((isAll) => {\\n    if(!isAll){\\n        refreshPage(false);\\n    }\\n},isAll));\\nlet dataItem = JSON.parse(request(getApi(\\\"getbyid\\\") + \\\"?id=\\\" + id)).result;\\nsetPageTitle(\\\"「\\\" + dataItem.name + \\\"」\\\")\\nlet ruleListJson = getApi(\\\"ruleListJson\\\") + \\\"?id=\\\";\\nlet data = [];\\nvar hasSub = false;\\n\\nif (dataItem.is_json_list) {\\n    hasSub = hasHomeSub(ruleListJson + dataItem.id);\\n} else if (!dataItem.is_json_list && dataItem.data_type == 'home_rule_url') {\\n    hasSub = hasHomeSub(ruleListJson + dataItem.id + '&debug=true');\\n}\\n\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"版本\\\"),\\n    desc: \\\"““””开发者：\\\" + color(dataItem.author, \\\"#228BE6\\\") + \\\"\\\\n云端版本：\\\" + color(dataItem.ver, \\\"#5cff2c\\\") + \\\"\\\\t\\\\t本地版本：\\\" + color(lver, \\\"#5cff2c\\\") + \\\"\\\\n更新于: [\\\" + color(dataItem.last_update, \\\"#ff7000\\\") + \\\"]\\\",\\n    url: $(\\\"<开发者>\\\\n\\\" + dataItem.author + \\\"\\\\n<名称>\\\\n\\\" + dataItem.name + \\\"\\\\n<云端版本>\\\\n\\\" + dataItem.ver + \\\"\\\\n<本地版本>\\\\n\\\" + lver + \\\"\\\\n<更新时间>\\\\n[\\\" + dataItem.last_update + \\\"]\\\").confirm(() => {}),\\n    col_type: 'text_1'\\n});\\nlet dataType = {\\n    home_rule_url: '首页云规则',\\n    publish: '提交云仓库规则',\\n    js_url: '网页插件规则',\\n    html: '静态页面',\\n    config: '主页配置'\\n};\\n\\nlet basic = {\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n};\\nlet dataTypeTips = dataType[dataItem.data_type] || '未知规则：' + dataItem.data_type;\\n\\nlet safe_tip=dataItem.is_safe?\\\"安全\\\":\\\"危险\\\";\\nlet good_tip = dataItem.is_good?small(color(\\\"【优质规则】\\\",'#ff7000')):\\\"\\\";\\nlet not_safe_note=dataItem.not_safe_note;\\nbasic.title = htmlTag(\\\"big\\\", \\\"类型\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(\\\"(id:\\\" + dataItem.id + \\\")\\\")+\\\"\\\\t\\\\t\\\\t\\\" + small(\\\"(风险检测:\\\" +safe_tip+\\\")\\\")+good_tip;\\nbasic.desc = \\\"数据类型：\\\" + color(dataTypeTips, \\\"#cb54ff\\\") + \\\"\\\\n分享状态为：\\\" + dataItem.state;\\nif ([\\\"html\\\", \\\"config\\\", \\\"js_url\\\"].includes(dataItem.data_type)) {\\n    basic.desc += \\\"\\\\n““”” =>\\\" + small(\\\"点此预览\\\");\\n    basic.url = ruleListJson + dataItem.id;\\n}\\n\\ndata.push(basic);\\nlet hasSubs = \\\"\\\";\\nif (hasSub) {\\n    hasSubs = \\\"\\\\t\\\\t\\\\t\\\" + small(\\\"已订阅\\\")\\n}\\n\\nlet notes = request(getApi(\\\"get_rule_note\\\") + id);\\nnotes = JSON.parse(notes).result;\\nrequire(md);\\nlet notesHtml=\\\"\\\"\\ntry{\\n    notesHtml=marked.parse(notes);\\n}catch(e){}\\n\\nif (notes !== false) {\\n    data.push({\\n        title: htmlTag(\\\"big\\\", \\\"备注\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(htmlTag(\\\"u\\\", \\\"查看完整公告 >\\\")),\\n        desc: notes,\\n        col_type: \\\"text_1\\\",\\n        url: \\\"hiker://page/info\\\",\\n        extra: {\\n            text: notesHtml,\\n            name: dataItem.name,\\n            // type: \\\"long_text\\\"\\n            type: \\\"rich_text\\\"\\n        }\\n    });\\n}\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"操作(分享详细页)\\\") + hasSubs,\\n    col_type: \\\"text_1\\\",\\n    url: \\\"copy://道长仓库「\\\"+dataItem.name+\\\"」\\\\n\\\"+id+'@import=js:$.require(\\\"hiker://page/ruleDetailImport?rule=道长仓库Pro\\\", input)'\\n});\\nlet importUrl, ruleCode, shareUrl, backCode = \\\"\\\";\\nif (!dataItem.is_json) {\\n    backCode = request(ruleListJson + dataItem.id);\\n}\\nswitch (dataItem.data_type) {\\n    case \\\"home_rule_url\\\":\\n        ruleCode = \\\"海阔视界首页频道规则【\\\" + dataItem.name + \\\"】￥home_rule_url￥\\\" + ruleListJson + dataItem.id;\\n        importUrl = \\\"rule://\\\" + base64Encode(ruleCode)\\n        break;\\n    case 'publish':\\n        ruleCode = '海阔视界规则分享，当前分享的是：' + dataItem.name + '￥publish￥' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'js_url':\\n        ruleCode = '海阔视界规则分享，当前分享的是：网页插件￥js_url￥' + dataItem.name + '@base64://' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'html':\\n        let file_tmp = dataItem.name.split('.');\\n        let file_path = file_tmp.length > 1 ? file_tmp[file_tmp.length - 1] + \\\"/\\\" + dataItem.name : dataItem.name;\\n        ruleCode = \\\"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/\\\" + file_path + \\\"@\\\" + ruleListJson + dataItem.id;\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break\\n    case \\\"config\\\":\\n        importUrl = $().rule(password => {\\n            eval(fetch(\\\"hiker://assets/home.js\\\"));\\n            HikerHome.load(\\\"import\\\", password);\\n        }, backCode);\\n        break;\\n}\\nlet my_col_type = \\\"text_2\\\";\\nlet my_col_type2 = \\\"text_3\\\";\\nif (importUrl) {\\n    data.push({\\n        title: \\\"导入规则\\\",\\n        url: dataItem.is_safe?importUrl:'toast://风险规则禁止导入!!!',\\n        col_type: my_col_type\\n    });\\n}\\nif (ruleCode) {\\n    data.push({\\n        title: \\\"分享口令\\\",\\n        url: \\\"copy://\\\" + ruleCode,\\n        col_type: my_col_type\\n    });\\n}\\n\\nif (importUrl) {\\n    if (dataItem.is_json_list && !hasSub) {\\n        let sub_rule_code = '海阔视界合集规则订阅￥home_sub￥' + dataItem.name + \\\"@@\\\" + ruleListJson + dataItem.id;\\n        let sub_url = 'rule://' + base64Encode(sub_rule_code);\\n        data.push({\\n            title: '订阅合集',\\n            url: sub_url,\\n            col_type: my_col_type2\\n        });\\n        data.push({\\n            title: '““””<span style=\\\"color: #ff7000\\\">导入轻合集</span>',\\n            url: $().lazyRule((dataItem,subUrl)=>{\\n                const {genRule}=$.require(\\\"hiker://page/genApi\\\");\\n                let import_rule=genRule(dataItem.name+\\\".\\\"+dataItem.author,subUrl);\\n                //copy(import_rule);\\n                let ruleCode=parsePaste(import_rule.split(\\\"\\\\n\\\")[0]);\\n                //return \\\"hiker://empty\\\"\\n                importUrl = 'rule://' + base64Encode(ruleCode);\\n                return importUrl\\n            },dataItem,ruleListJson + dataItem.id),\\n            col_type: my_col_type2\\n        });\\n        data.push({\\n            title: '““””<span style=\\\"color: #ff7000\\\">导入道德经</span>',\\n            url: $().lazyRule((dataItem,subUrl)=>{\\n                // let title = \\\"H-\\\"+dataItem.name+\\\".\\\"+dataItem.author;\\n                let title = \\\"J-\\\"+dataItem.name.split('.')[0];\\n                let subObj = {\\n                    title: title,\\n                    url: subUrl,\\n                    desc: \\\"hiker://files/rules/dzHouse/ruleCache/\\\"+title+\\\".json\\\",\\n                    code: \\\"\\\",\\n                    active: false,//禁用并发更新\\n                }\\n                let shareText = base64Encode(JSON.stringify(subObj));\\n                var pastes = getPastes();\\n                var url = sharePaste(shareText,pastes.slice(-1)[0]);\\n                let import_rule= \\\"轻合集订阅：\\\"+title+'\\\\n'+url;\\n                copy(import_rule);\\n                const path = 'hiker://files/rules/dzHouse/ruleCache/sub.json';\\n                $.rc(config.lib.sub);\\n                return 订阅导入(path)\\n            },dataItem,ruleListJson + dataItem.id),\\n            col_type: my_col_type2\\n        });\\n        data.push({\\n            title: \\\"<small>提示：开发者单独分享的合集文件只能单独导入。</small>\\\",\\n            col_type: \\\"rich_text\\\"\\n        });\\n    } else if (!dataItem.is_json_list && !hasSub && dataItem.data_type == 'home_rule_url') {\\n        let sub_rule_code = '海阔视界单规则订阅￥home_sub￥' + dataItem.name + \\\"@@\\\" + ruleListJson + dataItem.id + '&debug=true';\\n        let sub_url = 'rule://' + base64Encode(sub_rule_code);\\n        data.push({\\n            title: '订阅规则',\\n            url: sub_url,\\n            col_type: my_col_type\\n        })\\n    }\\n}\\nif (dataItem.is_json && dataItem.data_type === \\\"home_rule_url\\\" && !dataItem.is_json_list) {\\n    data.push({\\n        title: '进入频道',\\n        url: $( /*\\\"#noLoading#\\\"*/ ).lazyRule((name,home) => {\\n            let ruleList = JSON.parse(request(home));\\n            let hasRule = ruleList.some(item => item.title === name);\\n            if (hasRule) {\\n                putVar(\\\"Warehouse.back\\\", \\\"1\\\");\\n                back();\\n                return home+\\\"s@\\\" + name;\\n            } else {\\n                return \\\"toast://未安装\\\";\\n            }\\n        }, dataItem.name,api.home),\\n        col_type: my_col_type\\n    })\\n}\\nlet man_rule_safe = getApi(\\\"manRuleSafe\\\")+dataItem.id;\\nlet man_rule_good = getApi(\\\"manRuleGood\\\")+dataItem.id;\\n// dataItem.is_safe;\\nif(getVar('house.is_manager')){\\n    function setIsSafe(flag,man_rule_safe) {\\n        flag = flag || '';\\n        try {\\n            let code = fetch(man_rule_safe, {\\n                headers: {\\\"User-Agent\\\": MOBILE_UA},\\n                body: {\\n                    \\\"params\\\":\\n                        {\\n                            \\\"username\\\": getVar('house.username'),\\n                            \\\"password\\\": getVar('house.password'),\\n                            \\\"is_safe\\\": !!flag\\n                        }\\n                }\\n            });\\n            code = JSON.parse(code).result;\\n            if (code.status === 0) {\\n                return code.detail\\n            } else {\\n                return '操作失败:' + code.detail\\n            }\\n        } catch (e) {\\n            return '操作失败:' + e.message\\n        }\\n    }\\n    function setIsGood(flag,man_rule_good) {\\n        flag = flag || '';\\n        try {\\n            let code = fetch(man_rule_good, {\\n                headers: {\\\"User-Agent\\\": MOBILE_UA},\\n                body: {\\n                    \\\"params\\\":\\n                        {\\n                            \\\"username\\\": getVar('house.username'),\\n                            \\\"password\\\": getVar('house.password'),\\n                            \\\"is_good\\\": !!flag\\n                        }\\n                }\\n            });\\n            code = JSON.parse(code).result;\\n            if (code.status === 0) {\\n                return code.detail\\n            } else {\\n                return '操作失败:' + code.detail\\n            }\\n        } catch (e) {\\n            return '操作失败:' + e.message\\n        }\\n    }\\n    data.push({\\n        title:'🚫风险',\\n        col_type:'scroll_button',\\n        url:$('标记该规则为风险?风险规则无法被导入').confirm((id,man_rule_safe,setIsSafe)=>{\\n            let ret = setIsSafe(false,man_rule_safe);\\n            if(!/操作失败/.test(ret)){\\n                refreshPage(false);\\n            }\\n            return 'toast://'+ret\\n        },dataItem.id,man_rule_safe,setIsSafe)\\n    });\\n    data.push({\\n        title:'✅正常',\\n        col_type:'scroll_button',\\n        url:$('标记该规则为正常?').confirm((id,man_rule_safe,setIsSafe)=>{\\n            let ret = setIsSafe(true,man_rule_safe);\\n            if(!/操作失败/.test(ret)){\\n                refreshPage(false);\\n            }\\n            return 'toast://'+ret\\n        },dataItem.id,man_rule_safe,setIsSafe)\\n    });\\n    data.push({\\n        title:'♥非优质',\\n        col_type:'scroll_button',\\n        url:$('标记该规则为非优质?').confirm((id,man_rule_good,setIsGood)=>{\\n            let ret = setIsGood(false,man_rule_good);\\n            if(!/操作失败/.test(ret)){\\n                refreshPage(false);\\n            }\\n            return 'toast://'+ret\\n        },dataItem.id,man_rule_good,setIsGood)\\n    });\\n    data.push({\\n        title:'💖优质',\\n        col_type:'scroll_button',\\n        url:$('标记该规则为优质?').confirm((id,man_rule_good,setIsGood)=>{\\n            let ret = setIsGood(true,man_rule_good);\\n            if(!/操作失败/.test(ret)){\\n                refreshPage(false);\\n            }\\n            return 'toast://'+ret\\n        },dataItem.id,man_rule_good,setIsGood)\\n    });\\n}\\n\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: dataItem.good_num,\\n    pic_url: \\\"hiker://files/icon/赞.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/MakeAcomment#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        id: dataItem.id,\\n        name: dataItem.name\\n    }\\n});\\ndata.push({\\n    title: dataItem.bad_num,\\n    pic_url: \\\"hiker://files/icon/踩.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/MakeAcomment#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        id: dataItem.id,\\n        name: dataItem.name,\\n        defaultType:\\\"bad\\\"\\n    }\\n});\\ndata.push({\\n    title: \\\"评论\\\",\\n    pic_url: \\\"hiker://files/icon/评论.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/MakeAcomment#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        id: dataItem.id,\\n        name: dataItem.name\\n    }\\n});\\nlet totalSum = dataItem.good_num + dataItem.bad_num;\\n\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"评论(\\\" + totalSum + \\\")\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(htmlTag(\\\"u\\\", \\\"查看全部评论 >\\\")),\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://page/Comment\\\",\\n    extra: {\\n        url: \\\"hiker://empty#fypage#noHistory##noRecordHistory#\\\",\\n        id: dataItem.id,\\n        totalSum: totalSum,\\n        no_active: false\\n    }\\n});\\n//const longestSum=120;\\nlet icon = {\\n    \\\"good\\\": \\\"👍\\\",\\n    \\\"bad\\\": \\\"👎\\\",\\n    \\\"reply\\\":\\\"开发者🗣\\\"\\n}\\nif (totalSum === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    let commentList = JSON.parse(request(api.dis_get + dataItem.id + \\\"?limit=5\\\")).result;\\n    for (let item of commentList) {\\n        let Reply = item.discuss_type===\\\"reply\\\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\\\"‘‘回复@\\\"+item.reply_to_name+\\\" #\\\"+item.discuss_id+\\\"’’\\\\n\\\":\\\"\\\";\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            //url: \\\"toast://\\\" + item.qq,\\n            url:\\\"mqqwpa://im/chat?chat_type=wpa&uin=\\\"+item.qq,\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: Reply+item.create_date + \\\"·\\\" + icon[item.discuss_type],\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra:{\\n                name:item.name,\\n                type:\\\"long_text\\\",\\n                text:item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n    }\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n}\\n\\nsetResult(data);\"},{\"col_type\":\"rich_text\",\"name\":\"查看\",\"path\":\"info\",\"rule\":\"js:\\nsetPageTitle(\\\"查看「\\\"+MY_PARAMS.name+\\\"」\\\")\\nsetResult([{\\n    title: MY_PARAMS.text,\\n    col_type:MY_PARAMS.type\\n}]);\"},{\"col_type\":\"movie_3\",\"name\":\"开发者注册\",\"path\":\"Register\",\"rule\":\"js:\\nsetPageTitle(\\\"开发者注册\\\");\\nconst {\\n    getApi,\\n    htmlTag,\\n    mapColType,\\n    small\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nvar data = [];\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.Password\\\");\\n    clearVar(\\\"Warehouse.Username\\\");\\n    clearVar(\\\"Warehouse.Description\\\");\\n    clearVar(\\\"Warehouse.UserAddress\\\");\\n}));\\naddListener('onRefresh', $.toString(()=>{\\n    putVar(\\\"Warehouse.Wait\\\", \\\"\\\");\\n}));\\ndata.push({\\n    title: '账号',\\n    desc: \\\"请输入账号(必填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.Username', ''),\\n        type: \\\"number\\\",\\n        onChange: 'putVar(\\\"Warehouse.Username\\\",input)'\\n    }\\n}, {\\n    title: '密码',\\n    desc: \\\"请输入密码(必填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.Password', ''),\\n        type: \\\"password\\\",\\n        onChange: 'putVar(\\\"Warehouse.Password\\\",input)'\\n    }\\n});\\nmapColType(data, \\\"line_blank\\\", 1);\\ndata.push({\\n    title: '昵称',\\n    desc: \\\"请输入昵称(必填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.UserAddress', ''),\\n        onChange: 'putVar(\\\"Warehouse.UserAddress\\\",input)'\\n    }\\n}, {\\n    title: '描述',\\n    desc: \\\"说说为什么要注册吧\\\\n(可以增加通过概率,选填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.Description', ''),\\n        type: \\\"textarea\\\",\\n        onChange: 'putVar(\\\"Warehouse.Description\\\",input)'\\n    }\\n})\\n\\nmapColType(data, \\\"line_blank\\\", 1);\\n\\ndata.push({\\n    title: htmlTag(\\\"b\\\", \\\"注册\\\"),\\n    url: $(getApi(\\\"new_dev\\\")+\\\"#noLoading#\\\").lazyRule((getId, confirm) => {\\n        let username = getVar('Warehouse.Username', \\\"\\\"),\\n            password = getVar('Warehouse.Password', \\\"\\\"),\\n            description = getVar('Warehouse.Description', \\\"\\\"),\\n            name = getVar(\\\"Warehouse.UserAddress\\\", \\\"\\\");\\n        if ([username, password, name].includes(\\\"\\\")) {\\n            return \\\"toast://账号,密码和昵称不能为空\\\";\\n        }\\n        showLoading(\\\"正在提交申请表\\\");\\n        let result = request(input, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"reason\\\": description,\\n                    \\\"name\\\": name,\\n                    \\\"password\\\": password,\\n                    \\\"qq\\\": username\\n                }\\n            }),\\n            method: 'post'\\n        });\\n        result = JSON.parse(result).result;\\n        hideLoading();\\n        if (result.status !== 0) {\\n            return \\\"toast://\\\" + result.detail;\\n        }\\n        let idresult = JSON.parse(request(getId + \\\"?qq=\\\" + username));\\n        if (idresult.status !== 0) {\\n            return \\\"toast://\\\" + idresult.detail;\\n        }\\n        \\n        return $(\\\"\\\", \\\"输入邮箱验证码\\\\n\\\" + result.detail).input((confirm, id, account) => {\\n            showLoading(\\\"请耐心等待\\\");\\n            try {\\n                let result = request(confirm, {\\n                    headers: {\\n                        'content-type': 'application/json'\\n                    },\\n                    body: JSON.stringify({\\n                        \\\"params\\\": {\\n                            \\\"regist_id\\\": id,\\n                            \\\"yzm\\\": input\\n                        }\\n                    }),\\n                    method: 'POST'\\n                });\\n                result = JSON.parse(result).result;\\n                if (result.status !== 0) {\\n                    hideLoading();\\n                    return \\\"toast://\\\" + result.detail;\\n                } else {\\n                    putVar(\\\"WarehouseUsername\\\", account[0]);\\n                    putVar(\\\"WarehousePassword\\\", account[1]);\\n                    hideLoading();\\n                    back();\\n                    return \\\"toast://成功提交注册注册\\\\n\\\"+result.detail;\\n                }\\n            } catch (e) {\\n                hideLoading();\\n                return \\\"toast://出错了呐\\\";\\n            }\\n        }, confirm, idresult.result, [username, password]);\\n    }, getApi(\\\"new_getId\\\"), getApi(\\\"new_confirm\\\")),\\n    col_type: 'text_center_1'\\n});\\nsetResult(data);\"},{\"col_type\":\"text_1\",\"name\":\"个人资料\",\"path\":\"PersonalData\",\"rule\":\"js:\\nsetPageTitle(\\\"个人资料\\\");\\nvar data=[];\\nconst {\\n    getApi,\\n    getFile,\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\n\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\n\\nlet {username,password} = getFile();\\nlet dev = JSON.parse(request(getApi(\\\"user\\\")+MY_PARAMS.id)).result;\\ndata.push({\\n    title:\\\"头像\\\",\\n    desc:dev.avatar,\\n    url:\\\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{\\n        dev:dev,\\n        username:username,\\n        password:password,\\n        Pattern:0\\n    },\\n    col_type:\\\"text_1\\\"\\n});\\n\\n\\ndata.push({\\n    title:\\\"昵称\\\",\\n    desc:dev.name,\\n    url:\\\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{\\n        dev:dev,\\n        username:username,\\n        password:password,\\n        Pattern:1\\n    },\\n    col_type:\\\"text_1\\\"\\n});\\n\\ndata.push({\\n    title:\\\"密码\\\",\\n    url:\\\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{\\n        dev:dev,\\n        username:username,\\n        password:password,\\n        Pattern:2\\n    },\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\ndata.push({\\n    title:\\\"账号：\\\"+username,\\n    url:\\\"copy://\\\"+username,\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    title:\\\"UID：\\\"+dev.id,\\n    url:\\\"copy://\\\"+dev.id,\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\ndata.push({\\n    title:\\\"提交云仓库规则\\\",\\n    url:$(\\\"#noLoading#\\\").lazyRule((host)=>{\\n        let code=request(host+\\\"/hikerule/rulelist.json?id=145\\\");\\n        let word=\\\"￥publish￥\\\"+base64Encode(code);\\n        return \\\"rule://\\\"+base64Encode(word);\\n    },api.host),\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    title:\\\"同步提交云仓库账号密码\\\",\\n    url:\\\"rule://\\\"+base64Encode(\\\"￥publish_account￥\\\"+username+\\\"@\\\"+password),\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\ndata.push({\\n    title:\\\"你一共发布了「\\\"+dev.rule_num+\\\"」条规则\\\",\\n    url:\\\"hiker://empty\\\",\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\nlet user = getFile();\\ndata.push({\\n    title:\\\"注销登录\\\",\\n    url:$(\\\"确认注销登录?\\\").confirm(f => {\\n        f.username=\\\"\\\";\\n        f.password=\\\"\\\";\\n        writeFile('hiker://files/WarehouseUSER.json', JSON.stringify(f));\\n        putVar(\\\"Warehouse.back\\\",\\\"1\\\");\\n        back();\\n        return \\\"toast://已注销\\\";\\n    },user),\\n    col_type:\\\"text_center_1\\\"\\n});\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"更改个人资料\",\"path\":\"modify_PersonalData\",\"rule\":\"js:\\nconst {\\n    getApi,\\n    color,\\n    small,\\n    getFile,\\n    htmlTag\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    dev,\\n    username,\\n    password,\\n    Pattern\\n} = MY_PARAMS;\\nvar data = [];\\nlet path = \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.m.petName\\\");\\n    clearVar(\\\"Warehouse.m.avatar\\\");\\n    clearVar(\\\"Warehouse.m.Password.c\\\");\\n    clearVar(\\\"Warehouse.m.Password.x\\\");\\n    clearVar(\\\"Warehouse.m.Password.y\\\");\\n}));\\nfunction m_petName() {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        col_type: 'input',\\n        desc: \\\"请输入新昵称\\\",\\n        extra: {\\n            titleVisible: false,\\n            defaultValue: getVar('Warehouse.m.petName', '')||dev.name,\\n            onChange: 'putVar(\\\"Warehouse.m.petName\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title: \\\"保存\\\",\\n        url: $(getApi(\\\"modify_name\\\") + path).lazyRule(() => {\\n            let newPetName = getVar('Warehouse.m.petName', '');\\n            if (newPetName == \\\"\\\") {\\n                return \\\"toast://你还什么都没填啊!\\\";\\n            }\\n            let result = request(input + \\\"&name=\\\" + encodeURIComponent(newPetName));\\n            result = JSON.parse(result);\\n            if (result.status === 0) {\\n                back();\\n                return \\\"toast://修改成功\\\";\\n            } else {\\n                return \\\"toast://\\\" + result.detail;\\n            }\\n        }),\\n        col_type: 'text_center_1'\\n    });\\n}\\n\\nfunction m_avatar() {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        col_type: 'input',\\n        desc: \\\"请输入新的头像链接\\\",\\n        extra: {\\n            titleVisible: false,\\n            defaultValue: getVar('Warehouse.m.avatar', '') || dev.avatar,\\n            onChange: 'putVar(\\\"Warehouse.m.avatar\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title: \\\"保存\\\",\\n        url: $(getApi(\\\"modify_ava\\\") + path).lazyRule(() => {\\n            let newAvatar = getVar('Warehouse.m.avatar', '');\\n            \\n            let result = request(input + \\\"&avatar_url=\\\" + encodeURIComponent(newAvatar));\\n            result = JSON.parse(result);\\n            if (result.status === 0) {\\n                back();\\n                return \\\"toast://修改成功\\\";\\n            } else {\\n                return \\\"toast://\\\" + result.detail;\\n            }\\n        }),\\n        col_type: 'text_center_1'\\n    });\\n}\\n\\nfunction m_pwd() {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title:\\\"原密码\\\",\\n        col_type: 'input',\\n        desc: \\\"请输入原密码\\\",\\n        extra: {\\n            type:\\\"password\\\",\\n            defaultValue: getVar('Warehouse.m.Password.y', ''),\\n            onChange: 'putVar(\\\"Warehouse.m.Password.y\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title:\\\"新密码\\\",\\n        col_type: 'input',\\n        desc: \\\"请输入新密码\\\",\\n        extra: {\\n            type:\\\"password\\\",\\n            defaultValue: getVar('Warehouse.m.Password.x', ''),\\n            onChange: 'putVar(\\\"Warehouse.m.Password.x\\\",input)'\\n        }\\n    });\\n    data.push({\\n        title:\\\"重复新密码\\\",\\n        col_type: 'input',\\n        desc: \\\"请重复新密码\\\",\\n        extra: {\\n            type:\\\"password\\\",\\n            titleVisible: false,\\n            defaultValue: getVar('Warehouse.m.Password.c', ''),\\n            onChange: 'putVar(\\\"Warehouse.m.Password.c\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title: \\\"保存\\\",\\n        url: $(getApi(\\\"modify_pwd\\\")+path).lazyRule((password,username) => {\\n            let old_password = getVar('Warehouse.m.Password.y', '');\\n            let new_password = getVar('Warehouse.m.Password.x', '');\\n            let new_password_again = getVar('Warehouse.m.Password.c', '');\\n            if (old_password!==password) {\\n                return \\\"toast://原密码错误\\\";\\n            }\\n            if(new_password===\\\"\\\"){\\n                return \\\"toast://请输入新密码\\\";\\n            }\\n            if(new_password!==new_password_again){\\n                return \\\"toast://两次密码不同\\\"\\n            }\\n            let result = request(input + \\\"&new_password=\\\" + new_password+\\\"&new_password_re=\\\"+new_password_again);\\n            result = JSON.parse(result);\\n            if (result.status === 0) {\\n                writeFile(\\\"hiker://files/WarehouseUSER.json\\\",JSON.stringify({\\n                    username:username,\\n                    password:new_password\\n                }));\\n                back();\\n                return \\\"toast://修改成功\\\";\\n            } else {\\n                return \\\"toast://\\\" + result.detail;\\n            }\\n        },password,username),\\n        col_type: 'text_center_1'\\n    });\\n}\\n\\nswitch (Pattern) {\\n    case 0:\\n        setPageTitle(\\\"修改头像\\\");\\n        m_avatar();\\n        break;\\n    case 1:\\n        setPageTitle(\\\"修改昵称\\\");\\n        m_petName();\\n        break;\\n    case 2:\\n        setPageTitle(\\\"修改密码\\\");\\n        m_pwd();\\n        break;\\n}\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"编辑规则备注\",\"path\":\"set_rule_notes\",\"rule\":\"js:\\nlet data = [];\\nconst {\\n    getApi\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id,\\n    username,\\n    password,\\n    name\\n} = MY_PARAMS;\\nsetPageTitle(\\\"备注「\\\"+name+\\\"」\\\");\\naddListener('onClose',\\\"clearVar('Warehouse.rule.notes', '')\\\");\\nlet notes=request(getApi(\\\"get_rule_note\\\")+id);\\nnotes=JSON.parse(notes).result;\\ndata.push({\\n    desc: \\\"规则备注......\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.rule.notes', '')||notes||\\\"\\\",\\n        type: \\\"textarea\\\",\\n        height:-1,\\n        onChange: 'putVar(\\\"Warehouse.rule.notes\\\",input)'\\n    }\\n});\\n\\ndata.push({\\n    title: \\\"保存\\\",\\n    col_type: \\\"text_center_1\\\",\\n    url: $(getApi(\\\"set_rule_note\\\") + id).lazyRule((username, password) => {\\n        let notes = getVar('Warehouse.rule.notes', '');\\n        let result = request(input, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"qq\\\": username,\\n                    \\\"password\\\": password,\\n                    \\\"note\\\":notes\\n                }\\n            }),\\n            method: 'POST'\\n        });\\n        result = JSON.parse(result).result;\\n        if (result.status !== 0) {\\n            return \\\"toast://\\\" + result.detail;\\n        }\\n        back(false);\\n        return \\\"toast://修改成功\\\";\\n    }, username, password)\\n});\\nsetResult(data);\"},{\"col_type\":\"line\",\"name\":\"评论列表\",\"path\":\"Comment\",\"rule\":\"js:\\nsetPageTitle(\\\"评论列表\\\");\\nconst {\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet data = [];\\nlet {\\n    totalSum,\\n    id,\\n    no_active,\\n    username,\\n    password\\n} = MY_PARAMS;\\nlet page = parseInt(MY_URL.split(\\\"#\\\")[1]);\\nlet discuss_type = getVar(\\\"Warehouse.comment.discuss_type\\\", \\\"\\\");\\nif (page === 1) {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    addListener('onClose', $.toString(() => {\\n        putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"\\\");\\n    }));\\n    data.push({\\n        title: \\\"全部\\\" + (discuss_type === \\\"\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n\\n    });\\n    data.push({\\n        title: \\\"👍赞\\\" + (discuss_type === \\\"good\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"good\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n\\n    });\\n    data.push({\\n        title: \\\"👎踩\\\" + (discuss_type === \\\"bad\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"bad\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n    });\\n    data.push({\\n        title: \\\"回复\\\" + (discuss_type === \\\"reply\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"reply\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n    });\\n}\\n\\n\\nlet icon = {\\n    \\\"good\\\": \\\"👍\\\",\\n    \\\"bad\\\": \\\"👎\\\",\\n    \\\"reply\\\":\\\"开发者🗣\\\"\\n}\\nlet control=(pid,active)=>void 0;\\nif(no_active){\\n    control=function(pid,active){\\n        data.push({\\n            title:active?\\\"隐藏评论\\\":\\\"展示评论\\\",\\n            url:$(api.dis_dev_control+pid+\\\"?qq=\\\" + username + \\\"&password=\\\" + password+\\\"#noLoading#\\\").lazyRule(()=>{\\n                let result=JSON.parse(request(input));\\n                refreshPage(false)\\n                return \\\"toast://\\\"+result.detail;\\n            }),\\n            col_type:\\\"text_2\\\"\\n        });\\n        data.push({\\n            title:\\\"删除评论\\\",\\n            url:$(\\\"确认删除该评论?\\\").confirm((input)=>{\\n                let result=JSON.parse(request(input));\\n                refreshPage(false)\\n                return \\\"toast://\\\"+result.detail;\\n            },api.dis_dev_control+pid+\\\"?qq=\\\" + username + \\\"&password=\\\" + password+\\\"&delete=1\\\"),\\n            col_type:\\\"text_2\\\"\\n        });\\n        data.push({\\n            col_type:\\\"line\\\"\\n        });\\n        data.push({\\n            col_type:\\\"line\\\"\\n        });\\n    }\\n}\\nif (totalSum === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    let commentList = JSON.parse(request(api.dis_get + id + \\\"?limit=5&page=\\\" + page + \\\"&no_active=\\\" + no_active + \\\"&discuss_type=\\\" + discuss_type)).result;\\n    for (let item of commentList) {\\n        let Reply = item.discuss_type===\\\"reply\\\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\\\"‘‘回复@\\\"+item.reply_to_name+\\\" #\\\"+item.discuss_id+\\\"’’\\\\n\\\":\\\"\\\";\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            //url: no_active?\\\"hiker://page/Reply\\\":\\\"toast://\\\" + item.qq,\\n\\t\\t       url:no_active?\\\"hiker://page/Reply\\\":\\\"mqqwpa://im/chat?chat_type=wpa&uin=\\\"+item.qq,\\n            extra:{\\n                ruleId: id,\\n                name: item.name,\\n                password: password,\\n                username: username,\\n                replyId:item.id\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: Reply+item.create_date + \\\"·\\\" + icon[item.discuss_type],\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra:{\\n                name:item.name,\\n                type:\\\"long_text\\\",\\n                text:item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        control(item.id,item.active);\\n    }\\n    if (commentList.length === 0) {\\n        data.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n    }\\n}\\n\\nsetResult(data)\"},{\"col_type\":\"movie_3\",\"name\":\"发表评论\",\"path\":\"MakeAcomment\",\"rule\":\"js:\\nlet data = [];\\nconst {\\n    api,\\n    getFile\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id,\\n    name,\\n    defaultType\\n} = MY_PARAMS;\\nlet user=getFile().user||[\\\"\\\",\\\"\\\"];\\n\\nsetPageTitle(\\\"评论(\\\" + name + \\\")\\\");\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.comment.type\\\");\\n    clearVar(\\\"Warehouse.comment.text\\\");\\n    clearVar(\\\"Warehouse.comment.qq\\\");\\n    refreshPage(false);\\n}));\\nlet type = getVar(\\\"Warehouse.comment.type\\\") || defaultType||\\\"good\\\";\\ndata.push({\\n    desc: \\\"评论......\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.comment.text', ''),\\n        type: \\\"textarea\\\",\\n        height:7,\\n        onChange: 'putVar(\\\"Warehouse.comment.text\\\",input)'\\n    }\\n});\\ndata.push({\\n    title:\\\"账号：\\\"+(user[0]||\\\"\\\"),\\n    desc:\\\"验证码：\\\"+(user[1]||\\\"\\\"),\\n    url:\\\"hiker://page/Userregistration\\\",\\n    col_type: 'text_1',\\n    \\n});\\n\\ndata.push({\\n    title:  (type === \\\"good\\\" ? \\\"◉\\\" : \\\"○\\\")+\\\" 👍\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n        putVar(\\\"Warehouse.comment.type\\\", \\\"good\\\");\\n        refreshPage();\\n        return \\\"hiker://empty\\\";\\n    }),\\n    col_type: 'text_2'\\n\\n});\\ndata.push({\\n    title:  (type === \\\"bad\\\" ? \\\"◉\\\" : \\\"○\\\")+\\\" 👎\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n        putVar(\\\"Warehouse.comment.type\\\", \\\"bad\\\");\\n        refreshPage();\\n        return \\\"hiker://empty\\\";\\n    }),\\n    col_type: 'text_2'\\n});\\n\\ndata.push({\\n    title: \\\"提交\\\",\\n    col_type: \\\"text_center_1\\\",\\n    url: $(api.dis_new + id).lazyRule((Account) => {\\n        let text = getVar('Warehouse.comment.text', '');\\n        let [qq,auth_code] = Account;\\n        let type = getVar('Warehouse.comment.type') || 'good';\\n        qq=qq||\\\"\\\";\\n        auth_code=auth_code||\\\"\\\";\\n        if(qq==\\\"\\\"||auth_code==\\\"\\\"){\\n            return \\\"toast://未登录账号\\\";\\n        }\\n        if(text==\\\"\\\"){\\n            return \\\"toast://你还什么都没写啊\\\";\\n        }\\n        function r(p) {\\n            let result = request(input, {\\n                headers: {\\n                    'content-type': 'application/json'\\n                },\\n                body: JSON.stringify(p),\\n                method: 'POST'\\n            });\\n            return JSON.parse(result).result;\\n        }\\n        let p = {\\n            \\\"params\\\": {\\n                \\\"discuss_text\\\": text,\\n                \\\"qq\\\": qq,\\n                \\\"discuss_type\\\": type,\\n                \\\"auth_code\\\": auth_code\\n            }\\n        }\\n        let result = r(p);\\n        if(result.status===0){\\n            back(false);\\n        }\\n        return \\\"toast://\\\"+result.detail;\\n\\n    },user)\\n});\\n\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"伪用户注册\",\"path\":\"Userregistration\",\"rule\":\"js:\\nconst {\\n    api,\\n    getFile,\\n    getUserDate\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet data = [];\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nsetPageTitle(\\\"用户列表管理\\\");\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.m.qq\\\");\\n    clearVar(\\\"Warehouse.m.yzm\\\");\\n}));\\nlet user = getFile();\\nlet userName = user.user || [\\\"\\\"];\\nuserName = userName[0];\\ndata.push({\\n    title: \\\"““””<big>(添加/验证)账号</big>\\\",\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\n\\ndata.push({\\n    title: \\\"获取\\\",\\n    col_type: 'input',\\n    desc: \\\"请输入qq\\\",\\n    url: $.toString((a, b) => {\\n        let qq = input;\\n        if (qq == \\\"\\\") {\\n            return \\\"toast://你还什么都没填啊!\\\";\\n        }\\n        showLoading(\\\"获取中...\\\")\\n        return $(\\\"#noLoading#\\\").lazyRule((qq, a, b) => {\\n        try {\\n            let result = request(a, {\\n                headers: {\\n                    'content-type': 'application/json'\\n                },\\n                body: JSON.stringify({\\n                    \\\"params\\\": {\\n                        \\\"qq\\\": qq\\n                    }\\n                }),\\n                method: 'POST'\\n            });\\n            result = JSON.parse(result).result;\\n            if (result.status === 0) {\\n                hideLoading();\\n                return \\\"toast://\\\" + result.detail;\\n            } else {\\n                let result2 = JSON.parse(request(b + \\\"?qq=\\\" + qq));\\n                hideLoading();\\n                return \\\"toast://\\\" + result2.detail;\\n            }\\n        } catch (e) {\\n            hideLoading();\\n            throw e;\\n        }\\n        }, qq, a, b);\\n\\n    }, api.dis_new_user, api.dis_verify),\\n    extra: {\\n        type: \\\"number\\\",\\n        defaultValue: getVar('Warehouse.m.qq', '') || userName,\\n        onChange: 'putVar(\\\"Warehouse.m.qq\\\",input)'\\n    }\\n});\\n\\ndata.push({\\n    col_type: 'input',\\n    desc: \\\"请输入验证码\\\",\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.m.yzm', ''),\\n        onChange: 'putVar(\\\"Warehouse.m.yzm\\\",input)'\\n    }\\n});\\ndata.push({\\n    col_type: 'rich_text',\\n    title: \\\"<small>提示：1.每天只能获取5次验证码.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.<s>验证码有效期持续一周左右</s>(暂时不会，忘记验证码可通过QQ号获取)</small>\\\"\\n});\\n\\nlet userList = getUserDate();\\ndata.push({\\n    title: \\\"验证/登录\\\",\\n    url: $(\\\"确定保存，验证码填错，无法评论哦\\\").confirm((f, l, login) => {\\n        let qq = getVar('Warehouse.m.qq', '');\\n        let yzm = getVar('Warehouse.m.yzm', '');\\n        if (qq == \\\"\\\" || yzm == \\\"\\\") {\\n            return \\\"toast://qq或验证码为空\\\";\\n        }\\n        let result = request(login, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"qq\\\": qq,\\n                    \\\"auth_code\\\": yzm\\n                }\\n            }),\\n            method: 'POST'\\n        });\\n        result = JSON.parse(result).result;\\n        if (result.status === 0) {\\n            f.user = [qq, yzm];\\n            writeFile(\\\"hiker://files/WarehouseUSER.json\\\", JSON.stringify(f));\\n            let index = l.findIndex(item => item[0] === qq);\\n            if (index > -1) {\\n                l.splice(index, 1, [qq, yzm]);\\n            } else if (l.length < 6) {\\n                l.push([qq, yzm]);\\n            } else {\\n                l.splice(0, 1);\\n                l.push([qq, yzm]);\\n            }\\n            writeFile(\\\"hiker://files/WarehouseUSERA.json\\\", JSON.stringify(l));\\n            back();\\n            return \\\"toast://验证成功\\\";\\n        }\\n        return \\\"toast://\\\" + result.detail;\\n    }, user, userList, api.dis_login),\\n    col_type: 'text_center_1'\\n});\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: \\\"““””<big>账号列表</big>\\\\t\\\\t\\\\t<small>(保留5条记录)</small>\\\",\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\nuserList.reverse();\\n\\nfor (let item of userList) {\\n    data.push({\\n        title: \\\"账号：\\\" + item[0] + (userName === item[0] ? \\\"\\\\t\\\\t\\\\t““[当前账号]””\\\" : \\\"\\\"),\\n        desc: \\\"验证码：\\\" + item[1],\\n        url: $(\\\"是否切换为该[\\\" + item[0] + \\\"]账号\\\").confirm((f, item) => {\\n            f.user = item;\\n            writeFile(\\\"hiker://files/WarehouseUSER.json\\\", JSON.stringify(f));\\n            back();\\n            return \\\"toast://切换成功\\\";\\n        }, user, item),\\n        col_type: \\\"text_1\\\"\\n    });\\n}\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: \\\"退出账号\\\",\\n    url: $(\\\"确认退出登录状态\\\").confirm((f) => {\\n        f.user = [];\\n        writeFile(\\\"hiker://files/WarehouseUSER.json\\\", JSON.stringify(f));\\n        back();\\n        return \\\"toast://退出成功\\\";\\n    }, user),\\n    col_type: 'text_center_1'\\n});\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"列表排序算法\",\"path\":\"sort\",\"rule\":\"js:\\n/* 规则列表排序 [ UP、NEW、无更新 ] 顺序 */\\n/* 归并排序 Start */\\n/*\\nfunction mergeSort(arr) {\\n    var len = arr.length;\\n    if (len < 2) {\\n        return arr;\\n    }\\n    var middle = Math.floor(len / 2),\\n        left = arr.slice(0, middle),\\n        right = arr.slice(middle);\\n    return merge(mergeSort(left), mergeSort(right));\\n}\\nfunction merge(left, right) {\\n    var result = [];\\n    var isThisVersionList = [];\\n\\n    while (left.length > 0 && right.length > 0) {\\n        if (left[0].title.includes(\\\"🆙\\\")) {\\n            result.push(left.shift());\\n        } else if (right[0].title.includes(\\\"🆙\\\")) {\\n            result.push(right.shift());\\n        } else if (left[0].title.includes(\\\"🆕\\\")) {\\n            result.push(left.shift());\\n        } else if (right[0].title.includes(\\\"🆕\\\")) {\\n            result.push(right.shift());\\n        } else {\\n            isThisVersionList.push(left.shift());\\n            isThisVersionList.push(right.shift());\\n        }\\n    }\\n\\n    while (isThisVersionList.length) result.push(isThisVersionList.shift());\\n\\n    while (left.length)\\n        result.push(left.shift());\\n\\n    while (right.length)\\n        result.push(right.shift());\\n\\n    return result;\\n}\\n$.exports.mergeSort = mergeSort;\\n*/\\n/* 归并排序 End */\\n/* 普通分类排序 Start */\\nfunction normalSort(arr) {\\n    var len = arr.length;\\n    if (len < 2) {\\n        return arr;\\n    }\\n    let upResult = [];\\n    let otherResult = [];\\n    while(arr.length) {\\n        let item = arr.shift();\\n        if(item.title.includes(\\\"🆙\\\")) {\\n            upResult.push(item)\\n        } else {\\n            otherResult.push(item)\\n        }\\n    }\\n    return upResult.concat(otherResult);\\n}\\n$.exports.normalSort = normalSort;\\n/* 普通分类排序 End */\"},{\"col_type\":\"icon_2_round\",\"name\":\"全部公开规则\",\"path\":\"AllPublicRule\",\"rule\":\"js:\\n    const {\\n        api,\\n        localRuleVer,\\n        getApi\\n    } = $.require(\\\"hiker://page/utiliy\\\");\\nconst {\\n    mergeSort\\n} = $.require(\\\"hiker://page/sort\\\");\\nlet dataType = getVar(\\\"Warehouse.type\\\", \\\"\\\");\\nlet order = getVar(\\\"Warehouse.order\\\", \\\"0\\\");\\nlet sort = getVar(\\\"Warehouse.sort\\\", \\\"0\\\");\\nlet good = getVar(\\\"Warehouse.good\\\", \\\"\\\");\\nlet page = MY_URL.split(\\\"#\\\")[1] || 1;\\nlet ruleList = JSON.parse(request(api.all_rule + \\\"?data_type=\\\" + dataType + \\\"&page=\\\" + page + \\\"&limit=20&order=\\\" + order + \\\"&sort=\\\" + sort+ \\\"&is_good=\\\" + good)).result;\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.type\\\");\\n    clearVar(\\\"Warehouse.order\\\");\\n    clearVar(\\\"Warehouse.sort\\\");\\n    clearVar(\\\"Warehouse.good\\\");\\n    clearVar(\\\"Warehouse.back\\\");\\n}));\\nlet data = [];\\nif (getVar(\\\"Warehouse.back\\\") === \\\"1\\\") {\\n    back();\\n}\\nfunction tab(arr, type, contrast) {\\n    for (let item of arr) {\\n        data.push({\\n            title: item[1] === contrast ? \\\"““\\\" + item[0] + \\\"””\\\" : item[0],\\n            url: $(\\\"#noLoading#\\\").lazyRule((key, type) => {\\n                putVar(type, key);\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\";\\n            }, item[1], type),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    data.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n}\\nif (page === \\\"1\\\") {\\n    tab([\\n        [\\\"全部\\\", \\\"\\\"],\\n        [\\\"小程序\\\", \\\"home_rule_url\\\"],\\n        [\\\"提交云仓库规则\\\", \\\"publish\\\"],\\n        [\\\"网页插件\\\", \\\"js_url\\\"],\\n        [\\\"静态页面\\\", \\\"html\\\"],\\n        [\\\"主题\\\", \\\"config\\\"]\\n    ], \\\"Warehouse.type\\\", dataType);\\n    tab([\\n        [\\\"时间\\\", \\\"0\\\"],\\n        [\\\"ID\\\", \\\"1\\\"],\\n        [\\\"好评度\\\", \\\"2\\\"],\\n        [\\\"差评度\\\", \\\"3\\\"],\\n        [\\\"回复数\\\", \\\"4\\\"]\\n    ], \\\"Warehouse.order\\\", order);\\n    tab([\\n        [\\\"倒序\\\", \\\"0\\\"],\\n        [\\\"正序\\\", \\\"1\\\"]\\n    ], \\\"Warehouse.sort\\\", sort);\\n    tab([\\n        [\\\"不论\\\", \\\"\\\"],\\n        [\\\"优质\\\", \\\"1\\\"]\\n    ], \\\"Warehouse.good\\\", good);\\n    data.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(name => \\\"hiker://search?s=\\\" + input + \\\"&rule=\\\" + name, MY_RULE.title),\\n        col_type: \\\"input\\\",\\n        desc: \\\"搜索全部规则\\\"\\n    });\\n}\\n\\nlet homeList = JSON.parse(request(api.home));\\nlet mRuleList = [];\\nfor (var item of ruleList) {\\n    var name = item.name;\\n    if (item.is_tap) {\\n        let location = JSON.parse(request(getApi(\\\"ruleListJson\\\") + \\\"?id=\\\" + item.id));\\n        item.id = location.id;\\n        item.name = location.name;\\n        item.author = location.author;\\n        item.data_type = location.data_type;\\n        item.ver = location.ver\\n    }\\n    item.version = item.ver;\\n    let label = \\\"\\\",\\n        lver = -2;\\n    if (item.is_json && item.data_type === \\\"home_rule_url\\\") {\\n        lver = localRuleVer(homeList, item);\\n        if (lver === -1) {\\n            label = \\\"🆕\\\";\\n        } else if (lver < item.ver) {\\n            label = \\\"🆙\\\";\\n        }\\n    }\\n    mRuleList.push({\\n        title: label + name,\\n        url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#\\\",\\n        extra: {\\n            lver: lver,\\n            id: item.id,\\n            isAll:true\\n        },\\n        pic_url: item.pic,\\n    })\\n}\\n/* 归并排序 Start */\\n//mRuleList = mergeSort(mRuleList);\\n/* 归并排序 End */\\ndata.push.apply(data, mRuleList)\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"回复\",\"path\":\"Reply\",\"rule\":\"js:\\nlet data = [];\\nconst {\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    replyId,\\n    ruleId,\\n    name,\\n    password,\\n    username\\n} = MY_PARAMS;\\n\\n\\nsetPageTitle(\\\"回复(\\\" + name + \\\")\\\");\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.comment.text\\\");\\n    refreshPage(false);\\n}));\\n\\ndata.push({\\n    desc: \\\"回复......\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.comment.text', ''),\\n        type: \\\"textarea\\\",\\n        height:7,\\n        onChange: 'putVar(\\\"Warehouse.comment.text\\\",input)'\\n    }\\n});\\n\\n\\ndata.push({\\n    title: \\\"提交\\\",\\n    col_type: \\\"text_center_1\\\",\\n    url: $(api.dis_reply + ruleId).lazyRule((password, username, ruleId) => {\\n        let text = getVar('Warehouse.comment.text', '');\\n        if (password == \\\"\\\" || username == \\\"\\\") {\\n            return \\\"toast://未登录账号\\\";\\n        }\\n        if (text == \\\"\\\") {\\n            return \\\"toast://你还什么都没写啊\\\";\\n        }\\n        let result = request(input, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"discuss_text\\\": text,\\n                    \\\"qq\\\": username,\\n                    \\\"password\\\": password,\\n                    \\\"discuss_id\\\": ruleId\\n                }\\n            }),\\n            method: 'POST'\\n        });\\n        result = JSON.parse(result).result;\\n        if (result.status === 0) {\\n            back(false);\\n        }\\n        return \\\"toast://\\\" + result.detail;\\n\\n    }, password, username, replyId)\\n});\\n\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"我的回复\",\"path\":\"MyReply\",\"rule\":\"js:\\nconst {\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    auth_code,\\n    qq\\n} = MY_PARAMS;\\nlet page = parseInt(MY_URL.split(\\\"#\\\")[1]);\\nlet data=[];\\nlet commentList = JSON.parse(request(api.dis_get_reply + \\\"?limit=5&page=\\\" + page + \\\"&qq=\\\" + qq + \\\"&auth_code=\\\" + auth_code)).result;\\nif (commentList.length === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>别拉了一条也不剩了</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    for (let item of commentList) {\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#\\\",\\n            extra: {\\n                lver: \\\"回复进入不支持查看\\\",\\n                id: item.rule_id[0]\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: item.create_date + \\\"·\\\"+item.rule_id[1]+\\\"·\\\"+\\\"开发者🗣\\\",\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra:{\\n                name:item.name,\\n                type:\\\"long_text\\\",\\n                text:item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n    }\\n    \\n}\\nsetResult(data);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"更多分享\",\"path\":\"moreShare\",\"rule\":\"js:\\n    addListener('onClose', $.toString(()=>{\\n        clearVar(\\\"house.upload_code\\\");\\n    }));\\nconst {color,small,api, getFile} = $.require(\\\"hiker://page/utiliy\\\");\\nlet houseFile = getFile||false;\\nlet put_url = api.host+'/hikerule/dev/put';\\nif(!houseFile){\\n    setItem('is_house_vip', 'false');\\n}\\nlet house_data = houseFile();\\n// log(house_data.username+'-'+house_data.password);\\nvar canup = house_data.username.length >= 6 && house_data.password.length > 2;\\nlog('可以上传?'+canup);\\nlet d = [];\\nlet file_type = [{name:'静态文件',value:'html'},{name:'网页插件',value:'js_url'},{name:'主页配置',value:'config'}]; //上传类型\\nlet file_redirect = [{name:'本地',value:'false'},{name:'直链302',value:'true'}]; //是否重定向\\nlet file_ua = [{name:'电脑',value:'pc'},{name:'手机',value:'mobile'}];\\nlet file_type_title = file_type.map((item) => {\\n    let name = getItem('house.file_type','静态文件');\\n    if(item.name===name){\\n        return '👉'+item.name;\\n    }else{\\n        return item.name;\\n    }\\n});\\nlet file_redirect_title = file_redirect.map((item) => {\\n    let name = getItem('house.file_redirect','本地');\\n    if(item.name===name){\\n        return '👉'+item.name;\\n    }else{\\n        return item.name;\\n    }\\n});\\nlet file_ua_title = file_ua.map((item) => {\\n    let name = getItem('house.file_ua','电脑');\\n    if(item.name===name){\\n        return '👉'+item.name;\\n    }else{\\n        return item.name;\\n    }\\n});\\nd.push({col_type: 'x5_webview_single', extra: {js: 'console.log(\\\"我加载了\\\")'}});\\nd.push({\\n    title: '获取',\\n    desc: \\\"文件路径,支持hiker,file,http,主题\\\",\\n    extra: {\\n        onChange: \\\"putVar('house.web_url',input)\\\",\\n        titleVisible: true,\\n        id:'filePath',\\n        defaultValue:getVar('house.web_url')\\n    },\\n    url:$.toString(() => {\\n        let input = getVar('house.web_url','');\\n        if(input.length<2){\\n            return 'toast://链接不可以为空'\\n        } else if(/^hiker:|^file:|^http:|^https:|^\\\\/storage\\\\/|^\\\\/sdcard\\\\//.test(input)){\\n            if(/^\\\\/storage\\\\/|^\\\\/sdcard\\\\//.test(input)){\\n                input = 'file://'+input;\\n            }\\n            log('正常链接:'+input);\\n            let ua = getItem('house.file_ua')==='电脑'?'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Safari/537.36':'Mozilla/5.0 (Linux; Android 9; MI 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Mobile Safari/537.36';\\n            let web_url_arr = input.split(';');\\n            let web_url = web_url_arr[0];\\n            let headers = {\\n                'Referer':'https://blog.csdn.net',\\n                'User-Agent':ua,\\n                'Accept':'application/json, text/javascript, */*; q=0.01',\\n                'Accept-Language':'zh-CN',\\n            };\\n            if(web_url_arr.length>=3&&web_url_arr[2].length>2){ //设置编码\\n                headers['content-type'] = 'charset='+web_url_arr[2].toUpperCase();\\n            }\\n            let params = {headers:headers,withHeaders:false,redirect:false};\\n            if(web_url_arr.length>=2&&web_url_arr[1].length>2){ // 设置请求方法\\n                params['method'] = web_url_arr[1].toUpperCase();\\n            }\\n            log('开始获取源码');\\n            try {\\n                /*\\n                requestAsync(web_url,params,function (key,code) {\\n                    let back_code = code;\\n                    if(back_code.length>20){\\n                        putVar('house.upload_code',back_code);\\n                        refreshPage(true);\\n                        return 'toast://源码已获取,并部分插入到文本区域'\\n                    }else{\\n                        return 'toast://错误，本次获取到空文本，疑似你没有此文件!';\\n                    }\\n                });\\n                */\\n                let back_code = getItem('house.file_ua')==='电脑'?fetch(web_url,params):request(web_url,params);\\n                if(back_code.length>20){\\n                    putVar('house.upload_code',back_code);\\n                    refreshPage(true);\\n                    return 'toast://源码已获取,并部分插入到文本区域'\\n                }else{\\n                    return 'toast://错误，本次获取到空文本，疑似你没有此文件!';\\n                }\\n            }catch (e) {\\n                log(e.message);\\n                return 'toast://发生了错误:\\\\n'+e.message;\\n            }\\n        }else if(/主题￥|元素￥/.test(input)){\\n            log('主题链接');\\n            let web_url_arr = input.split('￥');\\n            let web_url = web_url_arr[web_url_arr.length-1];\\n            let back_code = parsePaste(web_url);\\n            if(back_code.length>20) {\\n                putVar('house.upload_code',back_code);\\n                refreshPage(true);\\n                return 'toast://源码已获取,并部分插入到文本区域'\\n            }else{\\n                return 'toast://错误，本次获取返回为:\\\\n'+back_code;\\n            }\\n        }else{\\n            return 'toast://非法链接:\\\\n'+getVar('house.web_url');\\n        }\\n    }),\\n    col_type: \\\"input\\\"\\n});\\nd.push({\\n    title: \\\"选择文件路径\\\",\\n    url:$('#noLoading#').lazyRule(()=>{\\n        /*\\n        let fp = 'https://gitcode.net/qq_32394351/dr/-/raw/master/js/fileSelect.js';\\n        let f = require(fp);\\n        */\\n        let fp=config.lib.fileSelect;\\n        let f=$.rc(fp);\\n        return f.fileSelectionUri({\\n            callback: $.toString(() => {\\n                let target = findItem(\\\"filePath\\\").extra;\\n                updateItem(\\\"filePath\\\", {\\n                    extra: Object.assign(target, {\\n                        defaultValue: PATH\\n                    })\\n                });\\n                putVar('house.web_url',PATH);\\n                return true;\\n            }),\\n            onClickType:'confirm',\\n            fileType: \\\".js|.txt|.hiker|.json|.html\\\",\\n            pattern: 0,\\n            requireUrl:fp,\\n            initialPath:getPath('hiker://files/rules/dzHouse/').slice(7),\\n            memory:'true',\\n        });\\n    }),\\n    col_type: \\\"text_center_1\\\",\\n});\\nd.push({\\n    title:'上传类型',\\n    desc:'上传文件的类型,当前为:'+color(getItem('house.file_type','静态文件'),'#ff7000'),\\n    col_type:'text_1',\\n    url:$(file_type_title,2).select(() => {\\n        setItem('house.file_type',input.replace('👉',''));\\n        refreshPage(true);\\n        return 'toast://你选择了:'+input;\\n    })\\n});\\n\\nd.push({\\n    title:'文件定位',\\n    desc:'文件是否属于重定向,当前为:'+color(getItem('house.file_redirect','本地'),'#ff7000'),\\n    col_type:'text_1',\\n    url:$(file_redirect_title,2).select(() => {\\n        setItem('house.file_redirect',input.replace('👉',''));\\n        refreshPage(true);\\n        return 'toast://你选择了:'+input;\\n    })\\n});\\n\\nd.push({\\n    title:'设备UA',\\n    desc:'发起网页请求头标识,当前为:'+color(getItem('house.file_ua','电脑'),'#ff7000'),\\n    col_type:'text_1',\\n    url:$(file_ua_title,2).select(() => {\\n        setItem('house.file_ua',input.replace('👉',''));\\n        refreshPage(true);\\n        return 'toast://你选择了:'+input;\\n    })\\n});\\nfunction compare(name) {\\n    return function(item) {\\n        return item.name === name;\\n    }\\n}\\nd.push({\\n    title:'🗄️环境',\\n    col_type:'flex_button',\\n    url:$().lazyRule((file_type,compare)=>{\\n        log('查看环境变量');\\n        try {\\n            let up_code = getVar('house.upload_code','');\\n            let ftype =  file_type.filter(compare(getItem('house.file_type','静态文件')))[0].value;\\n            let redirect = getItem('house.file_redirect','本地')!=='本地';\\n            let code = !redirect?up_code:input;\\n            let env = {\\n                web_url:getVar('house.web_url',''),\\n                device:getItem('house.file_ua','电脑'),\\n                ftype:ftype||\\\"\\\",\\n                redirect:redirect,\\n                code:code.substring(0,40)||\\\"\\\",\\n            }\\n            log(env);\\n            return 'toast://'+JSON.stringify(env);\\n            // alert(JSON.stringify(env));\\n        }catch (e) {\\n            return 'toast://'+e.message;\\n            // alert(e.message);\\n        }\\n    },file_type,compare)\\n});\\n\\nd.push({\\n    title:'📃教程',\\n    col_type:'flex_button',\\n    url:$().x5Rule(()=>{\\n        let msg = '欢迎使用开发者更多分享工具\\\\n1.输入网址为本地文件路径,hiker://或者file://开头\\\\n2.点击网址输入栏后面的按钮\\\\n3.看文本预览区是否正确\\\\n4.点击上传按钮提交到仓库';\\n        alert(msg);\\n    })\\n});\\n\\nd.push({\\n    title:'🗑️清空',\\n    col_type:'flex_button',\\n    url:$().lazyRule(()=>{\\n        clearVar('house.upload_code');\\n        refreshPage(true);\\n        return 'toast://已清除预览区域内容'\\n    })\\n});\\n\\nd.push({\\n    title:'📲示例',\\n    col_type:'flex_button',\\n    url:$().lazyRule(()=>{\\n        let demo_code = getItem('house.demo','0');\\n        if(demo_code=='0'){\\n            putVar('house.web_url','hiker://files/rules/dzHouse/html/资源网书签.html');\\n            demo_code = parseInt(demo_code)+1;\\n            setItem('house.demo',demo_code+'');\\n        }else{\\n            putVar('house.web_url','file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/资源网书签.html');\\n            setItem('house.demo','0');\\n        }\\n        refreshPage(true);\\n        return 'toast://已设置示例地址'\\n    })\\n});\\n\\nd.push({\\n    title:'📤上传',\\n    col_type:'flex_button',\\n    url:$().lazyRule((canup,house_data,put_url,file_type) =>{\\n        function compare(name) {\\n            return function(item) {\\n                return item.name === name;\\n            }\\n        }\\n        const {getNowFormatDate}=$.require(\\\"hiker://page/utiliy\\\");\\n        let up_code = getVar('house.upload_code','');\\n        if(up_code.length < 2){\\n            return 'toast://源码区无内容，请先访问一个静态页面'\\n        }\\n        if(!canup){\\n            return 'toast://你不是开发者，没有提交到仓库的权利!'\\n        }\\n        let input = getVar('house.web_url','');\\n        let web_url = input.split(';')[0];\\n        let fileName = '';\\n        if(/^hiker:|^file:|^http:|^https:|^\\\\/storage\\\\/|^\\\\/sdcard\\\\//.test(web_url)){\\n            fileName = web_url.split('/')[web_url.split('/').length-1];\\n        }else if(/主题￥|元素￥/.test(input)){\\n            let bkarr = up_code.split('￥');\\n            if(bkarr.length<3){\\n                return 'toast://云剪贴板内容有误'\\n            }\\n            switch (bkarr[1]) {\\n                case 'my_home_theme':\\n                    fileName = up_code.split('「')[1].split('」')[0];\\n                    break;\\n                case 'my_home_single':\\n                    fileName = up_code.split('「')[1].split('」')[0];\\n                    break;\\n                case 'js_url':\\n                    fileName = up_code.split('￥')[2].split('@')[0];\\n                    break;\\n            }\\n        }else{\\n            return 'toast://错误，网页链接无内容!';\\n        }\\n        let ua = getItem('house.file_ua')==='电脑'?'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Safari/537.36':'Mozilla/5.0 (Linux; Android 9; MI 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Mobile Safari/537.36';\\n        let headers = {\\n            'Referer':'https://blog.csdn.net',\\n            \\\"content-type\\\": \\\"application/json\\\",\\n            'User-Agent':ua,\\n            'Accept':'application/json, text/javascript, */*; q=0.01',\\n            'Accept-Language':'zh-CN',\\n        };\\n        let toCompare = '';\\n        if(fileName.endsWith('.html')){\\n            toCompare = '静态文件';\\n        }else if(/主题/.test(fileName)){\\n            toCompare = '主页配置'\\n        }\\n        let ftype =  file_type.filter(compare(toCompare||getItem('house.file_type','静态文件')))[0].value;\\n        let redirect = getItem('house.file_redirect','本地')!=='本地';\\n        if(redirect&&!web_url.startsWith('http')){\\n            return 'toast://直链302重定向网址链接必须http开头';\\n        }\\n        let code = !redirect?up_code:web_url;\\n        let data = {\\\"params\\\":\\n                {\\\"data\\\": {rule_name: fileName, \\\"rule_type\\\": '更多分享', \\\"version\\\":getNowFormatDate(),\\\"rule_value\\\": code,\\n                        data_type:ftype, is_redirect:redirect,deviceUa:getItem('house.file_ua'),\\n                    },\\n                    \\\"name\\\": house_data.username,\\n                    \\\"password\\\": house_data.password}\\n        };\\n        let upparams = {headers:headers,body:JSON.stringify(data),withHeaders:false,redirect:false,method:'POST'};\\n        let backmsg = getItem('house.file_ua')==='电脑'?fetch(put_url,upparams):request(put_url,upparams);\\n        try{\\n            let result = JSON.parse(backmsg).result;\\n            let detail = result.detail;\\n            return 'toast://'+detail;\\n        }catch (e) {\\n            log(e.message);\\n            return 'toast://发生了错误\\\\n'+e.message;\\n        }\\n    },canup,house_data,put_url,file_type)\\n});\\n\\nd.push({\\n    title:'长文本预览区域',\\n    col_type:'text_1',\\n    url:'hiker://empty',\\n    extra: {textSize: 11,lineVisible:false}\\n});\\n\\nd.push({\\n    title:getVar('house.upload_code','').substring(0,10240),\\n    col_type:'long_text',\\n    extra: {textSize: 11}\\n});\\nsetPageTitle(\\\"更多分享\\\");\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"轻合集生成接口\",\"path\":\"genApi\",\"rule\":\"js:\\nfunction genRule(name,url,icon){\\n    icon=icon||'https://z3.ax1x.com/2021/11/16/IWJhxf.png';\\n    const {getNowFormatDate,api,getApi}=$.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    String.prototype.replaceAll = function(old,new_str){\\n        return this.split(old).join(new_str);\\n    };\\n    let muban = getApi('importUrl')+\\\"1690\\\";\\n    let muban_word={name:\\\"@轻合集\\\",url:\\\"@地址\\\",ver:\\\"@版本\\\",icon:\\\"@图标\\\"};\\n    let muban_code = fetch(muban);\\n    muban_code=muban_code.replaceAll(muban_word.name,name).replaceAll(muban_word.ver,getNowFormatDate()).replaceAll(muban_word.url,url).replaceAll(muban_word.icon,icon);\\n    let import_code=\\\"海阔视界规则分享，当前分享的是：小程序，无根树，花正清，不断荤腥不戒淫￥home_rule_v2￥base64://@\\\"+name+\\\"@\\\"+base64Encode(muban_code);\\n    var pastes = getPastes();\\n    var url = sharePaste(import_code,pastes.slice(-1)[0]);\\n    let import_rule= url+\\\"\\\\n\\\\n小程序：\\\"+name;\\n    return import_rule;\\n}\\n$.exports.genRule=genRule;\"},{\"col_type\":\"movie_3\",\"name\":\"全局解析免嗅\",\"path\":\"globalParse\",\"rule\":\"js:\\n    function getHeaders(playUrl){\\n        let headers = {};\\n        let refer=playUrl.split(\\\"//\\\")[0]+\\\"//\\\"+playUrl.split(\\\"//\\\")[1].split(\\\"/\\\")[0];\\n        if(/lecloud\\\\.com|bilivideo\\\\.com/.test(playUrl)){\\n            headers = {\\\"Referer\\\": 'https://www.bilibili.com/',\\\"User-Agent\\\":\\\"Mozilla/5.0\\\"}\\n        }else if(/mgtv\\\\.com/.test(playUrl)){\\n            headers = {\\\"Referer\\\": refer,\\\"User-Agent\\\":\\\"Mozilla/5.0\\\"}\\n        }else if(/ixigua\\\\.com/.test(playUrl)){\\n            headers = {\\\"Referer\\\": 'https://www.ixigua.com/',\\\"User-Agent\\\":\\\"Mozilla/5.0\\\"}\\n        }else{\\n            headers = {\\\"Referer\\\": refer,'User-Agent':'Dart/2.13 (dart:io)'}\\n        }\\n        return headers\\n    }\\nfunction isPic(str){\\n    return /\\\\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(str);\\n}\\nfunction isVideo(playUrl,rechange){\\n    //注意.php不可以被排除否则融兴解析不了 |.php$\\n    //如果是播放地址就直接返回地址加上UA，不是的话就返回false\\n    // let t1 = new Date().getTime();\\n    let cacheRegx = new RegExp('file:///storage/emulated/(.*?)\\\\\\\\.m3u8|hiker://files/(.*?)\\\\\\\\.m3u8');\\n    if(cacheRegx.test(playUrl)){\\n        return playUrl\\n    }\\n    function getHost(url){\\n        // fba的parseLazy太慢了千万别用\\n        try {\\n            return url.match(/^http(s)?:\\\\/\\\\/(.*?)\\\\//)[0].slice(0,-1);\\n        }catch (e) {\\n            return false\\n        }\\n        /*\\n        if(typeof(log)==='undefined'){\\n            return  fba.parseLazyRule($$$().lazyRule((url)=>{\\n                return getHome(url)\\n            },url))\\n        }else {\\n            return getHome(url)\\n        }\\n        */\\n    }\\n    let pUrl=playUrl.split(\\\";\\\")[0];//获取抠掉海阔ua等参数的网页播放链接\\n    let host = getHost(pUrl); // 获取域名\\n    if(!host){//判断无域名直接不是视频\\n        return false\\n    }\\n    function print(data){\\n        if(typeof(log)==='undefined'){\\n            return  fba.log(data)\\n        }else {\\n            return log(data)\\n        }\\n    }\\n    rechange=typeof(rechange)===\\\"function\\\"?rechange:function(playUrl){return playUrl};\\n    let exceptWords = '.js$|.css$|.ts$|.html$|.htm$|.gif$|.jpg$|.jpeg$|.png$|.ico$|.svg$|.txt$'.split('|').map(it=>'\\\\\\\\'+it).join('|');\\n    var exceptKeys = new RegExp(exceptWords);\\n    let exceptWords1 = 'referer=|url='.split('|').map(it=>it).join('|');\\n    var exceptKeys1 = new RegExp(exceptWords1);\\n    let replaceWords = 'playm3u8|m3u8\\\\.tv'.split('|').map(it=>it).join('|');\\n    let replaceKeys = new RegExp(replaceWords,'g');\\n    let videoWords = \\\"/video/tos|.mp4$|.m3u8$|.flv$|.avi$|.3gp$|.mpeg$|.wmv$|.mov$|rmvb|.dat$|.mp3$|.m4a$|qqBFdownload|mime=video%2F|mime_type=video_|type=m3u8|pt=m3u8\\\".split('|').map((it)=>{\\n        //type=mp4\\n        if(it.startsWith(\\\".\\\")){\\n            return '\\\\\\\\'+it\\n        }else{\\n            return it\\n        }\\n    }).join(\\\"|\\\");\\n    let videoKeys = new RegExp(videoWords);\\n    let rUrl = pUrl.replace(host,'');//获取除开域名的剩余链接\\n    let pUrl2=pUrl.split(\\\"&\\\")[0].split(\\\"?\\\")[0];//获取不带参数的网页链接\\n    let rurl2 = pUrl2.replace(host,'');//获取除开域名的剩余不带参数链接\\n    let hasKey = videoKeys.test(rUrl)||videoKeys.test(rurl2);\\n    let parUrl = pUrl.replace(pUrl.split(\\\"?\\\")[0],''); // 分割问号后剩余参数的完整链接\\n    let excKey = exceptKeys1.test(parUrl);\\n    if(rUrl.split('?').length>2){\\n        let rUrl3=rUrl.split(\\\"?\\\")[1];//获取?分割后的第一段\\n        hasKey = hasKey||videoKeys.test(rUrl3);\\n    }\\n    if(hasKey&&!excKey){\\n        let tips = '检测到疑似多媒体的地址:';\\n        print(\\\"js中\\\"+tips+pUrl);\\n        print(\\\"分割问号后:\\\"+parUrl);\\n    }\\n    // log('1:'+(videoKeys.test(pUrl)||videoKeys.test(pUrl2)||videoKeys.test(pUrl.replace(replaceKeys,\\\"\\\").split(\\\"&\\\")[0].split(\\\"?\\\")[0])));\\n    // log('2:'+!exceptKeys.test(pUrl.split(\\\"?\\\")[0].split('&')[0]));\\n    // log('3:'+!exceptKeys1.test(pUrl.replace(pUrl.split(\\\"?\\\")[0],'')));\\n    if ((hasKey||videoKeys.test(rUrl.replace(replaceKeys,\\\"\\\").split(\\\"&\\\")[0].split(\\\"?\\\")[0]) )&& !exceptKeys.test(pUrl2)&&!exceptKeys1.test(pUrl2)) {\\n        if(!(/User-Agent|Referer@/.test(playUrl))){\\n            if(/lecloud\\\\.com|bilivideo/.test(playUrl)){\\n                playUrl+=\\\";{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}\\\";\\n            }else if(/ixigua\\\\.com/.test(playUrl)){\\n                playUrl+=\\\"#isvideo=true#;{Referer@https://www.ixigua.com/&&User-Agent@Mozilla/5.0}\\\";\\n            }\\n            else if(/mgtv\\\\.com|byteamone/.test(playUrl)){\\n                playUrl+=\\\";{User-Agent@Mozilla/5.0}\\\";\\n            }else if(/ptwo\\\\.wkfile\\\\.com/.test(playUrl)&&/url=/.test(playUrl)){\\n                playUrl=playUrl.split(\\\"url=\\\")[1]+\\\";{Referer@https://fantuan.tv}\\\"\\n            }\\n            // 处理大师兄之类的app\\n            // else{\\n            //     playUrl+=\\\";{User-Agent@Mozilla/5.0}\\\";\\n            // }\\n        }\\n        playUrl=rechange(playUrl);\\n        if(!/#isVideo=true#/.test(playUrl)){\\n            playUrl+=\\\"#isVideo=true#\\\";\\n        }\\n        // let t2 = new Date().getTime();\\n        // print('判断isVideo耗时:'+(t2-t1));\\n        return playUrl;\\n    }else{\\n        // let t2 = new Date().getTime();\\n        // print('判断isVideo耗时:'+(t2-t1));\\n        return false;\\n    }\\n}\\nfunction comParse(parStr,ej,onlyback,html){\\n    //列表，标题，图片，描述，链接，内容\\n    ej = ej||false;//有二级\\n    onlyback=onlyback||false;//只返回数据\\n    html = html||getResCode();\\n    html = typeof(html)==='string'?html:html.html;\\n    return $.toString((parStr,ej,onlyback,html,isPic)=>{\\n        let t=parStr.split(\\\";\\\");\\n        let d=[];\\n        // let list=pdfa(getResCode(),t[0]);\\n        let list=pdfa(html,t[0]);\\n        let lazy = $('').lazyRule(()=>{\\n            const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\\n            return lazyParse(input)\\n        });\\n        for(let i in list){\\n            let _pic = t[2]?pd(list[i],t[2]):'';\\n            if(isPic(_pic)&&!/@Referer=/.test(_pic)){\\n                _pic+='@Referer='\\n            }\\n            let it={\\n                title:pdfh(list[i],t[1]),\\n                pic_url:_pic,\\n                desc:pdfh(list[i],t[3]),\\n                url:ej?pd(list[i],t[4]):pd(list[i],t[4])+lazy\\n            };\\n            if(t.length>5){//内容，用于搜索\\n                it.content=pdfh(list[i],t[5])\\n            }\\n            d.push(it);\\n        }\\n        if(onlyback){\\n            return d\\n        }else{\\n            setResult(d)\\n        }\\n    },parStr,ej,onlyback,html,isPic)\\n}\\n\\nfunction isBadVideo(videoUrl) {//是坏的视频\\n    let dmPath = 'hiker://files/cache/diaomao.txt';//吊毛模式过滤文件路径\\n    let dmUrls;\\n    try {\\n        dmUrls = request(dmPath).trim().split('\\\\n').filter(it => it && !it.startsWith('//'));\\n    } catch (e) {\\n        dmUrls = [];\\n    }\\n\\n    function hasDm(videoUrl, dmUrls) {//播放地址是否为吊毛视频\\n        if (dmUrls.length < 1) {\\n            return false\\n        }\\n        function print(str){\\n            if(typeof(log)!=='undefined'){\\n                log(str);\\n            }else{\\n                fba.log(str);\\n            }\\n        }\\n        for (let dmUrl of dmUrls) {\\n            if ((new RegExp(dmUrl)).test(videoUrl)) {//播放地址包含吊毛标志的地址\\n                print('吊毛视频,自动过滤:'+videoUrl);\\n                return true\\n            }\\n        }\\n        print('非吊毛视频,可播放:'+videoUrl);\\n        return false\\n    }\\n\\n    function isDm(ret) {\\n        if (!ret) {\\n            return true\\n        }\\n        return hasDm(ret.split('#')[0].split(';')[0], dmUrls)\\n    }\\n    return isDm(videoUrl)\\n}\\n\\nfunction lazyParse(playUrl,ms,tm,rechange){\\n    // log('调用仓库免嗅探传参超时为:'+ms);\\n    tm = parseInt(tm)||5000;\\n    const {isVideo,getHeaders,isBadVideo} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\\n    let realUrl = isVideo(playUrl,rechange);\\n    //log(realUrl);\\n    if(typeof(realUrl)=='string'){//bool值就是失败\\n        try{\\n            let rurl=realUrl.split(\\\";\\\")[0].split(\\\"#\\\")[0];\\n            return JSON.parse(request(rurl,{timeout:tm})).url\\n        }catch(e){\\n            return realUrl\\n        }\\n        //return realUrl\\n    }\\n\\n    //log(\\\"访问超时:\\\"+tm);\\n    log(\\\"尝试道长仓库x5免嗅:\\\"+playUrl);\\n    clearVar(\\\"_x5jxUrl\\\");\\n    let bad=$(\\\"网络不佳或者疑似对方网站挂了，你要查看其网页吗？\\\").confirm((playUrl)=>{\\n        log(\\\"网站看起来挂了:\\\"+playUrl);\\n        return playUrl\\n    },playUrl);\\n    try{\\n        var back=request(playUrl,{headers: getHeaders(playUrl),timeout:tm});\\n        //var back=fetch(playUrl,{headers: {'User-Agent': PC_UA}});\\n        if(!back){\\n            log(\\\"网站\\\"+playUrl+\\\"确实啥也没返回\\\");\\n            return bad\\n        }else if(/#EXTINF/.test(back)){\\n            //let lcache=\\\"/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8\\\";\\n            //writeFile(lcache,back);\\n            //return lcache+\\\"##\\\"+playUrl+\\\"#isVideo=true#\\\"\\n            playUrl=cacheM3u8(playUrl);\\n            return playUrl\\n        }else if((!/触发了防盗链|未授权|接口防盗/.test(back))&&(!/http|url/.test(back))&&(!/msg|code|html/.test(back))){\\n            log(back);\\n            return 'toast://疑似对方数据加密了，具体数据看日志'\\n        }\\n    }catch(e){\\n        log(e.message);\\n        return bad\\n    }\\n    try {\\n        back=JSON.parse(back);\\n        let realUrl=back.url;\\n        if(typeof(realUrl)==\\\"undefined\\\"||!realUrl){\\n            log(back);\\n            return \\\"toast://道长仓库解析失败！返回播放地址为空\\\"\\n        } else if(typeof(isVideo(realUrl,rechange))=='string'){\\n            return isVideo(realUrl,rechange);\\n        }else{\\n            return realUrl+\\\"#isVideo=true#\\\";\\n        }\\n        //else{\\n        //realUrl+=\\\";{User-Agent@Mozilla/5.0}\\\";\\n        // }\\n    }catch (e) {\\n        log(\\\"检测到解析口非json错误:\\\"+e.message+',开始x5免嗅探');\\n        // require('https://hjdhnx.coding.net/p/hiker/d/dr/git/raw/master/js/lsg.js');//引用本地储存插件\\n        const lsg=$.require(\\\"hiker://page/localStorage?rule=道长仓库Pro\\\");//引用子页面本地储存插件\\n        let local_ms = lsg.getItem('timeout');\\n        let ms = parseInt(ms)||parseInt(local_ms)||5000;\\n        let max_count=Math.ceil(ms/250);\\n        log(\\\"本次嗅探超时:\\\"+ms+\\\"共计待抓包:\\\"+max_count+\\\"次\\\");\\n        showLoading('嗅探中，若失败就切换web嗅探...');\\n        let _x5 = $.toString((isVideo,rechange,playUrl,max_count,PC_UA,isBadVideo)=>{\\n            try {\\n                if(typeof(fba)=='undefined'||!fba){\\n                    var fba = fy_bridge_app;\\n                }\\n                try {\\n                    if(typeof(request)=='undefined'||!request){\\n                        eval(fba.getInternalJs());\\n                    }\\n                }catch (e) {\\n                    fba.log(e.message);\\n                }\\n                fba.putVar(\\\"_x5jxUrl\\\",playUrl);\\n                if(window.count == null){\\n                    window.count=1;\\n                }\\n                let text='';\\n                try {\\n                    text=document.querySelector(\\\"body\\\").innerText;\\n                }catch (e) {fba.log(e.message)}\\n                if(/触发了防盗链|未授权|接口防盗/.test(text)&&window.count===1){\\n                    fba.log(\\\"检测到有授权，开始过授权\\\");\\n                    //location.reload();\\n                    location.href=fba.getVar(\\\"_x5jxUrl\\\");\\n                }\\n                window.count++;\\n                // fba.log('count:'+window.count+',max_count:'+max_count);\\n                if( window.count >= max_count){\\n                    fba.log(\\\"超过\\\"+max_count*250+\\\"毫秒未获取到资源地址，跳到源网页,以下是加载过的地址\\\");\\n                    try {\\n                        let text=document.querySelector(\\\"body\\\").innerText;\\n                        // fba.log(text);\\n                    }catch (e) {fba.log(e.message)}\\n                    fba.log(JSON.stringify(_getUrls()));\\n                    return fba.getVar(\\\"_x5jxUrl\\\");\\n                }\\n                function muteMe(elem) {\\n                    try {\\n                        elem.pause();\\n                    }\\n                    catch (e) {\\n                    }\\n                }\\n                var videos = document.querySelectorAll(\\\"video\\\"), audios = document.querySelectorAll(\\\"audio\\\"), v2 = document.querySelectorAll(\\\"embed\\\"), v3 = document.querySelectorAll(\\\"#player\\\");\\n                try {\\n                    [].forEach.call(videos, function (video) {\\n                        muteMe(video);\\n                    });\\n                } catch (e) {}\\n                try {\\n                    [].forEach.call(audios, function (audio) {\\n                        muteMe(audio);\\n                    });\\n                } catch (e) {}\\n                try {\\n                    [].forEach.call(v2, function (v) {\\n                        muteMe(v);\\n                    });\\n                } catch (e) {}\\n                try {\\n                    [].forEach.call(v3, function (v) {\\n                        muteMe(v);\\n                    });\\n                } catch (e) {}\\n                var urls = _getUrls();\\n                // fba.log(JSON.stringify(urls));\\n                try {\\n                    for(let i in urls) {\\n                        let u=urls[i];\\n                        try{u=decodeURIComponent(u);}catch(e){\\n                            u=unescape(u);\\n                        }\\n                        //\\n                        if(/url=http/.test(u)){\\n                            u = u.split(\\\"url=\\\").slice(-1)[0];\\n                            // fba.log(\\\"url分割:\\\"+u);\\n                        }else if(/url=\\\\//.test(u)&&/\\\\.m3u8/.test(u)){\\n                            let host = u.match(/(.*)\\\\/\\\\/(.*?)\\\\//)[0];\\n                            u = host+u.split(\\\"url=\\\").slice(-1)[0];\\n                            // fba.log(\\\"url分割:\\\"+u);\\n                        }\\n                        else if(/vid=http/.test(u)){\\n                            u = u.split(\\\"vid=\\\").slice(-1)[0];\\n                            fba.log(\\\"vid分割:\\\"+u);\\n                        }else if(/vid=\\\\//.test(u)&&/\\\\.m3u8/.test(u)){\\n                            let host = u.match(/(.*)\\\\/\\\\/(.*?)\\\\//)[0];\\n                            u = host+u.split(\\\"vid=\\\").slice(-1)[0];\\n                            fba.log(\\\"vid分割:\\\"+u);\\n                        }\\n                        else if(/\\\\?(.*)=http/.test(u)&&/\\\\.m3u8/.test(u)){\\n                            u = \\\"http\\\"+u.split(/\\\\?(.*)=http/).slice(-1)[0];\\n                            fba.log(\\\"其他分割:\\\"+u);\\n                        }\\n                        //|index\\\\.m3u8$\\n                        else if(/\\\\/1\\\\.m3u8/.test(u)){\\n                            continue;\\n                        }\\n                        u=u.replace(/&from=.*|&next=.*|&jump=.*/,'');\\n                        let realUrl = isVideo(u,rechange);\\n                        if(typeof(realUrl)=='string'&&!isBadVideo(u)){//过滤吊毛视频\\n                            //fy_bridge_app.setWebUa(PC_UA);\\n                            if(typeof(fba.getHeaderUrl)!=='undefined'&&typeof(rechange)!=='function'){\\n                                // let backUrl = fba.getHeaderUrl(u.replace(\\\";{\\\",\\\"#isVideo=true#;{\\\"));\\n                                let backUrl = fba.getHeaderUrl(urls[i]).replace(';{','#ignoreImg=true##isVideo=true#;{');\\n                                let u1 = backUrl.split('#ignoreImg')[0];\\n                                let u2 = '#ignoreImg'+backUrl.split('#ignoreImg')[1];\\n                                u1 = u1.replace(/&from=.*|&next=.*|&jump=.*/,'');\\n                                if(/url=http/.test(u1)){\\n                                    u1 = u1.split(\\\"url=\\\").slice(-1)[0];\\n                                }else if(/url=\\\\//.test(u1)&&/\\\\.m3u8/.test(u1)){\\n                                    let host1 = u1.match(/(.*)\\\\/\\\\/(.*?)\\\\//)[0];\\n                                    u1 = host1+u1.split(\\\"url=\\\").slice(-1)[0];\\n                                    // fba.log(\\\"url分割:\\\"+u);\\n                                }\\n                                else if(/vid=http/.test(u1)){\\n                                    u1 = u1.split(\\\"vid=\\\").slice(-1)[0];\\n                                }else if(/vid=\\\\//.test(u1)&&/\\\\.m3u8/.test(u1)){\\n                                    let host1 = u1.match(/(.*)\\\\/\\\\/(.*?)\\\\//)[0];\\n                                    u1 = host1+u1.split(\\\"vid=\\\").slice(-1)[0];\\n                                }\\n                                else if(/\\\\?(.*)=http/.test(u1)&&/\\\\.m3u8/.test(u1)){\\n                                    u1 = \\\"http\\\"+u1.split(/\\\\?(.*)=http/).slice(-1)[0];\\n                                }\\n                                backUrl = u1 + u2;\\n                                // fba.log('返回自动加cookie链接:'+backUrl);\\n                                fba.log('返回链接:'+u+'并自动加了cookie,具体cookie在视频播放处查看');\\n                                return backUrl;\\n                            }\\n                            else{\\n                                fba.log(\\\"返回仓库x5免嗅结果:\\\"+realUrl);\\n                                return realUrl\\n                            }\\n                        }\\n                    }\\n                }catch (e) {\\n                    fba.log(e.message)\\n                }\\n            }catch (e) {\\n                // fy_bridge_app.log('x5大范围错误:'+e.message);\\n                alert('x5大范围错误:'+e.message);\\n                return 'toast://报错结束x5'\\n            }\\n        },isVideo,rechange,playUrl,max_count,PC_UA,isBadVideo);\\n        let useWeb=lsg.getItem(\\\"通免\\\",\\\"X5\\\")===\\\"WEB\\\";\\n        //log(\\\"仓库使用web通免替代x5:\\\"+useWeb);\\n        let ruleHead=useWeb&&parseInt(getAppVersion())>=2339?\\\"webRule://\\\":\\\"x5Rule://\\\";\\n        let x5Url = ruleHead+playUrl+ '@' +_x5;\\n        return x5Url\\n    }\\n}\\n\\nfunction x5ParsePro(x5list,x5Timeout,isVideo){\\n    let bpath = 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/海阔嗅探器.html';\\n    let bcode = fetch(bpath);\\n    if(!bcode||!/fy_bridge_app/.test(bcode)){\\n        log('本地未安装嗅探器，开始安装');\\n        const {api} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n        let html = fetch(api.host+'/rulelist.json?id=2055');\\n        if(/海阔视界/.test(html)){\\n            writeFile(bpath,html);\\n        }else{\\n            writeFile(bpath,fetch('https://hjdhnx.coding.net/p/hiker/d/dr/git/raw/master/html/getVideo.html'))\\n        }\\n    }\\n    x5Timeout = parseInt(x5Timeout)||5000;\\n    let max_count=(x5Timeout/250); //根据超时自动计算了可执行的次数\\n    putVar('x5List',JSON.stringify(x5list));\\n    let _x5 = $.toString((isVideo, max_count,x5Timeout,isBadVideo) => {\\n        //初始化fba和requst\\n        if (typeof (fba) == 'undefined' || !fba) {\\n            var fba = fy_bridge_app;\\n        }\\n        try {\\n            if (typeof (request) == 'undefined' || !request) {\\n                eval(fba.getInternalJs());\\n            }\\n        } catch (e) {\\n            fba.log(e.message);\\n        }\\n        //------------------\\n        try {\\n            if (window.count == null) {\\n                window.count = 1;\\n            }\\n            let text='';\\n            try {\\n                text=document.querySelector(\\\"body\\\").innerText;\\n            }catch (e) {fba.log(e.message)}\\n            if(/触发了防盗链|未授权|接口防盗/.test(text)&&window.count==1){\\n                location.reload();\\n                fba.log(\\\"检测到有授权，开始过授权\\\");\\n            }\\n            window.count++;\\n            // fba.log('count:' + window.count + ',max_count:' + max_count);\\n            if (window.count >= max_count) {\\n                fba.clearVar('x5List');\\n                fba.hideLoading();\\n                let fmsg = '道长仓库通免解析失败,原因:超时'+x5Timeout+'毫秒';\\n                fba.log(fmsg);\\n                return 'toast://'+fmsg;\\n            }\\n        }catch (e) {\\n            fba.log(e.message);\\n        }\\n\\n        function muteMe(elem) {\\n            try {\\n                elem.pause();\\n            } catch (e) {\\n            }\\n        }\\n\\n        var videos = document.querySelectorAll(\\\"video\\\"), audios = document.querySelectorAll(\\\"audio\\\"),\\n            v2 = document.querySelectorAll(\\\"embed\\\"), v3 = document.querySelectorAll(\\\"#player\\\");\\n        try {\\n            [].forEach.call(videos, function (video) {\\n                muteMe(video);\\n            });\\n        } catch (e) {\\n        }\\n        try {\\n            [].forEach.call(audios, function (audio) {\\n                muteMe(audio);\\n            });\\n        } catch (e) {\\n        }\\n        try {\\n            [].forEach.call(v2, function (v) {\\n                muteMe(v);\\n            });\\n        } catch (e) {\\n        }\\n        try {\\n            [].forEach.call(v3, function (v) {\\n                muteMe(v);\\n            });\\n        } catch (e) {\\n        }\\n        var urls = _getUrls();\\n        try {\\n            for (let i in urls) {\\n                let u=urls[i];\\n                //u=decodeURIComponent(u);\\n                try{u=decodeURIComponent(u);}catch(e){\\n                    u=unescape(u);\\n                }\\n                if(/url=http/.test(u)){\\n                    u = u.split(\\\"url=\\\").slice(-1)[0];\\n                }else if(/vid=http/.test(u)){\\n                    u = u.split(\\\"vid=\\\").slice(-1)[0];\\n                }else if(/\\\\?(.*)=http/.test(u)){\\n                    u = \\\"http\\\"+u.split(/\\\\?(.*)=http/).slice(-1)[0];\\n                    //fba.log(\\\"其他分割:\\\"+u);\\n                }else if(/\\\\/1\\\\.m3u8$/.test(u)){\\n                    continue;\\n                }\\n                u=u.replace(/&from=.*|&next=.*|&jump=.*/,'');\\n                let realUrl = isVideo(u);\\n                if (realUrl&&!isBadVideo(u)) {//过滤吊毛\\n                    fba.log(\\\"仓库x5免嗅结果:\\\" + realUrl);\\n                    fba.clearVar('x5List');\\n                    return realUrl\\n                }\\n            }\\n        } catch (e) {\\n            fba.log(e.message)\\n        }\\n    }, isVideo, max_count,x5Timeout,isBadVideo);\\n    const lsg=$.require(\\\"hiker://page/localStorage?rule=道长仓库Pro\\\");\\n    let useWeb=lsg.getItem(\\\"通免\\\",\\\"X5\\\")===\\\"WEB\\\";\\n    //log(\\\"仓库使用web通免替代x5:\\\"+useWeb);\\n    let ruleHead=useWeb&&parseInt(getAppVersion())>=2339?\\\"webRule://\\\":\\\"x5Rule://\\\";\\n    return ruleHead+bpath+'@' + _x5;\\n}\\n\\nfunction LazyParseFast(playUrlList,getTimeout,x5Timeout){\\n    const {isVideo,getHeaders,x5ParsePro} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\\n    // log('开始执行'+playUrlList.length+'个地址的批量嗅探:'+playUrlList);\\n    log('开始执行'+playUrlList.length+'个地址的批量嗅探');\\n    let playUrls = playUrlList.map((it)=>{\\n        return {\\n            url:it.split(\\\";\\\")[0],\\n            options: {\\n                headers: {\\n                    //\\\"User-Agent\\\": \\\"Dart/2.13 (dart:io)\\\",\\n                    \\\"User-Agent\\\":\\\"Mozilla/5.0\\\"\\n                },\\n                timeout: getTimeout\\n            }\\n        }\\n    });\\n    let bhtml = batchFetch(playUrls);\\n    let videos = [];\\n    let x5list = [];\\n    for(let i in bhtml){\\n        let order = parseInt(i)+1;\\n        let tname=order+'号解析网址:';\\n        //log(tname);\\n        let turl=playUrlList[i].split(\\\";\\\")[0];\\n        let jname=playUrlList[i].split(\\\";\\\").length>1?playUrlList[i].split(\\\";\\\")[1]:\\\"\\\";\\n        tname+=jname;\\n        let backcode = bhtml[i];\\n        if((!/url|http/.test(backcode))&&(!/#EXTINF/.test(backcode))){\\n            log(tname+turl+'有问题,可能加密或者挂了');\\n            continue;\\n        }else if(/#EXTINF/.test(backcode)){\\n            //let lcache=\\\"/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video_\\\"+tname+\\\".m3u8\\\";\\n            //writeFile(lcache,backcode);\\n            //videos.push(lcache);\\n            let pUrl=cacheM3u8(turl);\\n            videos.push(pUrl);\\n            continue;\\n        }\\n        try {\\n            let url = JSON.parse(backcode).url;\\n            if(/^http/.test(url)){\\n                let realVideo = isVideo(url);\\n                if(typeof(realVideo)=='string'){\\n                    log(tname+'已解析出视频:'+realVideo);\\n                    if(jname){\\n                        realVideo+=\\\"★\\\"+jname\\n                    }\\n                    videos.push(realVideo);\\n                }else{\\n                    log(tname+'解析出不知道什么东西:'+url);\\n                    url+=\\\"#isVideo=true#\\\";\\n                    if(jname){\\n                        url+=\\\"★\\\"+jname\\n                    }\\n                    videos.push(url);\\n                }\\n            }else{\\n                log(tname+'为json接口且无返回视频地址数据:'+playUrlList[i]+'\\\\n'+backcode);\\n            }\\n        }catch (e) {\\n            log(tname+'为x5接口,加入x5嗅探列表');\\n            x5list.push(playUrlList[i]);\\n        }\\n    }\\n    // log(videos);\\n    if(videos.length>0){\\n        if(getVar('dp.cacheVideo','true')==='true'&&parseInt(getAppVersion())>=2255)\\n        {\\n            log(\\\"尊敬的魔断用户，视频缓存已启用，请尽情享受看剧时光\\\");\\n            let videosCache=videos.map((it)=>{\\n                let headers={};\\n                if(it.split(\\\";\\\").length>1){\\n                    let head = it.split(';')[1];\\n                    if(/@/.test(head)&&/{|}/.test(head)){\\n//head = head.replace(/{|}/g,'');\\n                        head = head.split(\\\"{\\\")[1].split(\\\"}\\\")[0];\\n                        head = head.split('&&');\\n                        for(let i in head){\\n                            let key = head[i].split('@')[0];\\n                            let value =head[i].split('@')[1].replace(/;/,'；；');\\n                            headers[key] = value;\\n                        }\\n                    }\\n                }\\n                return {\\n                    url:it.split(\\\";\\\")[0].split(\\\"★\\\")[0],\\n                    options:{\\n                        headers:headers\\n                    }\\n                }\\n            });\\n            var data=batchCacheM3u8(videosCache);\\n            data=data.map((it,id)=>{\\n                let extra=\\\"\\\";\\n                if(videos[id].split(\\\";\\\").length>1){\\n                    extra=\\\";\\\"+videos[id].split(\\\";\\\")[1];\\n                }else if(videos[id].split(\\\"★\\\").length>1){\\n                    extra=\\\"★\\\"+videos[id].split(\\\"★\\\")[1];\\n                }\\n\\n                if(it+\\\"\\\"!=\\\"null\\\"){\\n                    return it+extra\\n                }else{\\n                    return videos[id]\\n                }\\n            });\\n            //log(data);\\n            return data\\n            //return videos\\n        }else{\\n            return videos\\n        }\\n    }\\n    log('共有'+x5list.length+'个x5地址进行轮流嗅探');\\n    //没有的话就开始依次x5嗅探\\n    showLoading('嗅探中，若失败就切换web嗅探...');\\n    return x5ParsePro(x5list,x5Timeout,isVideo);\\n}\\nvar lazy=$('').lazyRule(()=>{\\n    try{\\n        realUrl=input;\\n        eval(\\\"var config_dp =\\\" + fetch(\\\"hiker://files/cache/MyParseSet.json\\\"));\\n        eval(fetch(config_dp.cj));\\n        log(input+'->正在断插魔改版解析...');\\n        // 加入超时设置，建议在首页设置\\n        return aytmParse(realUrl)\\n    }catch(e){\\n        return input\\n    }\\n});\\n$.exports.isPic=isPic;\\n$.exports.isVideo=isVideo;\\n$.exports.isBadVideo=isBadVideo;\\n$.exports.comParse=comParse;\\n$.exports.getHeaders=getHeaders;\\n$.exports.lazyParse=lazyParse;\\n$.exports.x5ParsePro=x5ParsePro;\\n$.exports.LazyParseFast=LazyParseFast;\\n$.exports.lazy=lazy;\"},{\"name\":\"任务仓库接口\",\"path\":\"taskCall\",\"rule\":\"js:\\nString.prototype.strip = function () { return this.replace(/(^\\\\s*)|(\\\\s*$)/g, \\\"\\\"); };\\nfunction task_req(task_api,task) { // 通用发送仓库post调用任务请求\\n    const {getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let house_data = houseFile();\\n    let result = request(task_api, {\\n        headers: {\\n            'content-type': 'application/json'\\n        },\\n        body: JSON.stringify({\\n            \\\"params\\\": {\\n                \\\"data\\\": {\\n                    \\\"type\\\": task.mode||'run',\\n                    \\\"func\\\": task.func||'',\\n                    \\\"params\\\": task.params||[]\\n                },\\n                \\\"auth\\\": {\\n                    \\\"name\\\": house_data.username||\\\"\\\",\\n                    \\\"password\\\": house_data.password||\\\"\\\"\\n                }\\n            }\\n        }),\\n        method: 'POST'\\n    });\\n    return JSON.parse(result).result;\\n}\\n\\nfunction task_upload(task){ // 通用任务发布新增及修改功能\\n    const {api,getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let api_url = api.host+'/hikerule/task/add';\\n    let house_data = houseFile();\\n    let result = request(api_url, {\\n        headers: {\\n            'content-type': 'application/json'\\n        },\\n        body: JSON.stringify({\\n            \\\"params\\\": {\\n                \\\"data\\\": {\\n                    \\\"name\\\": task.name,\\n                    \\\"pycode\\\": task.pycode,\\n                    \\\"note\\\": task.note,\\n                    \\\"test_code\\\": task.test_code,\\n                },\\n                \\\"auth\\\": {\\n                    \\\"name\\\": house_data.username||\\\"\\\",\\n                    \\\"password\\\": house_data.password||\\\"\\\"\\n                }\\n            }\\n        }),\\n        method: 'POST'\\n    });\\n    return JSON.parse(result).result;\\n}\\n\\nfunction task_call(id,func,params){\\n    const {api} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let task_api = api.host+'/hikerule/task/run/'+id;\\n    let task = {\\n        mode:'call',\\n        func:func,\\n        params:params||[]\\n    };\\n    return task_req(task_api,task);\\n}\\n\\nfunction task_rename(id,new_task_name){\\n    const {api,getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let house_data = houseFile();\\n    let task_api = api.host+'/hikerule/task/rename/'+id;\\n    task_api = task_api+'?name='+house_data.username+'&password='+house_data.password+'&task_name='+new_task_name;\\n    try {\\n        let result = JSON.parse(fetch(task_api,{}));\\n        if(result.status==0){\\n            return  result.detail\\n        }else{\\n            return result.result+''+result.detail\\n        }\\n    }catch (e) {\\n        log(e.message);\\n        return ''+e.message\\n    }\\n}\\n\\nfunction task_change_state(id){\\n    const {api,getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let house_data = houseFile();\\n    let task_api = api.host+'/hikerule/task/change_state/'+id;\\n    task_api = task_api+'?name='+house_data.username+'&password='+house_data.password;\\n    try {\\n        let result = JSON.parse(fetch(task_api,{}));\\n        if(result.status==0){\\n            return  result.detail\\n        }else{\\n            return result.result+''+result.detail\\n        }\\n    }catch (e) {\\n        log(e.message);\\n        return ''+e.message\\n    }\\n}\\n\\nfunction task_run(id){\\n    const {api} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let task_api = api.host+'/hikerule/task/run/'+id;\\n    let task = {};\\n    return task_req(task_api,task);\\n}\\n\\n$.exports.taskCall = task_call;\\n$.exports.taskRun = task_run;\\n$.exports.taskReq = task_req;\\n$.exports.taskUpload = task_upload;\\n$.exports.taskRename = task_rename;\\n$.exports.taskChangeState = task_change_state;\"},{\"col_type\":\"movie_3\",\"name\":\"全局储存\",\"path\":\"localStorage\",\"rule\":\"let localStorage = (function() {\\n    evalPrivateJS(\\\"jwUKwNTiPGcWSLCXB5XtAXwb6LQbVyHD+0XJ7l07ce0=\\\");\\n    //pathto=undefined;\\n    evalPrivateJS(\\\"4C0YxRYnGCYkgFRXtpl/Cz5zL5hh4jCCztb+ng+WokymQ8oUrzS9lA8yxC5aFadnSEmyHKMbraflRqXCnNRHDlk6ue8yHTO16lBPrpwgs5jf0PhrAtoTJIE0ZHn9mKaQ4Jd2erqb4I55beWIeugKsDs211SzINQ5yJgSh1dVuNzzxRGJg40FmTuVmXVfN1xg2WIGHBEmkVnGxmORhPONA+Q5VwPmdp41/hze3eIsUvho7VCBgK4raJmPalIRBBVlCVgn8FkWmfKqZo+VW+oBcH7hrcrsSlCSjBangT/7syWHxKYhehU0kaMYjnWFg1Em0cmNRtomCsHz1B8q32OeQHoawdWxzKOaMHOXDBjRojA8E/ah0WROyziqRSxl/m8dhBd0f9phYz/5SU/zJD52X/9EC16WVVdpSW33akRHRslPpRlTWF9+AyRmRw0eZOEs1o9QMPAQUfAxbYyFHgztw/O2dJRpHyTmiBiaaqTcivx6v9zyvBz04wI1AaSCui+dTuU3lu5xdEt3Ajt6Z3iDXOVcEP0EDF7474PQU6JEZuwe97Sch4bi1wB1XHZSfItdlYYoGed3LLpbmDAIRciv0rAop8VmQcTt2K3Lfh1RDYY0YtvRcH49OvpDRH/xa5Fc8MY3DrFoA7qcoF4eCgiVBfBgJR68+LpQK7tOkg8k9ec+3NSxJThcl8d6yNwxT9Tk17zeJgd6MoyYZIpWQLlF6YvbOdEWhjmnA78wC0hWz+Xm6hQMSqtFw+bhFf7cBGU3aatPFmdCY2EdXfh0IYW85wdOyMfiwW7/vVTp9iE00I3F09wGHkGKhVbLueAkYe7zzJXR7thaFor6H7qLmJjbRQk9evNtBQXNR7DifiXuQf2lt7nOH80SWm1fDHHzjmPsNIps2TXGT+iwVV69g/tWipVQ6D8BTx+cCQp47nmTIrY+qN4kh2FYh5LlwXdgIyy1VIuC3x053ewAIIUmlY9niEpqYt+1fFPXOCtCGtYbSd37vVR1EOj2k5Gu/+9JWg2qvwl1twelg1J0txarIi4kTbTrvrnFLN92pofpZQUfoWo4ce7HWNdbu4JKEraLQUfdfGEPd1TIufuuRVa39eq9GZySDuBL60MPdldxKw1zo+fB5ZY+YMj3LL2gGtDbs98+AsRV9LJWmUmsx91hmJtFUMWD3xnj8HMZWs0NPlCFUr9485KqTpo5kRzGfF+k/Nl2Jzrv5cvkqtUnLgKpXEOj/se/oDzOArQKI5TNUbvYwcwcdjjMSfjK68Krwhs+n6SmWZ4ZdgRHgAK5MoFi3XmLV47P3vSRWu5zyEsMk4y3uuCFiuRPRlu4Q5pJvuOem7H7ULiIhCemv5DgkGtDL1cGL4EQhYRB6ISzVvsb2EaP9wQE6DVRnM7O+pnSzet6lzp3pFdGnbox1LRfC60utXZ+CjIm4iEMmtbB2N5zDShGbeM3XUbJQdCBis8XIrhh2biB5hBCVwn3Y3ett7GDPVtoi1GRjz+JbgM+YR928KbdWS5tFaMM3Kj3Xv6otIxzMBnDC9uW3d+IXx6vLPJ0JRuh3yP7pTla6c3iR4p9nWYDqJ+ZSmprHFnDOzsLWmFjapje/MqwMJd6Tk3nAWwicMOPuYpMyqIF04fl4mqgtsHLSMWRRNHPZjETQ9gRmeDYe6aRtlW02qL2olDENqLQMtAdoirNWRcP9VL3Td8HaUO6fSlGNabMakJD/00XChOSUOIP+7fM7V0/l1bLWPtEz1i7LygTV7pdGoDntqSCEnJrByhBAzLRg5QIc9438IhKmyfn0/3awoD1Ir780eyp/XcI6xNcw6Tv/ETfHg0e7iYC0UYcJIE5QUXv0s+YoGIEq5GIzKub8HNjSTUpsvnkVx+dbe2jRn3Yb9W7JCZ5YS6F5MyUVspjMD7NYc+DWjUL2b2sVyAfeYpC8Uhah9tumavbBv7a3a9kgFbq58lrHxzY7iJQVigzq3e1a2BSb0PcW1aJ8BD7NkNphKYayTxykgwilERL8jqqBEniHVdBxDJYLb+Xw3alLmltuTEV6KGtBntBX+yz36RPDMyGIKe+3fzcxfnCDn20ModVVkVNozPqMXZ0G5L4aLTAQakYKUjsVMQjAhQkTlHBeO/aLPx9sxl++j1Z5rLgG12TN4XJ1eicvw4AVE58Loraq0QiE0cS7PH1pbrZWrft7LYGiyBShor7+0jioUh1pdWq2qMYLqeMEeuCROQt57mFrOjyPH49qp97cWOrgeg2WyfWSDGQPje5+P0yQoCpD/D3RAMuWmb9wlBtcq2j8WJPt91E3kKawuQIyvd2r2Ujx4+HTNtVKb9kMLOO85I65bNGBH+4irSy5gQYlE26A2cSGIcLKQRlvJoMna7L/9wyry4HzOrzkrAvLdgsSNlYjpHQERiOI80sJ5jNCCnfw013F+A+sAfLmyS/BDLNQ1qaQ3p6h8/JqAfhX5OGHgSiRVOCEjuaDB/MwZNCu3QL9ehhoAj7uOf8Pkr3mIjbhh9Hijsjx191+0e2JQrFa01AVJKEVtuPtIc2h/1pPKMvyenxjTO2OxPnjjt+84nIKKhxDJ/ghPt7iv8PmTJ0lKKyPRssl8f/QdHdxupb6jTsI6UKmz9Y46PMBuD6P3wh8qp36O6oibNDiQd1sE10vJh9z1FysKIe8EqMpnNdEmG2TfEBxRpmQrhKEqee0p6+a6sQo8cVlRJkKQAYKawcaNES5Xc6dQY5nqeiq8sUizf1spfHeHelDu1M6BRXuCjFafXhz8i3lPWgYqVpfx13igVCRf47UH652yLnsmepCBWgyBTWAcOyF1Qx8YGtZnob1TN+6xEwzpcWVy7QO9P92sKA9SK+/NHsqf13COt0JHCtTV1OlTQW+JAKyxe1Hl7+s95z3KCgFKQS+3As1JV7Na+g+LCR2Ievu8d5D0L7GwoDreUv4374LRaFkNsHOqWbU9nhQjdMVr7a/i8O/4hbptaSzqqkgYFiNFU/omW5qwIz7sp4nscITRE3gua6bzklMZ8ECn1iqAWt0a6geki5DaL8qYapTCChjlWsExqFuxiWP35TUCddEd8ACbMGs+gQFyDOozfBDG17dZO0mCwW+PzCL2jbICDNai5/jm1Qr6ML56jzUaIDz0GLPTSaex1UDDwkQ9o7mXWC0R7jWnzbkHRWcomVbWmGqL1rjdoacs/R9ujqUuBA6A5VL/qkQ1xHL42EXooprC8wrrfR68zMMFxOwU7CYHJ7bhG/Q4rNsXDBcMo1Adiq9LXbXm/QJj0u/jgZGssz0nnKKUFJcxzuANK96zWwf1DXasUcOoEuEatm1rmP5wrBJmW/ZwT6aBBiR2OSJ0xr8tQ6ObmdKjyb+1eEXb1437R2IdhDUdk5PRztH2YFt2pmuL4/LmILFAvPdiyMtDHNj+Kh4sV4MlXbWPrrI97YBOFpFlX+gnewKKfFZkHE7dity34dUQ2Gne6sAGx1zxyjZv5KBM26lRHF45XqFNJ1RQ3hMymJHsyYNsMO41BWrGv19PA468ecw9HcRN0whjUTgns8ZVaC4hiJsgY07aAEBHm90/uhhjO/Wmb7wuVadhl9RnHeQjpx4gwCrLz5i5s5It1sBwfDb0Fe+PCpLkc+wIINK2Y86kPthR6gJwW75zuoN5C0CAiDwfU73vaAZahzf4VLNlM0U04OtHYBi13YgPoNmGHRelZVEy2KuKVZghD14vSlY+JrMBDdm2y2thFV+BrihL7+fQ5wcYnxGelawDuoSR5+bDDkr6RL40L4xyfAhxlrOn0uA28ghGeWguaWKEv5nBrrveu1ueVy1MvGUYBY+IlEr8NdDNRdmEzXt39kGld86xOfAH/xL1VmugaXOGaPB2qc7WDRkW6k5F6n3PkIzdPXyONKp1DkOg3ocSMZMTs6GKj9C3vODZ6ZQpwNDYLMT+CmEL18GRjXNcZlP/LnhiAIscYTL1+iHWDYvRmvPMwtOHhCnEXIU3FTbP+6QRGA6qydbnneqVhXowcLmbMIz16IC1kwhZj75/M53sKYX2zRgOSTAfNSD/5lZYSNUxJfKTDgiaFEggrCrd+3Cc+chzslI3zDXEKTrvlcX2InC9uH+fsypyHw+AvY2OmBGQMIIc8fE3tNO0gBTVqXsdsE76YwHr29dzQckusuyJsBfSVclrvsNCZ1PQDL8H3cRs3HE9nUkx5bbJYWsPxb825gnEpWU9Z9Ktzvsli7/heOlDKpHxJb1uCrWqf8gRnWmq3zfSSrUXBHSLu62MrkXTjWgapUVxMGkrnzR0E4PMy1bFcyDpEQe15TayWBM1B6jrIG+0DRR9OaCUPwD7exNmjZb9M81us+AIRfyzJPZGmfHuT9SNzFfNuQdFZyiZVtaYaovWuN2irI3zQatKCDnQIXpr0VhG0Gop8c/zroWBoN/aVKmn8skSFvADOjoZAixg6K1y9wFi8peCmimFZ3ZzCVsG6EU9Svlbq5+wn7D6y+dAYdaPms4gwCrLz5i5s5It1sBwfDbz4X4VxqIpcTC9NaYKqA7GKK+aTrZWUwwN21QOtr8eqxSgJ1U9eCOcWXQd+p36Gy4fY+t9c2CsVNbNl1ghxa9bI8U6e6FTd/vvBaq9jrKditq4mNCaiogmfPK6M48UYI8jZMCdd/9C8BqvUj4bYU5byWASEG6BBGdK8Klfi/a4LWt3ivC4u9QBTfb/vCmNJi/QAfabcPG+UsWmsYNRK+g8hMcsuBmhh48NphRvebVQqq6ncKxc1nFHWMW5M6of+z8c1HddnieDP9GaBsq+ysljKslYrt989PY9xsbmkr3X/oCfiFU4NfcOhee++ngW0XpZAVt1I2Qnc1alwbnoNqMMhXIB95ikLxSFqH226Zq9sG/trdr2SAVurnyWsfHNjuIlBWKDOrd7VrYFJvQ9xbVomKqQjuh9dzf2nvVrBzbEF0CZY6izkY/RQY5r9k93/y2NG7o07nMYjOtZYYeNUoik7GbK/HzQl1S7s/FChnt9M6fE0UyuPmttO98hqzxQbteMalMtSce2WLcjyXVGfpqdBkYym4gZByccS6antt4oLdluWSSJsHX1IcXhQy6oJ+Ahjw9hFYwXLHPLoCo3jEliUAK4179wtYtHsO0abLx4+hmtM5Fz7wUVahBA9supOTf/FD4siZMMof5W3vm5DedhqGANlht3mI6RmIhv48QVtneMsUzYC4NDhZD4M5R6p7GXBqcpu3FaEF/0I0e3LceX1HN+iDqKRPuGzvpac/1tsGPIteADxu9OYoap2z3F1CzSg/Uua8l/KEztAKDcvbhNU/YUc2lhgxgfdb4e+P9TZ7RaX82s627u0CbFsfGE/1hLpb5Mc2vk1uDGrdIcbWA6xhpYAHYhEYUl9c75Y/R/0gl6r9+m6cI0BvBY5Aa5NBRc6UMvsO/POw5Ccr79sJziceaV3YwrYEkjp6Ki+OYrGu954AA+dJ9WsvNGBFGMrKAfQ9VUC/ATkJfTloMltDeV5Ao9zkaay3dKAa5/PxAGRDAUcQLDF7uVXbD1vFgE/+RXiwzS5N7cr3aFBdRY7XAmFz/fb0/KSpR8CQ/lokpmM2mltJ9vGPgiqb5nZl9Ku7d2GlgAdiERhSX1zvlj9H/SBujBPoO1fpoOu5F35cdHa5kSFvADOjoZAixg6K1y9wFlj0Ez5ksUW3WU63E7e4qtDUCKWwjjU5f0Fd57VyVzpC6CdCScBjYSzT9rZLVskq61aOWrDDUNKqAQ3+nX/BBW3cQTEcOVdc15ngVXcSS/aK2QFMdiKQlqm15fErJdwqyeza7hflKTiCzUdu5VGlFW9qCt8syHoosA2NzfosJdTdN8bWHnoDr5N25et+p/nvjjOzZRaLYoY/fr/k5hqptOk=\\\");\\n    return $.exports;\\n})();\"},{\"col_type\":\"movie_3\",\"name\":\"编辑公告\",\"path\":\"devInfoEdit\",\"rule\":\"js:\\naddListener('onClose', $.toString(()=>{\\n    putMyVar(\\\"devInfo\\\",''); //清除历史公告\\n}));\\nsetPageTitle('编辑公告');\\n// let {nowJx,MyJiexi,jxsRoute} = MY_PARAMS;\\nconst {color,small,api, getFile,getApi} = $.require(\\\"hiker://page/utiliy\\\");\\n// let houseFile = getFile||false;\\nvar dev_info_url = getApi('infoGetUrl');\\n// log(dev_info_url);\\nvar get_info = function(qq){\\n    qq = qq||'434857005';\\n    let dev_info_url = dev_info_url+qq;\\n    let back_code = JSON.parse(request(dev_info_url));\\n    let dev_info=back_code.result||back_code.detail;\\n    return dev_info;\\n};\\nvar before_refresh = function(){\\n    let dev_set_info = getMyVar(\\\"dev_set_info\\\").split('$$');\\n    let dev_info_url = dev_set_info.slice(-1)[0];\\n    let back_code = JSON.parse(request(dev_info_url));\\n    let dev_info=back_code.result||back_code.detail;\\n    putMyVar(\\\"devInfo\\\",dev_info);\\n    return dev_info\\n};\\nlet d = [];\\nd.push({\\n    title:'编辑公告',\\n    desc:'支持md语法,点击进入学习Md语法\\\\n保存公告按钮在文本框最下面',\\n    col_type:'text_1',\\n    url:'https://www.runoob.com/markdown/md-tutorial.html'\\n});\\nd.push({\\n    title:'返回',\\n    col_type:'text_2',\\n    url:$('#noLoading#').lazyRule(()=>{\\n        back(false);\\n        return 'hiker://empty'\\n    })\\n});\\nif(!getMyVar('devInfo')){\\n    before_refresh();\\n}\\nlet empty = 'hiker://empty';\\nd.push({\\n    title:'阅览查阅',\\n    col_type:'text_2',\\n    // url:$(getMyVar('devInfo')).confirm()\\n    url:$(empty).rule(()=>{\\n        require(\\\"https://gitlab.com/hjdhnx/hiker/-/raw/main/js/marked.min.js\\\");\\n       let devInfo=\\\"\\\";\\n       try{\\n          devInfo=marked.parse(getMyVar('devInfo'));\\n       }catch(e){}\\n        setResult([\\n            {\\n                title:devInfo,\\n                col_type:'rich_text',\\n            }\\n        ]);\\n    })\\n});\\nd.push({\\n    desc: \\\"快来编辑你的公告吧~\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getMyVar('devInfo', '')||\\\"\\\",\\n        type: \\\"textarea\\\",\\n        height:-1,\\n        onChange: 'putMyVar(\\\"devInfo\\\",input)'\\n    }\\n});\\nd.push({\\n    title:\\\"保存公告\\\",\\n    col_type: 'text_center_1',\\n    url:$('确认保存公告吗？将会与道长仓库服务器通讯').confirm(()=>{\\n        let dev_set_info = getMyVar(\\\"dev_set_info\\\").split('$$');\\n        let input_text = getMyVar('devInfo', '');\\n        if(input_text.length >= 4){\\n            let info_set_url= dev_set_info[2];\\n            let send_data = {\\\"params\\\":\\n                    {\\\"data\\\": {\\\"info\\\": input_text},\\n                        \\\"name\\\": dev_set_info[0],\\n                        \\\"password\\\": dev_set_info[1]}\\n            };\\n            // log(send_data);\\n            let par2 = {headers:{'content-type':'application/json;charset=UTF-8','User-Agent':dev_set_info[3]},body:JSON.stringify(send_data),method:'POST'};\\n            // par2 = JSON.stringify(par2); //x5里面请求才需要编码\\n            try {\\n                let back_ret = request(info_set_url, par2);\\n                back_ret = JSON.parse(back_ret).result;\\n                if(back_ret.status===0){\\n                    // refreshPage();\\n                    return 'toast://保存成功\\\\n'+back_ret.detail;\\n                }else{\\n                    return 'toast://保存失败\\\\n'+back_ret.detail;\\n                }\\n            }catch (e) {\\n                return 'toast://错误\\\\n'+e.message;\\n            }\\n        }else{\\n            confirm({title:'道长提示',content:'虽然你很懒，但是公告至少写4个字吧！'});\\n            return 'hiker://empty'\\n        }\\n    })\\n});\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"预处理依赖文件\",\"path\":\"libs\",\"rule\":\"if(getAppVersion()>=3200){\\n    try{\\n        rc(\\\"hiker://files/rules/js/$hiker.js\\\", -1);\\n        //$.setRoot('https://hjdhnx.coding.net/public/hiker/hiker/git/files/master/js/');\\n        $.setRoot();\\n        $.setLib({\\n            lsg: \\\"lsg.js\\\", //本地储存\\n            file: \\\"file.js\\\", //文件os\\n            fileSelect: \\\"fileSelect.js\\\", //文件选择器\\n            dt: \\\"dt.js\\\", //动态分类\\n            dr: \\\"dr.js\\\", //dr模板依赖\\n            drpre: \\\"drpre.js\\\", //dr模板预处理\\n            drup: \\\"drup.js\\\", //dr模板自动更新\\n            drmatch: \\\"drmatch.js\\\", //dr模板自动模板匹配\\n            drm: \\\"drm.js\\\", //dr模板小程序\\n            cms: \\\"cms.js\\\", //cms模板依赖\\n            cmspre: \\\"cmspre.js\\\", //cms预处理\\n            cmsm: \\\"cmsm.js\\\", //cms模板小程序\\n            libcheck: \\\"libcheck.js\\\", //dr检测依赖\\n            ruleEditor: \\\"ruleEditor.js\\\", //写页源神器小程序\\n            houseLazy: \\\"houseLazy.js\\\", //仓库通免\\n            lazy: \\\"lazy.js\\\", //香免\\n            sub: \\\"sub.js\\\", //道德经订阅\\n            hikerUi: \\\"hikerUi.js\\\", //海阔组件依赖\\n            hikerLibs: \\\"hikerLibs.js\\\", //海阔全能依赖\\n        });\\n    }catch(e){\\n        //toast('请尝试点击仓库主页的升级仓库旁边的按钮升级$扩展，否则某些功能不能正常使用');\\n        confirm({\\n            title: '提示-点击确定可以导入',\\n            content: '请尝试点击仓库主页的升级仓库旁边的按钮升级$扩展，否则某些功能不能正常使用',\\n            confirm: $.toString(()=>{\\n                const {getApi} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n                let ruleHead = '海阔视界，网页插件￥js_url￥$hiker@';\\n                let url = getApi('importUrl')+\\\"5111\\\";\\n                let importUrl = 'rule://'+base64Encode(ruleHead+url);\\n                return importUrl\\n            }),\\n            cancel: $.toString(()=>{\\n\\n            }),\\n        })\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"Import详细\",\"path\":\"ruleDetailImport\",\"rule\":\"js:\\n$.exports = \\\"hiker://page/ruleDetail?rule=道长仓库Pro&id=\\\" + $.importParam;\\n\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/other/30.svg"},{"last_chapter_rule":"","title":"DR模板","author":"道长","version":16,"type":"tool","url":"hiker://empty","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"模板","year_url":"","find_rule":"js:\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/dr模板.js');","searchFind":"","search_url":"","group":"工具","detail_col_type":"movie_3","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_3","sdetail_find_rule":"*","ua":"mobile","preRule":"require('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[{\"col_type\":\"movie_3\",\"name\":\"规则\",\"path\":\"ruleGen\",\"rule\":\"$.exports.rule={\\\"firstHeader\\\":\\\"class\\\",\\\"last_chapter_rule\\\":\\\"\\\",\\\"title\\\":\\\"蓝莓影视B\\\",\\\"author\\\":\\\"道长\\\",\\\"url\\\":\\\"hiker://empty##https://lanmeiguojiang.com/ys\\\",\\\"version\\\":1,\\\"col_type\\\":\\\"movie_3_marquee\\\",\\\"class_name\\\":\\\"\\\",\\\"type\\\":\\\"video\\\",\\\"class_url\\\":\\\"\\\",\\\"area_name\\\":\\\"\\\",\\\"area_url\\\":\\\"\\\",\\\"sort_name\\\":\\\"\\\",\\\"year_name\\\":\\\"\\\",\\\"sort_url\\\":\\\"影视\\\",\\\"year_url\\\":\\\"\\\",\\\"find_rule\\\":\\\"js:\\\\nrequire(config.模板);\\\\n依赖检测();\\\\n一级书签('$detailUrl','$system');\\\\n//一级书签('$detailUrl',true);\\\",\\\"search_url\\\":\\\"/ys/index.php/vod/search/page/fypage/wd/**.html\\\",\\\"group\\\":\\\"#️⃣道长DR\\\",\\\"searchFind\\\":\\\"js:\\\\nrequire(config.自动匹配);\\\\n自动搜索('$sflag');\\\",\\\"detail_col_type\\\":\\\"movie_1\\\",\\\"detail_find_rule\\\":\\\"js:\\\\nrequire(config.自动匹配);\\\\nrequireCache('https://lanmeiguojiang.com/lmysdm/lazy.js',24); \\\\n自动二级(lazy);\\\\n//自动二级();\\\",\\\"sdetail_col_type\\\":\\\"movie_1\\\",\\\"sdetail_find_rule\\\":\\\"*\\\",\\\"ua\\\":\\\"mobile\\\",\\\"preRule\\\":\\\"var ua='$ua';\\\\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');\\\",\\\"pages\\\":\\\"[]\\\",\\\"icon\\\":\\\"https://lanmeiguojiang.com/tubiao/ke/94.png\\\"}\"}]","proxy":"https://hjdhnx.coding.net/p/hiker/d/dr/git/raw/master/js/=>https://gitcode.net/qq_32394351/dr/-/raw/master/js/","icon":"https://lanmeiguojiang.com/tubiao/more/328.png"},{"last_chapter_rule":"","title":"电视直播","author":"🏅京梦修改[小棉袄🌞&Joker]","version":6,"type":"live","url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(JSON.parse(request(\"hiker://page/config\")).rule); //getConfig\n\nlet data = [],\n    config = getConfig();\nconfig.data = config.data.filter(v => !v.inVisible);\nif (config.data.length <= 0) {\n    data = $.require('hiker://page/renderSetting').renderSetting();\n} else {\n    let select = getItem(\"live-select\", config.data[0].name),\n        has = config.data.map(i => i.name).includes(select);\n    if (!has) {\n        select = config.data[0].name;\n    }\n    data.push({\n    title: \"\",\n    col_type: 'card_pic_1',\n    desc: \"0\",\npic_url:\"https://apis.jxcxin.cn/api/dmimg\"+ '#' + new Date().getTime(),\nurl:  $(\"hiker://empty#noLoading#\").rule(() => {\n            addListener('onClose','refreshPage()')\n            setResult($.require('hiker://page/renderSetting').renderSetting())\n    })\n })\n    data.push({\n    title: \"\",\n    url: \"'\",\n    desc: \"\",\n    col_type: \"line\"\n })\n    data.push({\n        title: '搜索',\n        desc: '请输入搜索关键词',\n        extra: {\n            defaultValue: getVar('search_key', ''),\n            onChange: 'putVar(\"search_key\",input)'\n        },\n        col_type: 'input',\n        url: $.toString(() => {\n            return 'hiker://search?rule=' + getMyVar('title') + '&s=' + getVar('search_key', '')\n        })\n    })\n    \n    for (source of config.data) {\n        data.push({\n            title: source.name == select ? \"““””<span style='color: #19B89D'>\" + select + \"</span>\" : source.name,\n            col_type: \"scroll_button\",\n            url: $('#noLoading#').lazyRule((a) => {\n                setItem(\"live-select\", a);\n                setItem('selectGroup', '');\n                refreshPage();\n                return \"hiker://empty\"\n            }, source.name)\n        })\n    }\n\n    data.push({\n        col_type: 'blank_block'\n    })\n\n    for (source of config.data) {\n        if (source.name == select) {\n            try {\n                let items = $.require('hiker://page/renderData').renderLiveData(source.url);\n                let groups = Object.keys(items);\n                //groups.push(groups.splice(groups.indexOf(0), 1)[0]);\n                let selectGroup = getItem('selectGroup', groups[0]);\n                if (selectGroup == \"\" || !groups.includes(selectGroup)) selectGroup = groups[0];\n                groups.forEach((group) => {\n                    if (group) {\n                        data.push({\n                            title: group == selectGroup ? \"““””<span style='color: #19B89D'>\" + group + \"</span>\" : group,\n                            url: $('#noLoading#').lazyRule((group) => {\n                                setItem('selectGroup', group);\n                                refreshPage();\n                                return 'hiker://empty'\n                            }, group),\n                            col_type: 'scroll_button',\n                            extra: {\n                                lineVisible: false\n                            }\n                        })\n                    }\n                })\n                for (let title in items[selectGroup]) {\n                    data.push({\n                        title: title,\n                        url: JSON.stringify({\n                            urls: items[selectGroup][title].url,\n                            headers: items[selectGroup][title].headers\n                        }),\n                        //col_type: 'text_3',\n                        img: \"https://lanmeiguojiang.com/tubiao/more/221.png\"\n                    })\n                }\n            } catch (e) {\n                data.push({\n                    title: \"数据加载失败\\n\" + JSON.stringify(e),\n                    col_type: \"long_text\"\n                })\n            }\n            break;\n        }\n    }\n\n\n}\nsetResult(data);","searchFind":"js:\neval(JSON.parse(request(\"hiker://page/config\")).rule);\nlet config = getConfig();\nlet rules = config.data.map((source) => {\n    return {\n        title: source.name,\n        search_url: 'hiker://empty?key=**',\n        searchFind: 'js:' + $.toString((url, rule_title) => {\n            let d = [],\n                key = getParam('key');\n            let items = $.require('hiker://page/renderData?rule=' + rule_title).renderLiveData(url);\n            for (let group in items) {\n                for (let title in items[group]) {\n                    if (title.indexOf(key) >= 0 || title.toLowerCase().indexOf(key) >= 0) {\n                        d.push({\n                            title: title,\n                            url: JSON.stringify({\n                                urls: items[group][title].url,\n                                headers: items[group][title].headers\n                            })\n                        })\n                    }\n                }\n            }\n            setResult(d);\n        }, source.url, getMyVar('title'))\n    };\n})\nsetResult([{\n    title: \"点我开始聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"key\"),\n    extra: {\n        rules: $.toString((rules) => {\n            return JSON.stringify(rules)\n        }, rules)\n    }\n}])","search_url":"hiker://empty?key=**","group":"直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putMyVar('title',MY_RULE.title);","pages":"[{\"col_type\":\"movie_3\",\"name\":\"加载数据\",\"path\":\"config\",\"rule\":\"function getConfig() {\\n    try {\\n        let config = fetch(\\\"hiker://files/rules/live/config.json\\\");\\n        if (!config || config == \\\"\\\") {\\n            return {\\n                data: [],\\n                version: 0\\n            }\\n        } else {\\n            return JSON.parse(config)\\n        }\\n    } catch (e) {\\n        try {\\n            toast(\\\"配置文件格式有误\\\")\\n        } catch (e) {}\\n        return {\\n            data: [],\\n            version: 0\\n        }\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"批量导入\",\"path\":\"batchIm\",\"rule\":\"function batchImport(input, rule) {\\n    input = input.trim();\\n    if (input.length < 3 || input[0] != \\\"{\\\") {\\n        return \\\"toast://请输入正确的格式\\\"\\n    }\\n    let im = JSON.parse(input);\\n    if (im.data == null || im.data.length < 1) {\\n        return \\\"toast://请输入正确的格式\\\"\\n    }\\n    eval(JSON.parse(request(\\\"hiker://page/config?rule=\\\" + rule)).rule);\\n    let config = getConfig();\\n    let count = 0;\\n    let all = config.data.map(it => it.url + \\\"&&&\\\").join();\\n    for (let i of im.data) {\\n        if (all.indexOf(i.url + \\\"&&&\\\") >= 0) {\\n            //重复的不要\\n            continue;\\n        }\\n        count++;\\n        config.data.push(i)\\n    }\\n    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n    refreshPage();\\n    return \\\"toast://已导入\\\" + count + \\\"条订阅源\\\";\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"直播数据\",\"path\":\"renderData\",\"rule\":\"function renderLiveData(url) {\\n    let m3u = \\\"\\\";\\n    if (url.startsWith('hiker://') || url.startsWith('file://')) {\\n        m3u = fetch(url);\\n    } else {\\n        let interval = Number(getItem('interval', '24')),\\n            oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n            remoteData = '';\\n        try {\\n            remoteData = fetchCache(url, interval, {\\n                timeout: 50000\\n            });\\n        } catch (e) {}\\n        if (!remoteData.includes('http') || remoteData.includes('<body>')) { \\n            log('更新失败');\\n            if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData);\\n            m3u = oldData;\\n        } else {\\n            m3u = remoteData;\\n        }\\n    }\\n\\n    let mode =  m3u.indexOf('#EXTM3U') == 0 , re;\\n    if(mode){\\n        re = /(.*),(.*)\\\\s*?((?:http|rtmp)[^#\\\\s]*)/g;\\n    }else{\\n        re = /()(?:\\\\B\\\\$c_start|\\\\B#{1,2})?(.*?),?(##|头#|\\\\$c_end|,#genre#|(?:http|rtmp)[^\\\\s]*)/g;\\n    }\\n        \\n    let items = {},\\n        group = '未分组';\\n    for (let i = re.exec(m3u); i != null; i = re.exec(m3u)) {\\n        if (mode) {\\n            group = (i[1].match(/group-title=\\\"(.*?)\\\"/) || [null, group])[1];\\n        } else if ([',#genre#','##','头#','$c_end'].includes(i[3])) {\\n            group = i[2];\\n            continue;\\n        }\\n        let title = i[2],\\n            url = i[3].includes('#') ? i[3].split('#') : [i[3]],\\n            headers = [];\\n        if(!url[url.length-1]) url.pop();\\n        url.forEach((v,index,array)=>{\\n            if(/;\\\\{(.*)\\\\}/.test(v)){\\n                let obj = {},\\n                     con = v.match(/;\\\\{(.*)\\\\}/)[1],\\n                     arr = con.split('&&');\\n                arr.forEach((i)=>{\\n                    let [key,value] = i.split('@');\\n                    obj[key] = value.replace(/;/g,'；；');\\n                })\\n                array[index] = v.match(/^([^;]*);\\\\{/)[1]\\n                headers.push(obj);\\n            }else{\\n                headers.push({'User-Agent' : MOBILE_UA.replace(/;/g,'；；')});\\n            }\\n            array[index] = array[index].replace(/;/g,'；；')+'#isVideo=true#';\\n        });\\n        if (items[group]) {\\n            if (items[group][title]) {\\n                items[group][title].url = items[group][title].url.concat(url);\\n                items[group][title].headers = items[group][title].headers.concat(headers);\\n            } else {\\n                items[group][title] = {url:url,headers:headers};\\n            }\\n        } else {\\n            items[group] = {};\\n            items[group][title] = {url:url,headers:headers};\\n        };\\n    }\\n    return items;\\n}\\n\\n$.exports = {\\n    renderLiveData: renderLiveData\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"设置页\",\"path\":\"renderSetting\",\"rule\":\"function renderSetting() {\\n    function getColoredText(text) {\\n        return '““””<span style=\\\"color: #19B89D\\\">' + text + '</span>';\\n    }\\n    const d = [];\\n  d.push({\\n    title: \\\"\\\",\\n    url: \\\"https://www.hhdglm.com/dy.html\\\",\\n    col_type: 'card_pic_1',\\n    desc: \\\"0\\\",\\n    pic_url:\\\"https://apis.jxcxin.cn/api/dmimg\\\"+ '#' + new Date().getTime(),\\n})\\n   d.push({\\n    title: \\\"\\\",\\n    url: \\\"\\\",\\n    desc: \\\"\\\",\\n    col_type: \\\"line\\\"\\n})\\n   d.push({\\n    title: \\\"[本地]订阅示例：hiker://files/rules/直播源.txt\\\",\\n    url: \\\"copy://Android/data/com.example.hikerview/files/Documents/rules/直播源.txt\\\",\\n    desc: \\\"点击复制完整路径\\\",\\n    col_type: \\\"text_1\\\"\\n})\\n\\n    let interval = getItem('interval', '24');\\n    d.push({\\n        title: interval == -1 ? '已禁止自动更新'.fontcolor(\\\"#19B89D\\\").bold() : ('更新间隔:' + interval + '小时').fontcolor(\\\"#19B89D\\\").bold(),\\n        url: $(interval, '输入n为正整数时，每隔n小时自动更新\\\\n为0时，每次打开都会更新\\\\n为-1时，禁止自动更新').input(() => {\\n            if (parseInt(input) >= -1) {\\n                setItem('interval', input);\\n            }\\n            refreshPage();\\n            return 'hiker://empty'\\n        }),\\n        pic_url: 'https://lanmeiguojiang.com/tubiao/more/87.png',\\n        col_type: \\\"avatar\\\"\\n    });\\n\\n    d.push({\\n        col_type: \\\"big_blank_block\\\"\\n    });\\n\\n    d.push({\\n        title: getColoredText(\\\"导入订阅\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        desc: \\\"请输入直播源订阅地址\\\",\\n        url: $('', '请输入订阅地址').input((rule) => {\\n            if (input == \\\"\\\") {\\n                return \\\"toast://不能为空\\\"\\n            } else if (input.indexOf(\\\"http\\\") != 0 && input.indexOf(\\\"file\\\") != 0 && input.indexOf(\\\"hiker\\\") != 0) {\\n                return \\\"toast://链接格式有误\\\"\\n            } else {\\n                return $('',\\\"请输入订阅标题\\\").input((url, rule) => {\\n                    eval(JSON.parse(request(\\\"hiker://page/config?rule=\\\" + rule)).rule);\\n                    let config = getConfig();\\n                    config.data.push({\\n                        name: input,\\n                        url: url\\n                    });\\n                    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                    refreshPage();\\n                    return \\\"toast://已保存\\\";\\n                }, input, rule)\\n            }\\n        }, getMyVar('title'))\\n    });\\n\\n    d.push({\\n        title: getColoredText(\\\"批量导入\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        url: $('','支持原始数据和云剪贴板分享链接').input((rule) => {\\n            eval(JSON.parse(request(\\\"hiker://page/batchIm?rule=\\\" + rule)).rule);\\n            if (input.startsWith('电视直播分享##')) {\\n                input = parsePaste(input.split('##\\\\n')[1]);\\n            }\\n            return batchImport(input, rule);\\n        }, getMyVar('title'))\\n    });\\n    d.push({\\n        title: getColoredText(\\\"导出全部\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        url: $([\\\"原始数据\\\", \\\"云剪贴板\\\"], 1).select(() => {\\n            return $('确定导出？\\\\n(禁用订阅不会导出)').confirm((type) => {\\n                eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                config = getConfig();\\n                config.data = config.data.filter(v => !v.inVisible);\\n                if (type == \\\"云剪贴板\\\") {\\n                    var data = '电视直播分享##\\\\n' + sharePaste(JSON.stringify(config));\\n                } else {\\n                    var data = JSON.stringify(config);\\n                }\\n                return \\\"copy://\\\" + data;\\n            }, input)\\n        })\\n    });\\n    d.push({\\n        title: getColoredText(\\\"编辑全部\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        url: \\\"editFile://hiker://files/rules/live/config.json\\\"\\n    });\\n\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n\\n    eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n    config = getConfig();\\n    let editMode = getMyVar('editMode', '启用禁用');\\n    ['启用禁用', '删除订阅', '重新排序', '编辑订阅','清除缓存'].forEach((v) => {\\n        d.push({\\n            title: v == editMode ? '““””' + v.bold().fontcolor('#19B89D') : v,\\n            url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n                putMyVar('editMode', v)\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v),\\n            col_type: 'scroll_button'\\n        })\\n    });\\n    config.data.forEach((v, i) => {\\n        let el = {\\n            title: v.name,\\n            col_type: \\\"text_3\\\"\\n        }\\n        switch (editMode) {\\n            case '启用禁用':\\n                el.title = (v.inVisible ? '🔴 ' : '🟢 ') + el.title\\n                el.url = $('#noLoading#').lazyRule((i) => {\\n                    eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                    config = getConfig();\\n                    config.data[i].inVisible = !config.data[i].inVisible;\\n                    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                    refreshPage(false);\\n                    return 'hiker://empty'\\n                }, i)\\n                break\\n            case '删除订阅':\\n                el.url = \\\"confirm://确认删除“\\\" + v.name + \\\"”订阅？.js:\\\" + $.toString((name) => {\\n                    eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                    config = getConfig();\\n                    config.data = config.data.filter(i => i.name != name);\\n                    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                    refreshPage(false);\\n                    return \\\"toast://已删除\\\";\\n                }, v.name)\\n                break\\n            case '重新排序':\\n                let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n                el.title = (sortFlag == i ? '🔃  ' : '') + el.title\\n                if (sortFlag == -1)\\n                    el.url = $('#noLoading#').lazyRule((i) => {\\n                        putMyVar('sortFlag', i.toString())\\n                        refreshPage(false)\\n                        return 'toast://选择要移动到的位置'\\n                    }, i)\\n                else\\n                    el.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                        eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                        config = getConfig();\\n                        config.data.splice(newIndex, 0, config.data.splice(oldIndex, 1)[0])\\n                        writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                        putMyVar('sortFlag', '-1')\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, sortFlag, i)\\n                break\\n            case '编辑订阅':\\n                let arr = ['编辑名称', '编辑地址', '编辑内容'];\\n                el.url = $(arr, 3).select((v, i) => {\\n                    if (input == '编辑名称') {\\n                        return $(v.name, '输入新名称').input((i) => {\\n                            eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                            config = getConfig();\\n                            if (input) {\\n                                config.data[i].name = input\\n                                writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                                refreshPage(false)\\n                                return 'toast://修改成功'\\n                            } else {\\n                                return 'toast://不能为空'\\n                            }\\n                        }, i);\\n                    } else if (input == '编辑地址') {\\n                        return $(v.url, '输入新地址').input((i) => {\\n                            eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                            config = getConfig();\\n                            if (input == \\\"\\\") {\\n                                return \\\"toast://不能为空\\\"\\n                            } else if (input.indexOf(\\\"http\\\") != 0 && input.indexOf(\\\"file\\\") != 0 && input.indexOf(\\\"hiker\\\") != 0) {\\n                                return \\\"toast://链接格式有误\\\"\\n                            } else {\\n                                config.data[i].url = input\\n                                writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                                refreshPage(false)\\n                                return 'toast://修改成功'\\n                            }\\n                        }, i);\\n                    } else if (input == '编辑内容') {\\n                        if (v.url.startsWith('file://') || v.url.startsWith('hiker://files')) {\\n                            return 'editFile://' + v.url;\\n                        }\\n                        return 'editFile://hiker://files/libs/' + md5(v.url) + '.js'\\n                    }\\n                }, v, i);\\n                break;\\n            case '清除缓存':\\n                el.url = $('确定清除“' + v.name + '”订阅缓存？\\\\n(可立即更新)').confirm((url)=>{\\n                    deleteCache(url);\\n                    return 'toast://清除成功'\\n                },v.url)\\n                break;\\n        }\\n        d.push(el)\\n    });\\n    return d;\\n}\\n\\n$.exports = {\\n    renderSetting: renderSetting\\n}\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/more/87.png"},{"last_chapter_rule":"","title":"电视直播[简单版]","author":"京梦","version":1,"type":"live","url":"hiker://empty###fyAll","col_type":"icon_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar data = [];\ndata.push({\n    title: \"🔎\",\n    url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n    desc: \"搜索频道\",\n    col_type: \"input\"\n})\ndata.push({\n    title: '',\n    col_type: 'card_pic_1',\n    desc: \"0\",\n    pic_url: 'https://www.hlapi.cn/api/mm2'+ '#' + new Date().getTime(),\n    url: \"toast://点我干嘛！\"\n})\n\nlet flag = MY_URL.split(\"##\")[1].split('#')[1];\nlet lazyRule = u => {\n    if (u.startsWith(\"{\")) {\n        return u;\n    }\n    if (/(rtmp|flv|ts|m3u8|mp4)/.test(u)) {\n        return u + '#isVideo=true#'\n    } else if (/(huya.com)/.test(u)) {\n        return u\n    }\n    return $(u).lazyRule(() => {\n        try {\n            return JSON.parse(fetch(input, {\n                headers: {\n                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)'\n                },\n                redirect: false,\n                withHeaders: true\n            })).headers.location[0] + '#isVideo=true#'\n        } catch (e) {\n            log(e.toString())\n            return \"toast://频道源以失效，更换其它频道观看\"\n        }\n    })\n}\nlet path = \"http://wp.anxwl.cn/down.php/0c2f6f155bb55232337aef7010f7550f.txt\";\nconst {\n    renderLiveData\n} = $.require(\"hiker://page/tool\");\ntry {\n    let items = renderLiveData(path, null, false);\n    //log(items);\n    let groups = Object.keys(items);\n    groups.push(groups.splice(groups.indexOf(0), 1)[0]);\n    let selectGroup = getMyVar('selectGroup', groups[0]);\n    if (selectGroup == \"\") selectGroup = groups[0];\n    groups.forEach((group) => {\n        if (group) {\n            data.push({\n                title: group == selectGroup ? \"““””<span style='color: #19B89D'>\" + group + \"</span>\" : group,\n                url: $('#noLoading#').lazyRule((group) => {\n                    putMyVar('selectGroup', group);\n                    refreshPage();\n                    return 'hiker://empty'\n                }, group),\n                col_type: 'scroll_button',\n                extra: {\n                    lineVisible: false\n                }\n            })\n        }\n    })\n    for (let title in items[selectGroup]) {\n        let us = items[selectGroup][title];        \n        data.push({\n            title: title.split(\"###\")[0],\n            url: us.length < 2 ? us[0]: JSON.stringify({\n                urls: us\n            }),\n//col_type: 'icon_2_round',\n            img: \"\"\n        })\n    }\n}\n          catch (e) {\n    data.push({\n        title: \"数据加载失败\",\n        desc: JSON.stringify(e),\n        col_type: \"text_1\"\n    })\n}\n for (let it of data) {\n    if (!it.col_type && it.url && !it.url.startsWith(\"{\")) {\n        it.url = lazyRule(it.url);\n    }\n    if (!it.col_type && it.url) {\n        it.img = \"https://lanmeiguojiang.com/tubiao/more/221.png\";\n    }\n}\n\nsetResult(data);","searchFind":"js:\nvar data = [];\nlet lazyRule = u => {\n    if (u.startsWith(\"{\")) {\n        return u;\n    }\n    if (/(rtmp|ts|tx2p|mkv|flv|m3u8|mp4)/.test(u)) {\n        return u + '#isVideo=true#'\n    } else if (/(huya.com)/.test(u)) {\n        return u\n    }\n    return $(u).lazyRule(() => {\n        try {\n            return JSON.parse(fetch(input, {\n                headers: {\n                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)'\n                },\n                redirect: false,\n                withHeaders: true\n            })).headers.location[0] + '#isVideo=true#'\n        } catch (e) {\n            log(e.toString())\n            return \"toast://频道源以失效\"\n        }\n    })\n}\nvar keyword = MY_URL.split('##')[1].toLowerCase();\nlet path = \"http://wp.anxwl.cn/down.php/0c2f6f155bb55232337aef7010f7550f.txt\";\nconst {\n    renderLiveData\n} = $.require(\"hiker://page/tool\");\ntry {\n    let items = renderLiveData(path, keyword, false);\n    //log(items);\n    let groups = Object.keys(items);\n    groups.push(groups.splice(groups.indexOf(0), 1)[0]);\n    let selectGroup = getMyVar('selectGroup', groups[0]);\n    if (selectGroup == \"\") selectGroup = groups[0];\n    for (let it of Object.keys(items)) {\n        for (let title in items[it]) {\n            let us = items[it][title];\n            data.push({\n                title: title.split(\"###\")[0],\n                url: us.length < 2 ? us[0] : JSON.stringify({\n                    urls: us\n                }),\n                //col_type: 'icon_2_round',\n                //img: \"https://lanmeiguojiang.com/tubiao/more/228.png\"\n            })\n        }\n    }\n} catch (e) {\n    data.push({\n        title: \"数据加载失败\",\n        desc: JSON.stringify(e),\n        col_type: \"text_1\"\n    })\n}\nfor (let it of data) {\n    if (!it.col_type && it.url && !it.url.startsWith(\"{\")) {\n        it.url = lazyRule(it.url);\n    }\n}\nsetResult({\n    data: data\n});","search_url":"hiker://empty##**","group":"直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"text_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"tool\",\"rule\":\"function getReferer(url) {\\n    if (url.indexOf(\\\"gitee\\\") > 0) {\\n        return \\\"https://\\\" + url.split(\\\"://\\\")[1].split(\\\"/\\\")[0];\\n    } else {\\n        return null\\n    }\\n}\\n\\n\\nfunction renderLiveData(url, filter, isText) {\\n    let net = fetchCache(url, {\\n        headers: {\\n            Referer: getReferer(url)\\n        }\\n    });\\n    const m3u = net,\\n        mode = m3u.indexOf('#EXTM3U') == 0,\\n        re = mode ? /(.*),(.*)\\\\s*?((?:http|rtmp)[^#\\\\s]*)/g : /()(.*),(#genre#|(?:http|rtmp)[^#\\\\s]*)/g;\\n    let items = {},\\n        group = '未分组';\\n    for (let i = re.exec(m3u); i != null; i = re.exec(m3u)) {\\n        if (mode) {\\n            group = (/group-title=\\\"(.*?)\\\"/.exec(i[1]) || [null, ''])[1];\\n        } else if (i[3] == '#genre#') {\\n            group = i[2];\\n            continue;\\n        }\\n        let title = i[2],\\n            url = i[3].trim();\\n        if (url.indexOf(\\\".php\\\") > 0 || url.includes(\\\"@lazyRule\\\") || url.includes(\\\";\\\")) {\\n            title = title + \\\"###\\\" + new Date().getTime() + md5(url);\\n            //log(j);\\n        } else {\\n            //url = url + \\\"#isVideo=true#\\\";\\n        }\\n        if (filter != null && !title.includes(filter)) {\\n            continue\\n        }\\n        if (items[group]) {\\n            if (items[group][title]) {\\n                items[group][title] = items[group][title].concat([url]);\\n            } else {\\n                items[group][title] = [url];\\n            }\\n        } else {\\n            items[group] = {};\\n            items[group][title] = [url];\\n        };\\n    }\\n    return items;\\n}\\n$.exports = {\\n    renderLiveData: renderLiveData,\\n}\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/more/87.png"},{"last_chapter_rule":"","title":"轻合集.缘分","author":"小棉袄🌞&永远の明日&缘分","version":106,"type":"all","url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst QING_TITLE = getMyVar('myCollection'),\n    newWindow = readFile('newWindow'),\n    typeShow = getMyVar('typeShow', '@'),\n    types = { 'all': '聚合', 'video': '视频', 'music': '音频', 'live': '直播', 'cartoon': '漫画', 'read': '阅读', 'picture': '图集', 'news': '资讯', 'tool': '工具', 'other': '其它' }\nlet el = [{\n        title: ' ' + QING_TITLE.bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n        url: 'hiker://page/Config?rule=' + QING_TITLE + '&#noRecordHistory#',\n        img: MY_RULE.icon || 'hiker://images/icon1',\n        col_type: 'avatar'\n    }, {\n        url: '\"hiker://search?s=\"+input',\n        desc: '这是轻合集的搜索哦~~',\n        title: '搜索',\n        col_type: 'input',\n        extra: {\n            rules: $.toString((QING_TITLE, typeShow) => {\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n                if (typeShow[0] == '@') {\n                    let filterKey = typeShow.slice(1)\n                    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n                } else rules = rules.filter((v) => v.type == typeShow)\n                return JSON.stringify(rules)\n            }, QING_TITLE, typeShow),\n            defaultValue: getMyVar('searchKey', ''),\n            onChange: \"putMyVar('searchKey',input)\"\n        }\n    }],\n    rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE),\n    rulesType = rules.reduce((obj, v) => {\n        let type = v.type\n        if (type) {\n            if (!Array.isArray(obj[type]))\n                obj[type] = []\n            obj[type].push(v)\n        }\n        return obj\n    }, {})\nif (typeShow[0] == '@') {\n    let filterKey = typeShow.slice(1)\n    if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n}\nel.push(typeShow[0] == '@' ? {\n    title: '““””' + ('全部' + (typeShow[1] ? '[' + typeShow.slice(1) + ']' : '')).bold().fontcolor('#12b668') + ' ' + (rules.length).toString().small(),\n    url: $(typeShow.slice(5), '查找小程序关键词').input(() => {\n        putMyVar('typeShow', '@' + input)\n        refreshPage(false)\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n} : {\n    title: '““””全部 ' + (rules.length).toString().small(),\n    url: $('#noLoading#').lazyRule(() => {\n        putMyVar('typeShow', '@')\n        refreshPage(false)\n        return 'toast://再次点击【全部】可查找小程序'\n    }),\n    col_type: 'scroll_button'\n})\nfor (let k in types)\n    if (k in rulesType)\n        el.push({\n            title: '““””' + (k == typeShow ? types[k].bold().fontcolor('#12b668') : types[k]) + ' ' + (rulesType[k].length).toString().small(),\n            url: k == typeShow ? 'hiker://empty' : $('#noLoading#').lazyRule((k) => {\n                putMyVar('typeShow', k)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, k),\n            col_type: 'scroll_button'\n        })\n\nif (typeShow[0] != '@') rules = rulesType[typeShow]\nlet { paramHandle } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {})\nrules.forEach((v) => {\n    let urlParam = v.url.split(';'),\n        ruleTmp = {\n            title: v.title, url: urlParam.shift(),\n            class_name: v.class_name, class_url: v.class_url,\n            area_name: v.area_name, area_url: v.area_url,\n            year_name: v.year_name, year_url: v.year_url,\n            sort_name: v.sort_name, sort_url: v.sort_url\n        },\n        fypage = ruleTmp.url.includes('fypage') ? 'fypage' : '1',\n        domain = (/^https?:\\/\\/[^/?#]+/i.exec(ruleTmp.url) || ['hiker://empty'])[0],\n        d = {\n            title: v.title,\n            url: 'hiker://page/frameLoad',\n            img: v.icon || 'hiker://images/icon1',\n            extra: {\n                url: domain + '/#noHistory##noRecordHistory####' + fypage +\n                    '.js:let { runCode, indexUrl } = $.require(\"hiker://page/funcTools？？rule=' + QING_TITLE + '\", '\n                     + JSON.stringify({\n                        MY_RULE: base64Encode(JSON.stringify(ruleTmp)),\n                        QING_TITLE: QING_TITLE\n                    }) + ')；；indexUrl(input);' + paramHandle(urlParam, v.ua),\n                RULE: base64Encode(JSON.stringify({ title: v.title })),\n                isIndex: true\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: QING_TITLE + '_' + d.title\n    })\n    el.push(d)\n})\nsetResult(el)\n","searchFind":"js:\nsetResult([{\n    title: \"点我开始轻合集•视界聚搜\",\n    url: \"hiker://search?s=\" + getParam(\"keyword\"),\n    extra: {\n        rules: $.toString(() => {\n            const QING_TITLE = getMyVar('myCollection'),\n                typeShow = getMyVar('typeShow', '@')\n            let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\n            if (typeShow[0] == '@') {\n                let filterKey = typeShow.slice(1)\n                if (filterKey) rules = rules.filter((v) => v.title.includes(filterKey))\n            } else rules = rules.filter((v) => v.type == typeShow)\n            return JSON.stringify(rules)\n        })\n    }\n}])\n","search_url":"hiker://empty?keyword=**","group":"聚合","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putMyVar('myCollection', MY_RULE.title)\nputMyVar('remoteUrl', 'https://gitee.com/liuzaoyue80/my/raw/master/share-home-rules.json')\n// \n/*\n*/","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"var {\\n    QING_TITLE, title, url,\\n    class_name, class_url,\\n    area_name, area_url,\\n    year_name, year_url,\\n    sort_name, sort_url\\n} = $.importParam\\nconst ClassTab = function(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + QING_TITLE + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = this.fold && getVar('$fold_' + this.sign, '')\\n        if (this.arr.length > 1 && this.fold) el.push({\\n            title: '““””' + (folded ? '▶' : '▼').fontcolor('#049eff'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('$fold_' + sign, folded ? '' : 'T')\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n            selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: selected == now ? '““””' + name.fontcolor(this.color).bold() : name,\\n                    url: selected == now ? 'hiker://empty' : $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        defaultClass = JSON.stringify(defaultClass ? {\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        } : { name:  'cannot find id: ' + id + ' in classTab: ' + this.sign, url: ''})\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n// 生成头部分类\\nlet fyAll = url.includes('fyAll'),\\n    tabHeader = []\\nif (class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: class_name,\\n    class_url: class_url\\n})\\nif (area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: area_name,\\n    class_url: area_url\\n})\\nif (year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: year_name,\\n    class_url: year_url\\n})\\nif (sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: sort_name,\\n    class_url: sort_url\\n})\\n$.exports = {\\n    fyAll: fyAll,\\n    tabHeader: new ClassTab(tabHeader, { name: title, fold: readFile('tabFold'), })\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearMyVar(\\\"sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst QING_TITLE = getMyVar('myCollection'),\\n    url = getMyVar('remoteUrl')\\nlet data = $.require('hiker://page/dataLoad?rule=' + QING_TITLE, true),\\n    el = [{\\n        title: '<b> 清除缓存，立即更新 <small> （基于远程仓库，不要频繁点击）',\\n        url: $('#noLoading#').lazyRule((url) => {\\n            if (url.startsWith('hiker://') || url.startsWith('file://'))\\n                return 'toast://仓库为本地文件，不会进行缓存，本功能也无效'\\n            deleteCache(url)\\n            back(false)\\n            return 'toast://已更新'\\n        }, url),\\n        img: 'hiker://images/icon4',\\n        col_type: 'avatar'\\n    }],\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    tabFold = readFile('tabFold'),\\n    disableCustom = readFile('disableCustom'),\\n    editMode = disableCustom ? '导入海阔' : getMyVar('editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  💡 更新频率: ' + (updateInterval == 0 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新\\\\n本地文件链接无效').input(() => {\\n        input = parseInt(input)\\n        if (Number.isNaN(input)) input = 1\\n        else if (input < 1) input = 0\\n        saveFile('updateInterval', input.toString())\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💠 分类折叠: ' + (tabFold ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((tabFold) => {\\n        saveFile('tabFold', tabFold ? '' : 'T')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, tabFold),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💼 备份恢复  ',\\n    url: $(['备份', '恢复'], 1).select((QING_TITLE, updateInterval, newWindow, tabFold, disableCustom) => {\\n        let url = getMyVar('remoteUrl')\\n        if (!url.startsWith('hiker://') && !url.startsWith('file://'))\\n            url = 'hiker://files/libs/' + md5(url) + '.js'\\n        else if (url.startsWith('hiker://page/')) url = 'hiker://empty'\\n        if (input == '备份') return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径')\\n            .input((url, updateInterval, newWindow, tabFold, disableCustom) => {\\n                let rules = request(url),\\n                    customData = readFile('customData')\\n                writeFile(input, JSON.stringify({\\n                    updateInterval: updateInterval,\\n                    newWindow: newWindow,\\n                    tabFold: tabFold,\\n                    disableCustom: disableCustom,\\n                    customData: customData,\\n                    rules: rules\\n                }))\\n                return 'toast://已备份，注意若仓库为子页面则不备份'\\n            }, url, updateInterval, newWindow, tabFold, disableCustom)\\n        else return $('hiker://files/tmp/' + QING_TITLE + '_backup.json', '输入备份路径').input((url) => {\\n            let { updateInterval, newWindow, tabFold, disableCustom, customData, rules } = JSON.parse(request(input))\\n            saveFile('updateInterval', updateInterval)\\n            saveFile('newWindow', newWindow)\\n            saveFile('tabFold', tabFold)\\n            saveFile('disableCustom', disableCustom)\\n            saveFile('customData', customData)\\n            if (rules) writeFile(url, rules)\\n            refreshPage()\\n            return 'toast://已恢复，如果不想同步远程仓库，可以设置更新频率为手动'\\n        }, url)\\n    }, QING_TITLE, updateInterval, newWindow, tabFold, disableCustom),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, {\\n    title: '““””' + '📝'.small() + '&nbsp 轻合集自定义 &nbsp'.bold().fontcolor('#757575') + (disableCustom ? '❌' : '⭕').small(),\\n    url: $([(disableCustom ? '启用' : '禁用') + '合集自定义', '清除自定义数据'], 1).select(() => {\\n        if (input == '清除自定义数据') {\\n            deleteFile('customData')\\n        } else if (input == '启用合集自定义') {\\n            saveFile('disableCustom', '')\\n        } else {\\n            saveFile('disableCustom', 'T')\\n            input += '\\\\n小程序启用/禁用、重新排序等操作均不会体现在首页小程序列表中'\\n        }\\n        refreshPage(false)\\n        return 'toast://已' + input\\n    }),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? ['导入海阔'] : ['启用/禁用', '重新排序', '更改图标', '导入海阔']).forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putMyVar('editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n});\\nif (editMode == '导入海阔') el.push({\\n    title: '全部导入',\\n    url: '海阔视界￥home_rule_url￥' + (url.startsWith('hiker://') || url.startsWith('file://') ? url : 'hiker://files/libs/' + md5(url) + '.js'),\\n    col_type: 'text_center_1',\\n    extra: { lineVisible: false }\\n});\\n(disableCustom ? data : JSON.parse(readFile('customData') || '[]')).forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                rules[i].visible = !rules[i].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putMyVar('sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putMyVar('sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((i) => {\\n                let rules = JSON.parse(readFile('customData') || '[]')\\n                if (input)\\n                    rules[i].icon = input\\n                else\\n                    delete rules[i].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, i)\\n            break\\n        case '导入海阔':\\n            d.url = $('#noLoading#').lazyRule((i) => {\\n                let data = $.require('hiker://page/dataLoad?rule=' + getMyVar('myCollection'), true)\\n                return 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            }, i)\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面载入\",\"path\":\"frameLoad\",\"rule\":\"js:\\nconst QING_TITLE = getMyVar('myCollection')\\nvar myColl_el = []\\neval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n\\nif (!isIndex) {\\n    if (pageTitle) setPageTitle(pageTitle)\\n    setLastChapterRule(oriRULE.last_chapter_rule)\\n    MY_PARAMS = MY_RULE.params\\n} else if (MY_PAGE == 1) {\\n    tabHeader.load(myColl_el)\\n    if (RULE.search_url) myColl_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"这是轻合集的搜索哦~~\\\",\\n        url: '\\\"hiker://search?s=\\\"+input',\\n        extra: {\\n            rules: $.toString((QING_TITLE, title) => {\\n                let rules = $.require('hiker://page/dataLoad?rule=' + QING_TITLE)\\n                rules = [rules.find((v) => v.title == title)]\\n                return JSON.stringify(rules)\\n            }, QING_TITLE, RULE.title),\\n            defaultValue: getMyVar('searchKey', ''),\\n            onChange: \\\"putMyVar('searchKey',input)\\\"\\n        },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 正文解析\\nvar {\\n    paramHandle,\\n    runPreRule,\\n    genExUrl,\\n    hijackLazyRule\\n} = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\nrunPreRule(oriRULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    let { hijackEl } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n    setResult = function(param0, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(param0.data)) param0 = param0.data\\n        Array.prototype.push.apply(myColl_el, param0.map(hijackEl))\\n        method_setResult.invoke(javaContext, myColl_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let { runCode } = $.require('hiker://page/funcTools?rule=' + QING_TITLE),\\n        [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^([\\\\s\\\\S]*?)(?:==>([\\\\s\\\\S]*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title, url: url,\\n                desc: desc, img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                let reIndex = res.url.indexOf('.js:')\\n                if (reIndex >= 0) res.url = res.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + res.url.slice(reIndex + 4)\\n            } else  if (detailFindRule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(Object.assign(genMyRule(), { detail_find_rule: detailFindRule }))),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = {\\n                    url: genExUrl(url),\\n                    RULE: base64Encode(JSON.stringify(genMyRule())),\\n                    pageTitle: isIndex && title\\n                }\\n                res.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n            }\\n        }\\n        myColl_el.push(res)\\n    })\\n    setResult(myColl_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"let showAll = $.importParam,\\n    url = getMyVar('remoteUrl'),\\n    data = []\\nif (url.startsWith('hiker://') || url.startsWith('file://')) {\\n    // 如果为本地文件则不进行缓存\\n    try {\\n        let oriData = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            oriData = JSON.parse(oriData).rule\\n        data = JSON.parse(oriData)\\n    } catch (e) {}\\n} else {\\n    // 获取远程数据，检查间隔默认一天\\n    let interval = parseInt(readFile('updateInterval') || '1'),\\n        oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n        remoteData = []\\n    if (interval == 0) interval = -1\\n    try { remoteData = JSON.parse(fetchCache(url, 24 * interval, { timeout: 50000 })) } catch (e) {}\\n    if (!Array.isArray(remoteData)) remoteData = []\\n    if (remoteData.length < 3) {\\n        log('未获取到数据')\\n        if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData)\\n        data = JSON.parse(oldData || '[]')\\n    } else {\\n        log('已获取到数据')\\n        data = remoteData\\n    }\\n}\\ndata = data.filter((v) => v.title != getMyVar('myCollection') && !(v.author || '').includes('轻合集生成器'))\\nif (readFile('disableCustom')) $.exports = data\\nelse { // 写入自定义数据\\n    let customData = JSON.parse(readFile('customData') || '[]'),\\n        rewriteData = []\\n    customData = customData.reduce((self, v) => {\\n        let index = data.findIndex((vv) => v.title == vv.title)\\n        if (index >= 0) {\\n            self.push(v)\\n            let rule = data.splice(index, 1)[0]\\n            if (showAll || v.visible)\\n                rewriteData.push(Object.assign(rule, v))\\n        }\\n        return self\\n    }, [])\\n    data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n    saveFile('customData', JSON.stringify(customData))\\n    $.exports = rewriteData.concat(data)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"环境劫持\",\"path\":\"hijackEnv\",\"rule\":\"var { RULE, isIndex, pageTitle } = MY_PARAMS\\nRULE = JSON.parse(base64Decode(RULE))\\nvar oriRULE = $.require('hiker://page/dataLoad?rule=' + QING_TITLE).find((v) => v.title == RULE.title)\\nif (isIndex) {\\n    RULE = oriRULE\\n    var { tabHeader, fyAll } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, RULE))\\n    // 处理MY_RULE\\n    MY_RULE.class_url = tabHeader.getClass(fyAll ? 'fyAll' : 'fyclass').url\\n    MY_RULE.area_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyarea').url\\n    MY_RULE.year_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fyyear').url\\n    MY_RULE.sort_url = fyAll ? MY_RULE.class_url : tabHeader.getClass('fysort').url\\n    MY_RULE.url = RULE.url\\n    MY_RULE.col_type = RULE.col_type\\n    MY_RULE.detail_col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.find_rule\\n    MY_RULE.detail_find_rule = RULE.detail_find_rule\\n    MY_RULE.params = {}\\n} else {\\n    RULE.pages = oriRULE.pages\\n    // 处理MY_RULE\\n    MY_RULE.url = MY_PARAMS.url\\n    MY_RULE.col_type = RULE.detail_col_type\\n    MY_RULE.find_rule = RULE.detail_find_rule\\n    MY_RULE.params = RULE.params\\n}\\nMY_RULE.pages = RULE.pages\\nMY_RULE.pageList = JSON.parse(MY_RULE.pages || '[]')\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\n// 载入函数工具\\nvar { genMyRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE, {\\n    QING_TITLE: QING_TITLE,\\n    MY_RULE: MY_RULE,\\n    isIndex: isIndex\\n})\\n// 防止require多次运行\\nconst myColl_required = {}\\nrequire = function(param0, param1, param2, param3, param4) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param2 = param2 != null ? param2 : 0\\n    param3 = MY_TICKET\\n    param4 = eval\\n    return method_require.invoke(javaContext, param0, param1, param2, param3, param4)\\n}\\nrequireCache = function(param0, param1, param2, param3, param4, param5) {\\n    if (myColl_required[param0]) return\\n    myColl_required[param0] = true\\n    param3 = param3 != null ? param3 : 0\\n    param4 = MY_TICKET\\n    param5 = eval\\n    return method_requireCache.invoke(javaContext, param0, param1, param2, param3, param4, param5)\\n}\\nrc = requireCache\\n// 最新章节规则环境劫持\\nsetLastChapterRule = function(param0) {\\n    if (param0.startsWith(\\\"js:\\\")) {\\n        param0 = 'js:' + $.toString((QING_TITLE, MY_PARAMS) => {\\n            eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n            var { runPreRule } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n            runPreRule(oriRULE.preRule)\\n        }, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex }) + ';' + param0.slice(3)\\n    }\\n    method_setLastChapterRule.invoke(javaContext, param0)\\n}\\n// 动态新增函数劫持\\naddItemAfter = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemAfter.invoke(javaContext, param0, param1)\\n}\\naddItemBefore = function(param0, param1) {\\n    if (Array.isArray(param1)) param1 = param1.map(hijackEl)\\n    else param1 = hijackEl(param1)\\n    method_addItemBefore.invoke(javaContext, param0, param1)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"函数工具\",\"path\":\"funcTools\",\"rule\":\"let { QING_TITLE, MY_RULE, isIndex } = $.importParam\\nif (!MY_RULE) MY_RULE = {}\\n\\nfunction runCode(rule) {\\n    try {\\n        let [input, code] = rule.split('.js:')\\n        return code ? eval(code) : rule\\n    } catch (e) { return rule }\\n}\\n// 首页链接替换分类\\nfunction indexUrl(param) {\\n    MY_RULE = JSON.parse(base64Decode(MY_RULE))\\n    let pageNum = parseInt(param.split('###')[1]),\\n        url = MY_RULE.url,\\n        { fyAll, tabHeader } = $.require('hiker://page/ClassTab?rule=' + QING_TITLE, Object.assign({ QING_TITLE: QING_TITLE }, MY_RULE))\\n\\n    url = tabHeader.setUrl(fyAll ? url.replace(/fyAll/g, '$${fyAll}') : url.replace(/fy(class|area|year|sort)/g, '$${fy$1}'))\\n    url = url.replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/g, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n    url = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?(?:(\\\\.js:[\\\\s\\\\S]*?))?$/.exec(url)\\n    if (pageNum == 1 && url[2]) url[1] = url[2]\\n    if (url[3] && !url[1].includes('.js:')) url[1] += url[3]\\n    return runCode(url[1])\\n}\\n\\nfunction paramHandle(urlParam, ua, urlTmp) {\\n    let charset, paramTmp\\n    try { // 链接的编码、UA和Referer应该是首先继承首页链接\\n        [, , charset, paramTmp] = urlTmp.split(';')\\n        paramTmp = paramTmp.match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { paramTmp = [] }\\n    let UserAgent = paramTmp.find((v) => v.startsWith('User-Agent@')),\\n        Referer = paramTmp.find((v) => v.startsWith('Referer@'))\\n    urlParam[0] = urlParam[0] || 'GET'\\n    urlParam[1] = urlParam[1] || charset || 'UTF-8'\\n    try {\\n        urlParam[2] = urlParam[2].match(/^{(.*)}$/)[1].split('&&')\\n    } catch (e) { urlParam[2] = [] }\\n    // 添加全局UA和上级Referer\\n    if (!urlParam[2].some((v) => v.startsWith('User-Agent@'))) {\\n        if (UserAgent) urlParam[2].push(UserAgent)\\n        else if (ua == 'pc')\\n            urlParam[2].push('User-Agent@' + PC_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n        else if (ua == 'mobile')\\n            urlParam[2].push('User-Agent@' + MOBILE_UA.replace(/;/g, '；；').replace(/\\\\?/, '？？'))\\n    }\\n    if (Referer && !urlParam[2].some((v) => v.startsWith('Referer@')))\\n        urlParam[2].push(Referer)\\n    urlParam[2] = '{' + urlParam[2].join('&&') + '}'\\n    return urlParam.join(';')\\n}\\n// 预处理并初始化config\\nfunction runPreRule(rule) {\\n    if ((MY_PAGE == 1 || typeof MY_PAGE == 'undefined') &&\\n        (isIndex || !getMyVar('$preRule_' + MY_RULE.title))) {\\n        eval(rule)\\n        putMyVar('$preRule_' + MY_RULE.title, 'T')\\n    }\\n    let _cfg = getMyVar('initConfig', '{}')\\n    if (_cfg && _cfg.length > 0) {\\n        config = JSON.parse(_cfg)\\n    }\\n}\\n// 正文解析通用变量\\nfunction genMyRule() {\\n    let RULE = Object.assign({}, MY_RULE)\\n    delete RULE.last_chapter_rule\\n    delete RULE.preRule\\n    delete RULE.pageList\\n    delete RULE.pages\\n    return RULE\\n}\\n\\nfunction genExUrl(url) {\\n    url = url.split(';')\\n    return url.shift() + ';' + paramHandle(url, MY_RULE.ua, MY_RULE.url)\\n}\\n\\nhijackLazyRule = $.toString((QING_TITLE, MY_PARAMS) => {\\n    if (!MY_RULE) MY_RULE = {}\\n    eval(JSON.parse(fetch('hiker://page/hijackEnv?rule=' + QING_TITLE)).rule)\\n    var {\\n        paramHandle,\\n        genExUrl,\\n        hijackLazyRule,\\n        hijackEl\\n    } = $.require('hiker://page/funcTools?rule=' + QING_TITLE)\\n}, QING_TITLE, { url: MY_RULE.url, RULE: base64Encode(JSON.stringify(genMyRule())), isIndex: isIndex })\\n\\nfunction hijackEl(el) {\\n    if(!el || typeof el != 'object') return\\n    if (!el.extra) el.extra = {}\\n    el.col_type = el.col_type || MY_RULE.col_type\\n    let NOW_RULE = Object.assign(genMyRule(), { params: el.extra })\\n\\n    if (typeof el.url != 'string' ||\\n        ['x5_webview_single', 'input'].find((v) => el.col_type == v) ||\\n        ['海阔视界', 'javascript:'].find((v) => el.url.startsWith(v)) ||\\n        ['rule', 'pics', 'toast', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'x5Rule', 'webRule',\\n            'download', 'share', 'fileSelect', 'video'].find((v) => el.url.startsWith(v + '://'))) {\\n        return el\\n    } else if (el.url.startsWith('input://')) {\\n        let para = JSON.parse(el.url.slice(8))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'input://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.startsWith('confirm://')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (el.url.startsWith('select://')) {\\n        let para = JSON.parse(el.url.slice(9))\\n        if (para.js) para.js = hijackLazyRule + ';' + para.js\\n        el.url = 'select://' + JSON.stringify(para)\\n        return el\\n    } else if (el.url.includes('@rule=')) {\\n        let [_, url, rule] = el.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n        el.url = url\\n        NOW_RULE.detail_find_rule = rule\\n        NOW_RULE.detail_col_type = MY_RULE.col_type\\n    } else if (el.url.startsWith('hiker://page/')) {\\n        if (el.url.includes('rule=') || el.extra.rule)\\n            return el\\n        let [_, path, flag, params] = el.url.match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(#.*?)?(?:\\\\?(.*))?$/),\\n            subPage = MY_RULE.pageList.find((v) => v.path == path),\\n            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n        el.url = (subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (el.extra || {}).url) || 'hiker://empty' + flag + '?' + (params || '')\\n        NOW_RULE.detail_find_rule = subPage.rule\\n        NOW_RULE.detail_col_type = subPage.col_type\\n    } else if (el.url.includes('@lazyRule=')) {\\n        let reIndex = el.url.indexOf('.js:')\\n        if (reIndex >= 0) el.url = el.url.slice(0, reIndex) + '.js:' + hijackLazyRule + ';' + el.url.slice(reIndex + 4)\\n        return el\\n    } else if (isIndex) {\\n        if (!MY_RULE.detail_find_rule || /hiker:\\\\/\\\\/(?!empty.+$)/.test(el.url)) return el\\n    } else {\\n        return el\\n    }\\n    el.extra = Object.assign({}, el.extra, {\\n        url: genExUrl(el.url),\\n        RULE: base64Encode(JSON.stringify(NOW_RULE)),\\n        pageTitle: isIndex && el.title\\n    })\\n    el.url = 'hiker://page/frameLoad?rule=' + QING_TITLE\\n    return el\\n}\\n$.exports = {\\n    runCode: runCode,\\n    indexUrl: indexUrl,\\n    paramHandle: paramHandle,\\n    runPreRule: runPreRule,\\n    genMyRule: genMyRule,\\n    genExUrl: genExUrl,\\n    hijackLazyRule: hijackLazyRule,\\n    hijackEl: hijackEl\\n}\\n\"}]","proxy":"","icon":"https://img2.woyaogexing.com/2022/04/19/dc6b18070df64185a80f6dcb3cbfc207!400x400.jpeg"},{"last_chapter_rule":"","title":"月亮电影.dr","author":"狗浩啊","version":0,"type":"video","url":"hiker://empty##https://www.zqzdzj.com/vodshow/2/page/fypage.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nrequire(config.自动匹配);\nlet ui = ()=>{\n    true_url = 获取正确链接();\n    let cates = 打造动态分类([\n{一级分类:'body&&.show-zhankai',\n子分类:'body&&a',\n       分类链接:{\n        二次处理(u){\n        return u.replace(/type\\/(.*?)\\.html/, 'vodshow/$1-----------.html')}\n    }},\n{  一级分类:'body&&.swiper-wrapper',\n   子分类:'body&&a',\n},\n{\n一级分类:'body&&.title-a',\n   子分类:'body&&a:not(:matches(重置))',\n    }]);\n    设置(cates,true);\n    自动一级('首页',cates,html);\n}\n混合(ui,\"voddetail\",\"gbook\",\"/\");","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"https://www.zqzdzj.com/vodsearch/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.hidden&&Text',\n    img: '.lazy&&data-original',\n    url: '.lazy&&data-original',\n    desc: '.data&&Text;.data,1&&Text;.data,3&&Text;.data,4&&Text',\n    content: '.ecshow--span&&Text',\n    tabs: '.play_source_tab&&.swiper-slide',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.content_playlist,#id&&a',\n    tab_id: '',\n};\nvar lazy = $('').lazyRule(() => {\n        return 'video://'+input\n})\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"require('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"月亮电影.dr(魔断)","author":"狗浩啊","version":0,"type":"video","url":"hiker://empty##https://www.zqzdzj.com/vodshow/2/page/fypage.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nrequire(config.自动匹配);\nlet ui = ()=>{\n    true_url = 获取正确链接();\n    let cates = 打造动态分类([\n{一级分类:'body&&.show-zhankai',\n子分类:'body&&a',\n       分类链接:{\n        二次处理(u){\n        return u.replace(/type\\/(.*?)\\.html/, 'vodshow/$1-----------.html')}\n    }},\n{  一级分类:'body&&.swiper-wrapper',\n   子分类:'body&&a',\n},\n{\n一级分类:'body&&.title-a',\n   子分类:'body&&a:not(:matches(重置))',\n    }]);\n    设置(cates,true);\n    自动一级('首页',cates,html);\n}\n混合(ui,\"voddetail\",\"gbook\",\"/\");","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"https://www.zqzdzj.com/vodsearch/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.hidden&&Text',\n    img: '.lazy&&data-original',\n    url: '.lazy&&data-original',\n    desc: '.data&&Text;.data,1&&Text;.data,3&&Text;.data,4&&Text',\n    content: '.ecshow--span&&Text',\n    tabs: '.play_source_tab&&.swiper-slide',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.content_playlist,#id&&a',\n    tab_id: '',\n};\n//以下代码来自cy大佬二级简封.js提取\nvar lazy = $('').lazyRule(() => {\n        try {\n            eval(fetch(JSON.parse(fetch('hiker://files/cache/MyParseSet.json')).cj));\n            let ts = /ixigua|iqiyi|qq.com|mgtv|le.com|bili|sohu|youku|pptv|cctv|1905.com/;\n            if (!input.match(ts)) {\n                let From = JSON.parse(request(input).match(/var player_.*?=(.*?)</)[1]);\n                let 加密 = From.encrypt;\n                // let 来自 = From.from;\n                原链 = From.url;\n                //log(From)\n                if (加密 == '1') {\n                    原链 = unescape(原链);\n                } else if (加密 == '2') {\n                    原链 = unescape(base64Decode(原链));\n                }\n                if (/\\.mp4|\\.m3u8|\\.flv/.test(原链)) {\n                    return 原链\n                } else if (ts.test(原链)) {\n                    return aytmParse(原链); //爱优腾等地址\n                } else {\n                    return playParse.playerS(input); //盗版站地址\n                }\n            } else {\n                return aytmParse(input)\n            }\n        } catch (e) {\n        return 'video://'+input\n        }\n    })\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"require('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"23影视.dr(魔断)","author":"狗浩啊","version":0,"type":"video","url":"https://222.186.150.32/vodshow/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺&纪录片","class_url":"1&2&4&3&20","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".eclist&&.pack-ykpack;.pack-title&&Text;.eclazy&&data-original;span&&Text;a&&href","searchFind":"body&&.padd;.ecitem-name&&Text;a&&href;.ec-item&&Text;.ecitem-desc&&Text;.eclazy&&data-original","search_url":"https://222.186.150.32/vodsearch/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1&&Text',\n    img: 'img,3&&src',\n    url: 'img,3&&src',\n    desc: '.item-wrap&&Text',\n    content: '.desc_txt,0&&span,0&&Text',\n    tabs: 'body&&.channelname.swiper-slide',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.content_playlist,#id&&a',\n    tab_id: '',\n};\n以下来自cy大佬二级简封.js提取\nvar lazy = $('').lazyRule(() => {\n        try {\n            eval(fetch(JSON.parse(fetch('hiker://files/cache/MyParseSet.json')).cj));\n            let ts = /ixigua|iqiyi|qq.com|mgtv|le.com|bili|sohu|youku|pptv|cctv|1905.com/;\n            if (!input.match(ts)) {\n                let From = JSON.parse(request(input).match(/var player_.*?=(.*?)</)[1]);\n                let 加密 = From.encrypt;\n                // let 来自 = From.from;\n                原链 = From.url;\n                //log(From)\n                if (加密 == '1') {\n                    原链 = unescape(原链);\n                } else if (加密 == '2') {\n                    原链 = unescape(base64Decode(原链));\n                }\n                if (/\\.mp4|\\.m3u8|\\.flv/.test(原链)) {\n                    return 原链\n                } else if (ts.test(原链)) {\n                    return aytmParse(原链); //爱优腾等地址\n                } else {\n                    return playParse.playerS(input); //盗版站地址\n                }\n            } else {\n                return aytmParse(input)\n            }\n        } catch (e) {\n             return 'video://'+input\n        }\n    })\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"require('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"23影视","author":"狗浩啊","version":0,"type":"video","url":"https://222.186.150.32/vodshow/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺&纪录片","class_url":"1&2&4&3&20","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".eclist&&.pack-ykpack;.pack-title&&Text;.eclazy&&data-original;span&&Text;a&&href","searchFind":"body&&.padd;.ecitem-name&&Text;a&&href;.ec-item&&Text;.ecitem-desc&&Text;.eclazy&&data-original","search_url":"https://222.186.150.32/vodsearch/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1&&Text',\n    img: 'img,3&&src',\n    url: 'img,3&&src',\n    desc: '.item-wrap&&Text',\n    content: '.desc_txt,0&&span,0&&Text',\n    tabs: 'body&&.channelname.swiper-slide',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.content_playlist,#id&&a',\n    tab_id: '',\n};\n\nvar lazy = $('').lazyRule(() => {\n        return 'video://'+input\n})\n二级(parse, lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"require('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"乐动视频","author":"狗浩啊","version":0,"type":"video","url":"https://www.ledongtv.com/lds/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"ldMovie&ldTv&ldVariety&ldCartoon","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.module-item;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"body&&.module-item;strong&&Text;a&&href;.module-item-note&&Text;.module-info-item-content&&Text;img&&data-original","search_url":"https://www.ledongtv.com/ldso/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1&&Text',\n    img: '.lazyload&&data-original',\n    url: '.lazyload&&data-original',\n    desc: '.module-info-item,2&&Text;.module-info-item,4&&Text;.module-info-item,5&&Text',\n    content: '',\n    tabs: 'body&&.tab-item',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.module-play-list-content,#id&&a',\n    tab_id: '',\n};\n\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"半次元追番","author":"狗浩啊","version":0,"type":"video","url":"https://www.bcyzf.com/vodshow/fyclass--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺","class_url":"1&2&4&3","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.stui-vodlist__box;h4&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":".stui-vodlist__media&&li;h3&&Text;a&&href;.pic-text&&Text;;.lazyload&&data-original","search_url":"https://www.bcyzf.com/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1&&Text',\n    img: 'img&&data-original',\n    url: 'img&&data-original',\n    desc: '.data,0&&Text;.data,1&&Text',\n    content: '',\n    tabs: 'body&&h3:not(:matches(剧情简介|QA问答|猜你喜欢|周榜单|月榜单))',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.stui-content__playlist,#id&&a',\n    tab_id: '',\n};\n\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);\n","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"看一看影视","author":"狗浩啊","version":0,"type":"video","url":"https://www.kyikan.cc/index.php?m=vod-list-id-fyclass-pg-fypage-order--by--class--year--letter--area--lang-.html","col_type":"movie_3","class_name":"全部电影&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&纪录片&微电影&惊悚片&悬疑片&国产剧&港台剧&日韩剧&欧美剧&泰剧&海外剧&TV动漫&动漫电影&动漫剧场&国语动漫&TV综艺&音乐MV&4K电影","class_url":"1&5&6&7&8&9&10&11&16&18&20&21&12&13&14&15&19&32&23&24&25&36&26&31&40","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.p1;.name&&Text;img&&data-original;i&&Text;a&&href","searchFind":"body&&.p1;.name&&Text;a&&href;i&&Text;.actor&&Text;img&&data-original","search_url":"https://www.kyikan.cc/index.php?m=vod-search-pg-fypage-wd-**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'a,85&&Text',\n    img: '.lazy&&data-original',\n    url: '.lazy&&data-original',\n    desc: 'dt,2&&Text;dt,3&&Text;dd,0&&Text;dd,1&&Text',\n    content: '.js&&Text',\n    tabs: 'body&&.playfrom',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.videourl,#id&&a',\n    tab_id: '',\n};\n\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);\n","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"可视影院","author":"狗浩啊","version":0,"type":"video","url":"https://www.ketv.cc/show/fyclass--------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫&记录&娱乐&动画","class_url":"1&2&3&4&22&42&48","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".vodlist&&li;a&&title;.vodlist_thumb&&data-original;.pic_text&&Text;a&&href","searchFind":"body&&.searchlist_item;h4&&Text;a&&href;.vodlist_sub,0&&Text;.vodlist_sub,2&&Text;a&&data-original","search_url":"https://www.ketv.cc/search/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h2&&Text',\n    img: '.lazyload&&data-original',\n    url: '.lazyload&&data-original',\n    desc: '.data&&Text;.data,1&&Text;.data,2&&Text;.data,3&&Text',\n    content: '.content_desc,0&&span,0&&Text',\n    tabs: 'body&&.list_scroll&&a',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.content_playlist.list_scroll,#id&&li',\n    tab_id: '',\n};\n\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"苦瓜影视","author":"狗浩啊","version":0,"type":"video","url":"https://www.kgysw.com/vodshow/fyAll--------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&纪录片&b站资源","class_url":"1&2&3&4&20&21","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".hl-vod-list&&li;.hl-item-title&&Text;.hl-lazy&&data-original;.remarks&&Text;a&&href","searchFind":"body&&.hl-item-div;.hl-item-title&&Text;a&&href;.hl-text-conch&&Text;;.hl-item-thumb&&data-original","search_url":"https://www.kgysw.com/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.hl-dc-title&&Text',\n    img: '.hl-lazy&&data-original',\n    url: '.hl-lazy&&src',\n    desc: '.hl-col-xs-12,2&&Text;.hl-col-xs-12,3&&Text;.hl-col-xs-12,4&&Text;.hl-col-xs-12,5&&Text;.hl-col-xs-12,6&&Text',\n    content: '.hl-content-text&&Text',\n    tabs: 'body&&.hl-tabs-btn',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.hl-plays-list,#id&&li',\n    tab_id: '',\n};\n\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);\n","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"F7好看剧","author":"狗浩啊","version":0,"type":"video","url":"https://www.f7hkj.cc/vodshow/fyclass--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.module-item;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"body&&.module-item;.module-card-item-title&&Text;a&&href;.module-item-note&&Text;.module-info-item-content&&Text;img&&data-original","search_url":"https://www.f7hkj.cc/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1&&Text',\n    img: '.lazyload&&data-original',\n    url: '.lazyload&&data-original',\n    desc: '.module-info-item,1&&Text;.module-info-item,2&&Text;.module-info-item,3&&Text',\n    content: '.module-player-list&&Text',\n    tabs: 'body&&.module-tab-item',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.module-play-list-content,#id&&a',\n    tab_id: '',\n};\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"在线电影吧","author":"狗浩啊","version":0,"type":"video","url":"https://www.zaixiandianying8.com/vodshow/fyclass--------fypage---.html","col_type":"movie_3","class_name":"蓝光&电影&电视剧&综艺&动漫&动作片&喜剧片&爱情片&魔幻片","class_url":"37&1&2&3&4&6&7&8&22","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.myui-vodlist__box;.title&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":".myui-vodlist__media&&li;.title&&Text;a&&href;.pic-text&&Text;.detail&&Text;.lazyload&&data-original","search_url":"https://www.zaixiandianying8.com/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: '.title&&Text',\n    img: '.lazyload&&data-original',\n    url: '.lazyload&&data-original',\n    desc: '.data&&Text',\n    content: '.sketch.content&&Text',\n    tabs: '.nav-tabs&&li',\n    //tab_text:'h2&&Text',\n    lists: 'body&&.myui-content__list,#id&&li',\n    tab_id: '',\n};\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"firstHeader":"class","last_chapter_rule":"","title":"90影院","author":"狗浩啊","version":0,"type":"video","url":"https://www.90r.cc/vodshow/fyclass--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"dianying&jiju&zongyi&dongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.mo-paxs-5px.mo-cols-lg2;.mo-situ-name&&Text;.mo-situ-pics&&data-original;.mo-situ-rema&&Text;a&&href","searchFind":"body&&.mo-deta-info.mo-cols-rows;.mo-wrap-arow&&Text;a&&href;.mo-situ-rema&&Text;.mo-comd-block.mo-text-muted&&Text;.mo-situ-pics&&data-original","search_url":"https://www.90r.cc/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse = {\n    title: 'h1&&Text',\n    img: '.mo-situ-pics&&data-original',\n    url: '.mo-situ-pics&&data-original',\n    desc: '.mo-comd-block.mo-text-muted&&Text',\n    content: '',\n    tabs: 'body&&.mo-movs-btns ',\n    //tab_text:'h2&&Text',\n    lists: '.mo-pamd-5px,#id&&li',\n    tab_id: '',\n};\nvar 动态最新章节 = true;\nvar 倒序 = false;\n二级(parse);\n","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"酷爱影视Q","author":"狗浩啊","version":0,"type":"video","url":"https://100fzw.cn/vodshow/1--------fypage---.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.scroll-content'\nconst 拼接分类 = ''\nconst 小类定位 = 'body&&a'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getVar(MY_RULE.url, MY_URL)\nconst page = MY_PAGE\nif (getVar(MY_RULE.url)) {\n    true_url = true_url.replace('---.html', page + '---.html').replace(/(---\\d+.html)/, page + '$1')\n}\nvar html = request(true_url)\neval(JSON.parse(request('hiker://page/yzm?rule=模板·Q')).rule)\neval(JSON.parse(request('hiker://page/dtfl?rule=模板·Q')).rule)\n\nvar list = pdfa(html, 'body&&.module-item')\nfor (var j in list) {\n    var img = pd(list[j], '.lazyloaded&&data-src') + '@Referer='\n    d.push({\n        title: pdfh(list[j], 'a&&title'),\n        desc: pdfh(list[j], '.video-class&&Text'),\n        img: img,\n        url: pd(list[j], 'a&&href') + \"#immersiveTheme#\",\n        extra: {\n            img: img\n        }\n    })\n}\nsetResult(d)","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://100fzw.cn/vodsearch/**----------fypage---.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"firstHeader":"class","last_chapter_rule":"","title":"蚂蚁影视.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.4kvcd.com/fyclass/index_fypage_______.html","col_type":"movie_3","class_name":"电视剧&电影&动漫&综艺&经典片","class_url":"tv&mov&cartoon&fun&jingdianpian","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.自动匹配);\n自动一级();\n","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/index.php?s=vod-search-wd-**-p-fypage.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=蚂蚁影视"},{"last_chapter_rule":"","title":"海螺视频Q","author":"狗浩啊","version":0,"type":"video","url":"https://qianmoys.com/index.php/vod/show/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&连续剧&动漫","class_url":"1&2&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.module-item;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://qianmoys.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"追剧吧PRO●Q","author":"狗浩啊","version":0,"type":"video","url":"https://zjuba.com/index.php/vod/show/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.module-item;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://zjuba.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"落攻阁影视Q","author":"狗浩啊","version":0,"type":"video","url":"https://www.mfxs0.cn/index.php/vod/show/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.module-item;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://www.mfxs0.cn/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"喵影汇Q","author":"狗浩啊","version":0,"type":"video","url":"https://www.miaoyinghui.com/vodshow/fyclass--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://www.miaoyinghui.com/vodsearch/**----------fypage---.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"趣享影视Q","author":"狗浩啊","version":1,"type":"video","url":"https://www.quxw.net/vod/show/id/fyclass/page/fypage/","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"20&21&22&23","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".module-items&&a;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://www.quxw.net/vod/search/page/fypage/wd/**/","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"firstHeader":"class","last_chapter_rule":"","title":"辉夜影视.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"http://a.huiye.icu/vodshow/fyclass--------fypage---.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 12；； M2004J7AC Build/SP1A.210812.016；； wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/99.0.4844.88 Mobile Safari/537.36&&Cookie@__51uvsct__Jlj8skJ64yOrg2aA=1；； __51vcke__Jlj8skJ64yOrg2aA=91441845-051c-5d9b-90b8-31409c0649d3；； __51vuft__Jlj8skJ64yOrg2aA=1663831669625；； mx_style=white；； showBtn=true；； PHPSESSID=5k6222n63gmr12m91mfnqpvvgm；； __vtins__Jlj8skJ64yOrg2aA=%7B%22sid%22%3A%20%22861cb58f-41ca-5fd7-9562-3011c97c6428%22%2C%20%22vd%22%3A%2035%2C%20%22stt%22%3A%201316547%2C%20%22dr%22%3A%2067454%2C%20%22expires%22%3A%201663834786146%2C%20%22ct%22%3A%201663832986146%7D}","col_type":"movie_3_marquee","class_name":"电影&电视剧&综艺&动漫","class_url":"20&34&41&46","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"body&&.module-item;.module-poster-item-title&&Text;img&&data-original;.module-item-note&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=辉夜影视"},{"firstHeader":"class","last_chapter_rule":"","title":"小脸通红电影.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"http://www.3p3g.com/show/fyclass/page/fypage/.html","col_type":"movie_3_marquee","class_name":"电影&电视剧&综艺&动漫","class_url":"movie&tv&zongyi&dongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".hl-vod-list&&li;.hl-item-title&&Text;a&&data-original;.remarks&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/search/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=小脸通红电影"},{"firstHeader":"class","last_chapter_rule":"","title":"去看吧动漫.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.k6dm.com/index.php/vod/type/id/fyAll/page/fypage.html","col_type":"movie_3_marquee","class_name":"高清原碟&日漫&劇場&女频&美漫","class_url":"33&21&24&50&22","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".fed-list-info&&li;.fed-list-title&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/index.php/vod/search/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=去看吧动漫"},{"firstHeader":"class","last_chapter_rule":"","title":"NT动漫.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"http://www.ntyou.cc/type/fyAll-fypage.html","col_type":"movie_3_marquee","class_name":"日本&国产&欧美","class_url":"riben&zhongguo&omei","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".blockcontent1&&div;.cell_imform_name&&Text;img&&src;.newname&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/search/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=NT动漫"},{"firstHeader":"class","last_chapter_rule":"","title":"AnFuns.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.anfuns.cc/type/fyAll-fypage.html","col_type":"movie_3_marquee","class_name":"新旧番剧&蓝光无修&动漫剧场&欧美动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".hl-vod-list&&li;.hl-item-title&&Text;a&&data-original;.remarks&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/search/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=AnFuns"},{"firstHeader":"class","last_chapter_rule":"","title":"桜舞动漫❀.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.maigo.cc/vodshow/fyAll--------fypage---/","col_type":"movie_3_marquee","class_name":"日漫&国漫","class_url":"46&47","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".vodlist_wi&&li;center&&Text;a&&data-original;.pic_text&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/vodsearch/**----------fypage---/","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=桜舞动漫❀"},{"firstHeader":"class","last_chapter_rule":"","title":"动漫蛋.DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.dm0.cc/type/fyAll-fypage.html","col_type":"movie_3_marquee","class_name":"日本&国产&动漫电影&欧美","class_url":"ribendongman&guochandongman&dongmandianying&omeidongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".stui-vodlist&&li;.text-overflow&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/search/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n自动二级(lazy);\n//自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=动漫蛋"},{"last_chapter_rule":"","title":"我爱电影网Q","author":"","version":0,"type":"video","url":"http://www.5imv.cc/vodtype/fyAll-fypage/","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&b站","class_url":"movie&tv&variety&comic&bili","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".stui-vodlist&&div;.text-overflow&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"http://www.5imv.cc/vodsearch/page/fypage/wd/**/","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"樱花影视Q","author":"","version":0,"type":"video","url":"https://buosn.com/vodshow/fyclass--------fypage---/","col_type":"movie_3","class_name":"动作&喜剧&爱情&科幻&恐怖&国产动漫","class_url":"6&7&8&9&10&30","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://buosn.com/vodsearch/**----------fypage---/","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"firstHeader":"class","last_chapter_rule":"","title":"核桃DR","author":"道长&狗浩啊","version":1,"type":"video","url":"http://kkkk.plus/vodshow/fyAll--------fypage---.html","col_type":"movie_3_marquee","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".module-page&&a;.module-poster-item-title&&Text;.lazyload&&data-original;.module-item-note&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/so/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=核桃"},{"firstHeader":"class","last_chapter_rule":"","title":"第一导航DR","author":"道长&狗浩啊","version":1,"type":"video","url":"hiker://empty##https://www.kanjux.com/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\n一级书签('/neirong/','true');\n//一级书签('/neirong/',true);","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/search.php?page=fypage&searchword=**&searchtype=","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=第一导航"},{"firstHeader":"class","last_chapter_rule":"","title":"传递影视DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.chuandi.cc/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&电视&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".vodlist&&li;.vodlist_title&&Text;a&&data-original;.pic_text&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=传递影视"},{"firstHeader":"class","last_chapter_rule":"","title":"番茄影视DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.tjomet.com/vodshow/fyAll--------fypage---.html","col_type":"movie_3_marquee","class_name":"电影&电视","class_url":"1&2","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".hl-list-wrap&&li;.hl-item-title&&Text;a&&data-original;.hl-text-conch&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=番茄影视"},{"firstHeader":"class","last_chapter_rule":"","title":"小喵咪视频DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.320m.com/index.php/vod/show/id/fyAll/page/fypage.html","col_type":"movie_3_marquee","class_name":"电影&电视剧&动漫&综艺","class_url":"1&2&3&35","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".module-items&&a;.module-poster-item-title&&Text;img&&data-original;.module-item-douban&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##https://www.320m.com/index.php/vod/search/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=小喵咪视频"},{"last_chapter_rule":"","title":"双十影院","author":"","version":0,"type":"video","url":"https://www.1010dy1.com/type/fyclass-fypage/","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://www.1010dy1.com/search/page/fypage/wd/**/","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"firstHeader":"class","last_chapter_rule":"","title":"米来影院DR","author":"道长&狗浩啊","version":1,"type":"video","url":"hiker://empty##https://www.qdytv.com/","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.模板);\n依赖检测();\n一级书签('/detail/','true');\n//一级书签('/detail/',true);","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/search**/page/fypage.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=米来影院"},{"firstHeader":"class","last_chapter_rule":"","title":"lol影院DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.l0l.tv/index.php/vod/show/id/fyAll/page/fypage.html","col_type":"movie_3_marquee","class_name":"电影&电视剧&动漫&综艺&b站","class_url":"1&2&3&4&5","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".list-a&&li;.title&&Text;.lazy&&data-original;.list-tag&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/index.php/vod/search/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n香免();\n自动二级(lazy);\n//自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=lol影院"},{"firstHeader":"class","last_chapter_rule":"","title":"KOK影院DR","author":"道长&狗浩啊","version":1,"type":"video","url":"https://www.kokyy.com/koks/fyAll/page/fypage.html","col_type":"movie_3_marquee","class_name":"电影&电视剧&动漫&综艺&纪录片","class_url":"kokdy&kokds&kokdm&kokzy&kokjl","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":".hl-list-wrap&&li;.hl-item-title&&Text;a&&data-original;.hl-text-conch&&Text;a&&href","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##/kokso/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='Mozilla/5.0 (Linux; Android 11; Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=KOK影院"},{"last_chapter_rule":"","title":"Gimy小鴨影音","author":"","version":0,"type":"video","url":"https://gimy.cc/filter/fyAll---/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"movie&drama&variety&anime","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".stui-vodlist&&li;.title&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://gimy.cc/search/page/fypage/wd/**.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"导航盘","author":"","version":0,"type":"video","url":"http://www.daohangpan.com/play/fyclass--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".stui-pannel_bd&&div;.text-overflow&&Text;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"http://www.daohangpan.com/qvod/**----------fypage---.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"思乐影视","author":"","version":1,"type":"video","url":"http://www.4ltv.com/show/fyAll------fypage.html","col_type":"movie_3","class_name":"电视剧&电影&动漫&综艺","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".module-items&&div;.video-name&&Text;.lazyloaded&&data-src;.module-item-text&&Text;a&&href","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"http://www.4ltv.com/search/**----------fypage---.html","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar lazy = $('').lazyRule(() => {\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\n    var url = html.url\n    if (html.encrypt == '1') {\n        url = unescape(url);\n    } else if (html.encrypt == '2') {\n        url = unescape(base64Decode(url));\n    }\n    if (/m3u8|mp4/.test(url)) {\n        return url\n    } else {\n        requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n        return x5rule(input, input);\n    }\n})\n\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"美女图片","author":"京梦","version":2,"type":"video","url":"hiker://empty","col_type":"movie_3","class_name":"向上滑动即可播放","class_url":"资源加载可能比较慢","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://xjj.6qmn.com/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","title":"SongTaste🎶","author":"缘分","version":2,"type":"video","url":"http://www.songtaste.co/fyclassfypage","col_type":"text_1","class_name":"歌单&推荐好歌&混淆合集&华语合集&日韩合集&欧美合集&DJ电子&翻唱合集&纯音FM&怀旧摇滚&Rap嘻哈&伴奏插曲&影漫游戏&小语种集&","class_url":"song/gid-&dance/index?type=index＆＆p=&song/id-1-&song/id-2-&song/id-3-&song/id-4-&song/id-6-&song/id-7-&song/id-12-&song/id-14-&song/id-17-&song/id-18-&song/id-19-&song/id-22-&","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    var url = pdfh(request(input), 'source&&src')\n    var lrc = request(input).match(/lrc = `([\\s\\S]*?)`/)[1]\n    try {\n        return JSON.stringify({\n            urls: [url + '#isMusic=true#'],\n            lyric: lrc,\n        })\n    } catch (e) {\n        return url + '#isMusic=true#'\n    }\n})\nif (/gid-1/.test(MY_URL)) {\n    d.push({\n        title: '原生播放',       \n        url: 'hiker://page/zy?url=http://www.songtaste.co/song/gid-fypage',\n        col_type: 'flex_button'\n    });\n}\n\ntry {\n    var list = parseDomForArray(getResCode(), '.mlistbook||.toplist&&li');\n\n    for (var j in list) {\n        d.push({\n            title: MY_URL.indexOf('song/gid-')>-1?parseDomForHtml(list[j] , '.tr&&Text').replace(/好歌.*/,'').replace(/ .*? /,' ').replace(/ (.*?) (\\d+首)/,' $2 $1'):parseDomForHtml(list[j] , '.td3||.fl&&a&&title'),\n            desc: '‘‘' + parseDomForHtml(list[j], 'h3||.td6&&Text'),\n            pic_url: parseDom(list[j], 'img&&src'),  \n            url: MY_URL.indexOf('song/gid-') > -1 ? parseDom(list[j], '.td3||.fl&&a&&href').replace(/(.*)-1/,'$1-fypage')+ \"#noLoading##gameTheme##noRefresh##background#\" : parseDom(list[j], '.td3||.fl&&a&&href') + lazy,\n            col_type: MY_URL.indexOf('song/gid-')>-1?'card_pic_3':'avatar',\n  extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            },\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    var url = pdfh(request(input), 'source&&src')\n    var lrc = request(input).match(/lrc = `([\\s\\S]*?)`/)[1]\n    try {\n        return JSON.stringify({\n            urls: [url + '#isMusic=true#'],\n            lyric: lrc,\n        })\n    } catch (e) {\n        return url + '#isMusic=true#'\n    }\n})\ntry {\n    var list = parseDomForArray(getResCode(), '.mlist&&li');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], '.td3||.fl&&a&&title'),\n            desc: parseDomForHtml(list[j], 'h3&&Text'),\n            pic_url: parseDom(list[j], 'img&&src'),  \n            url: MY_URL.indexOf('song/gid-') > -1 ? parseDom(list[j], '.td3||.fl&&a&&href') : parseDom(list[j], '.td3||.fl&&a&&href') + lazy,\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.songtaste.co/dance/search?key=**&page=fypage","group":"视频","detail_col_type":"avatar","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    var url = pdfh(request(input), 'source&&src'); \n        return url + '#isMusic=true#'   \n})\n/*\nif(MY_PAGE==1){\n        d.push({          \n            pic_url: parseDom(getResCode(), '.left&&img&&src'),  \n            title: parseDomForHtml(getResCode(), '.upd&&Text').replace(/次数/g,''),\n            desc: parseDomForHtml(getResCode(), '.left&&h4&&Text').replace('收藏该歌单','')+'\\n'+parseDomForHtml(getResCode(), '.conts&&Text'), \n           url: parseDom(getResCode(), '.left&&img&&src'),\n           col_type: 'pic_1',extra: {gradient: true}\n        });\n}*/\nlet 传输列表 = []\nvar list = parseDomForArray(getResCode(), '.mlist&&li');\n\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (var j in list) {\n    let title = pdfh(list[j], '.td3||.fl&&a&&title');\n    let first = pdfh(list[0], '.td3||.fl&&a&&title');\n    let desc = pdfh(list[j], 'h3&&Text');\n    let url = pd(list[j], '.td3||.fl&&a&&href') + lazy;\n    let img = parseDom(getResCode(), '.left&&img&&src').replace('picdata','attachment');\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'avatar'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"zy\",\"path\":\"zy\",\"rule\":\"js:\\nvar res = {};\\nvar d = [];\\ntry {\\n    var list = parseDomForArray(getResCode(), '.mlistbook||.toplist&&li');\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j] , '.tr&&Text').replace(/好歌.*/,'').replace(/ .*? /,' ').replace(/ (.*?) (\\\\d+首)/,' $2 $1'),\\n            desc: '‘‘' + parseDomForHtml(list[j], 'h3||.td6&&Text'),\\n            pic_url: parseDom(list[j], 'img&&src'),  \\n            url: parseDom(list[j], '.td3||.fl&&a&&href').replace(/(.*)-1/,'$1-fypage')+\\\"#gameTheme#\\\"+$('').rule(()=>{\\nrequire('hiker://page/er')\\n}),\\n            col_type: 'card_pic_3',\\n        });\\n    }\\n} catch (e) {}\\nres.data = d;\\nsetHomeResult(res);\"},{\"col_type\":\"avatar\",\"name\":\"二级\",\"path\":\"er\",\"rule\":\"js:\\nvar res = {};\\nvar d = [];\\nvar html = getResCode()\\nvar lazy = $(\\\"\\\").lazyRule(() => {\\n    var url = pdfh(request(input), 'source&&src'); \\n        return url + '#isMusic=true#'   \\n})\\ntry {\\nif(MY_PAGE==1){\\n        d.push({          \\n            pic_url: parseDom(html, '.left&&img&&src'),  \\n            title: parseDomForHtml(html, '.upd&&Text').replace(/次数/g,''),\\n            desc: parseDomForHtml(html, '.left&&h4&&Text').replace('收藏该歌单','')+'\\\\n'+parseDomForHtml(getResCode(), '.conts&&Text'), \\n           url: parseDom(html, '.left&&img&&src'),\\n           col_type: 'pic_1',extra: {gradient: true}\\n        });\\n}} catch (e) {}\\n\\nvar list = parseDomForArray(html, '.mlist&&li');\\nfor (var j in list) {\\n    var title = pdfh(list[j], '.td3||.fl&&a&&title');\\n    var desc = pdfh(list[j], 'h3&&Text');\\n    var url = pd(list[j], '.td3||.fl&&a&&href') + lazy;\\n    var img = parseDom(html, '.left&&img&&src').replace('picdata','attachment');\\n    d.push({\\n        title: title,\\n        desc: desc,\\n        img: img,\\n        url: url,\\ncol_type: 'icon_2'\\n    })\\n}\\nres.data = d;\\nsetHomeResult(res);\"}]","proxy":"","icon":"http://www.songtaste.co/favicon.ico"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar conts = pdfa(html, 'body&&.stui-content__playlist')[0];\nvar list = pdfa(conts, 'body&&a');\nvar i = list.length\nif (i>1){\nvar title = pdfh(list[i,i-1], 'a&&Text');\nsetResult(\"更新至: \" + title)}","title":"酷客影院🤡","author":"缘分","version":0,"type":"video","url":"http://www.2kuke.com/list/fyclass_fypage.html?order=fysort","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺&","class_url":"1&2&3&4&","area_name":"","area_url":"","sort_name":"按时间&按人气&","year_name":"","sort_url":"time&hit&","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), '.stui-vodlist&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            desc: pdfh(list[j], '.pic-text&&Text'),\n            pic_url: pd(list[j], '.lazyload&&data-original') + '@Referer=',\n            url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), '.stui-vodlist__media&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            desc: pdfh(list[j], '.pic-text&&Text'),\n            pic_url: pd(list[j], '.lazyload&&data-original') + '@Referer=',\n            url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.2kuke.com/search.php?searchword=**;post","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar arts = pdfa(html, '.nav-tabs&&li');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(pdfh(arts[i], 'Text'))\n}\n\nvar conts = pdfa(html, 'body&&.stui-content__playlist');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(pdfa(conts[i], 'body&&a'))\n}\ntry {\nd.push({\n    title: pdfh(html, '.stui-content__detail&&p,1&&Text').substring(0, 18) +\n        '\\n' +\n        '\\n' +\n             pdfh(html,\n'').substring(0, 18),\n    desc: pdfh(html, '.stui-content__detail&&p,3&&Text'),\n    img: pd(html, \n'.lazyload&&data-original') +'@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',extra: {gradient: true}\n});\n} catch (e) {\nd.push({\n    img: pd(html, \n'.lazyload&&data-original') +'@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',extra: {gradient: true}\n});\n}\n eval(JSON.parse(fetch('hiker://page/lazy', {})).rule);\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text')\n                .replace(/第(\\d+)集/, '$1')\n                .replace('第', '')\n                .replace('期', ''),\n            url: pd(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((MY_HOME)=> {\\n    var url = pdfh(request(input),'iframe&&src')\\ntry {\\ntry {\\n    var url = pdfh(request(url,{}),'body&&script,1&&Html').match(/else[\\\\s\\\\S]*?src=\\\"(.*?)\\\"/)[1]\\nif (/m3u8|mp4/.test(url)) {\\n        return url\\n}} catch (e) {\\nvar url = pdfh(request(url),'iframe&&src')\\nvar url = request(url,{headers: {\\n                'Referer': MY_URL\\n            }}).match(/Source\\\\(\\\"(.*?)\\\"/)[1]\\n        return url\\n}} catch (e) {\\nvar url = pdfh(request(input),'iframe&&src')\\nvar url = request(url,{headers: {\\n                'Referer': MY_URL\\n            }}).match(/Source\\\\(\\\"(.*?)\\\"/)[1]\\n        return url\\nlog(url)\\n}\\n}, MY_HOME)\"}]","proxy":"","icon":"http://www.2kuke.com/static/favicon.ico"},{"last_chapter_rule":"","title":"云音乐(词)","author":"缘分","version":7,"type":"video","url":"http://121.4.78.106:4001/mv/all?offset=fypage@-1@*3@0#noRefresh#","col_type":"card_pic_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\npage = getUrl().split(\"=\")[1].split(\"#\")[0]\nlog(page)\nif (page == 00) {\n    let tabs = {\n        \"MV\": \"https://lanmeiguojiang.com/tubiao/q/169.png\",\n        \"歌单\": \"https://lanmeiguojiang.com/tubiao/q/167.png\",\n        \"排行榜\": \"https://lanmeiguojiang.com/tubiao/q/168.png\"\n    }\n    let yy = Object.entries(tabs)[0][0];\n\n    Object.entries(tabs).forEach(item => {\n        putMyVar('选中颜色', '#3CE68E');\n        xy = '<b><font color=' + getMyVar('选中颜色') + '>' + item[0] + '</font></b>';\n        d.push({\n            title: item[0] == getMyVar('mode', 'MV') && page == 00 ? xy : item[0],\n            img: item[1],\n            url: $().lazyRule((ta) => {\n                putMyVar(\"mode\", ta)\n                refreshPage()\n                return \"hiker://empty\"\n            }, item[0]),\n            col_type: \"icon_small_3\"\n        })\n    })\n}\nlet mode = getMyVar(\"mode\", \"MV\")\nif (mode == \"MV\") {\n    var html = getResCode();\n    var list = JSON.parse(html).data;\nlog(list)\n    for (var j in list) {\n        d.push({\n            title: list[j].name,\n            pic_url: list[j].cover + '@Referer=',\n            url: 'http://121.4.78.106:4001/mv/url?id=' + list[j].id + $('').lazyRule(() => {\n                var url = JSON.parse(request(input)).data.url\n                return url;\n            }),\n            col_type: 'movie_2',\n        });\n    }\n} else if (mode == \"歌单\") {\n    var html = request('http://121.4.78.106:4001/personalized');\n    var list = JSON.parse(html).result;\n    for (var j in list) {\n        let title = list[j].name;\n        d.push({\n            title: title,\n            pic_url: list[j].picUrl,\n            url: 'http://121.4.78.106:4001/playlist/detail?id=' + list[j].id + '#gameTheme#' + $('').rule(() => {\n                eval(JSON.parse(fetch('hiker://page/gd')).rule);\n            }),\n\n        });\n    }\n} else if (mode == \"排行榜\") {\n    var html = request('http://121.4.78.106:4001/toplist');\n    var list = JSON.parse(html).list;\n    for (var j in list) {\n        let title = list[j].name;\n       var url = 'http://121.4.78.106:4001/playlist/detail?id=' + list[j].id;\n        d.push({\n            title: title,\n            pic_url: list[j].coverImgUrl,\n            url: 'http://121.4.78.106:4001/playlist/detail?id=' + list[j].id + $('').rule(()=> {\n                eval(JSON.parse(fetch('hiker://page/phxq')).rule);\n            },url),\n\n        });\n    }\n}\ntry {\nlet myVersion = MY_RULE.version;\nlet newVersion = JSON.parse(fetchPC(\"http://hiker.nokia.press/hikerule/rulelist.json?id=5702\", {\n    timeout: 1000\n})).version;\nif (newVersion > myVersion&&mode == \"MV\"&&page == 00) {\n    confirm({\n        title: '更新提示',\n        content: '检测到你的规则版本小于服务器版本，是否立即更新？',\n        confirm: () => {\n            return \"rule://5rW36ZiU6KeG55WM6aaW6aG16aKR6YGT6KeE5YiZ44CQ5LqR6Z+z5LmQKOivjSnjgJHvv6Vob21lX3J1bGVfdXJs77+laHR0cDovL2hpa2VyLm5va2lhLnByZXNzL2hpa2VydWxlL3J1bGVsaXN0Lmpzb24/aWQ9NTcwMg==\"\n        }, cancel:()=>{}\n    })\n}\n} catch (e) {}\nsetResult(d)","searchFind":"js:\nvar d = [];\nvar html = getResCode();\nvar list = JSON.parse(html).result.songs;\nfor (var j in list) {\nvar play = 'http://music.163.com/api/song/detail/?id=' + list[j].id + '&ids=%5B' + list[j].id + '%5D';\n    var pic = request(play).match(/blurPicUrl\":\"(http.*?jpg)/)[1]\n    d.push({\n        title: list[j].name,\n        desc: list[j].ar[0].name,\n        img: pic,\n        url: 'http://121.4.78.106:4001/song/url?id='+list[j].id+$('').lazyRule(() => {\nvar url = JSON.parse(request(input)).data[0].url\ninput = input.replace('song/url','lyric')\nvar lrc = JSON.parse(request(input)).lrc.lyric\n\nreturn JSON.stringify({\n                    urls: [url],\n                    lyric: lrc\n                })\n}),\n    });\nsetResult(d)","search_url":"http://121.4.78.106:4001/search?keywords=**","group":"视频","detail_col_type":"card_pic_3","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"text_icon\",\"name\":\"歌单二级\",\"path\":\"gd\",\"rule\":\"js:\\nvar d = [];\\nvar html = getResCode();\\nvar pic = JSON.parse(html).playlist.coverImgUrl;\\nd.push({      \\n        img: pic,\\n        url: pic,\\ncol_type: 'pic_1_full'\\n})\\nvar list = JSON.parse(html).playlist.tracks;\\nfor (var j in list) {\\n    d.push({\\n        title: list[j].name,\\n        desc: list[j].ar[0].name,\\n        img: list[j].al.picUrl,\\n        url: 'http://121.4.78.106:4001/song/url?id='+list[j].id+$('').lazyRule(() => {\\nvar url = JSON.parse(request(input)).data[0].url\\ninput = input.replace('song/url','lyric')\\nvar lrc = JSON.parse(request(input)).lrc.lyric\\n\\nreturn JSON.stringify({\\n                    urls: [url+'#isMusic=true#'],\\n                    lyric: lrc\\n                })\\n}),\\ncol_type: 'icon_2'\\n    });\\n}\\nsetResult(d)\"},{\"col_type\":\"text_icon\",\"name\":\"排行二级\",\"path\":\"phxq\",\"rule\":\"js:\\nvar d = [];\\nvar html = getResCode();\\nvar list = JSON.parse(html).playlist.tracks;\\nfor (var j in list) {\\n    d.push({\\n        title: list[j].name,\\n        desc: list[j].ar[0].name,\\n        img: list[j].al.picUrl+ '@Referer=',\\n        url: 'http://121.4.78.106:4001/song/url?id='+list[j].id+$('').lazyRule(() => {\\nlog(input)\\nvar url = JSON.parse(request(input)).data[0].url\\ninput = input.replace('song/url','lyric')\\nvar lrc = JSON.parse(request(input)).lrc.lyric\\n\\nreturn JSON.stringify({\\n                    urls: [url+'#isMusic=true#'],\\n                    lyric: lrc\\n                })\\n}),\\ncol_type: 'icon_2',\\n    });\\n}\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"更新\",\"path\":\"newVersion\",\"rule\":\"js:\\nif (page == 00) {\\nvar hitokoto = JSON.parse(fetch('https://v1.jinrishici.com/all.json', {}));\\nd.push({\\n    title: hitokoto.content,\\n    desc: '类别：' + hitokoto.category +\\n        '\\\\n作者：' + hitokoto.author + '《' + hitokoto.origin + '》',\\n    col_type: 'pic_1_card',\\n    url: \\\"http://m.yugaopian.cn/\\\",\\n    pic_url: 'http://api.btstu.cn/sjbz/api.php?lx=fengjing&format=images&_tt='+new Date().getTime()\\n});\\n}\\nfor (var b = 0; b < 5; b++) {\\nd.push({\\n    col_type: 'big_blank_block'\\n})\\n}\\nlet newVersion;\\n    let myVersion = MY_RULE.version;\\n    try {\\n        newVersion = JSON.parse(fetchPC(\\\"http://hiker.nokia.press/hikerule/rulelist.json?id=5702\\\", {\\n            timeout: 1000\\n        })).version;\\n        log('版本号:' +myVersion);\\n    } catch (e) {\\n        toast(\\\"道长仓库抽风了，本次未检测到新版信息\\\");\\n        newVersion = myVersion;\\n    }\\n    let isUpdate = Number(newVersion) > Number(myVersion);\\n    let isVer = Number(newVersion) === Number(myVersion);\\n    if (isUpdate) {\\n        log('有新版本:' + newVersion + ',当前:' + myVersion);\\n    }\\n    d.push({\\n        title: isUpdate ? \\\"🆙新版本\\\" : \\\"已是最新版\\\",\\n        url: \\\"rule://5rW36ZiU6KeG55WM6aaW6aG16aKR6YGT6KeE5YiZ44CQ5LqR6Z+z5LmQKOivjSnjgJHvv6Vob21lX3J1bGVfdXJs77+laHR0cDovL2hpa2VyLm5va2lhLnByZXNzL2hpa2VydWxlL3J1bGVsaXN0Lmpzb24/aWQ9NTcwMg==\\\",\\n        col_type: \\\"text_2\\\"\\n    });\\nfor (var b = 0; b < 10; b++) {\\nd.push({\\n    col_type: 'big_blank_block'\\n})\\n}\\n    d.push({\\n        title: '有新版本:' + newVersion + ',当前:' + myVersion,\\n         col_type: \\\"text_center_1\\\"\\n})\\nsetResult(d)\"}]","proxy":"","icon":"http://pp.myapp.com/ma_icon/0/icon_1168851_1660565782/256"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar conts = pdfa(html, 'body&&.hl-tabs-box')[0];\nvar list = pdfa(conts, 'body&&a:not(:matches(全部))');\nvar i = list.length\nif (i>1){\nvar title = pdfh(list[i,i-1], 'a&&Text');\nsetResult(\"更新至: \" + title)}","title":"0855影视🤡","author":"缘分","version":0,"type":"video","url":"https://www.085512.com/vod/show/id/vod/page/fypage.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = '.hl-nav'\nconst 拼接分类 = 'body&&.hl-filter-list,1:||.hl-rb-title'\nconst 小类定位 = 'body&&a:not(:matches(首页|伦|留))'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getMyVar(\"url\", MY_URL)\nconst page = MY_PAGE\nif (getMyVar(\"url\")) {\n    true_url = true_url.replace('f', 'vod/show/id').replace(/id\\/(\\w+)\\.html/, 'id/$1/') + 'page/' + page + '.html'\n    true_url = true_url.replace(/htmlpage.*/, '').replace(/(year\\/\\d+\\.)/, 'page/' + page + '/$1html')\n}\nvar html = fetch(true_url)\n\neval(JSON.parse(fetch('hiker://page/sm', {})).rule);\n\n//一级页面\nvar list = pdfa(html, '.hl-vod-list&&li');\nfor (var j in list) {\n    d.push({\n        title: pdfh(list[j], 'a&&title'),\n        desc: pdfh(list[j], '.hl-lc-1&&Text'),\n        img: pd(list[j], 'a&&data-original') + '@Referer=',\n        url: true_url.indexOf('/mt/') > -1 ? pd(list[j], 'a&&href') + $('').lazyRule(() => {\n            let html = request(input);\n            let arr = pdfa(html, \".hl-plays-list&&li\");\n            return \"pics://\" + arr.map(it => {\n                var url = pd(it, \"a&&href\");\n                var pic = pd(request(url), '.tupic&&img&&src') + '@Referer=';\n                return pic;\n            }).join(\"&&\")\n        }) : pd(list[j], 'a&&href') + '#immersiveTheme#',\n   });\n}\nsetResult(d);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), '.hl-one-list&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            desc: pdfh(list[j], 'a&&Text'),\n            pic_url: pd(list[j], 'a&&data-original') + '@Referer=',\n            url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.085512.com/vod/search/page/fypage/wd/**.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar arts = pdfa(html, 'body&&.hl-tabs-btn');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(pdfh(arts[i], 'Text'))\n}\n\nvar conts = pdfa(html, 'body&&.hl-tabs-box');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(pdfa(conts[i], 'body&&a:not(:matches(全部))'))\n}\ntry {\nd.push({\n    title: pdfh(html, '.hl-col-xs-12,7&&Text').substring(0, 15) +\n        '\\n' +\n        '\\n' +\n             pdfh(html,\n'.hl-col-xs-12,4&&Text').substring(0, 18),\n    desc: pdfh(html, '.hl-col-xs-12,2&&Text'),\n    img: pd(html, \n'.hl-lazy&&data-original') +'@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',extra: {gradient: true}\n});\n} catch (e) {\nd.push({\n    img: pd(html, \n'.hl-lazy&&data-original') +'@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',extra: {gradient: true}\n});\n}\n eval(JSON.parse(fetch('hiker://page/lazy', {})).rule);\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text')\n                .replace(/第(\\d+)集/, '$1')\n                .replace('第', '')\n                .replace('期', ''),\n            url: pd(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"sm\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\"url\\\");\\n    clearMyVar(\\\"t\\\");\\n}));\\ntry {\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} catch (e) {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getMyVar(\\\"fold\\\", \\\"0\\\")\\nconst cate_temp_json = getMyVar(\\\"t\\\", JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #FF0000\\\">∨</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">∧</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putMyVar(\\\"fold\\\", fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\n\\n    categories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putMyVar(\\\"t\\\", JSON.stringify(new_cate))\\n                        putMyVar(\\\"url\\\", input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putMyVar(\\\"t\\\", JSON.stringify(params.cate_temp))\\n                        putMyVar(\\\"url\\\", input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((MY_HOME)=> {\\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\\n    var url = html.url\\n    if (html.encrypt == '1') {\\n        url = unescape(url);\\n    } else if (html.encrypt == '2') {\\n        url = unescape(base64Decode(url));\\n    }\\n        return url\\n}, MY_HOME)\"}]","proxy":"","icon":"https://www.085512.com/template/0855/asset/favicon.ico"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar conts = pdfa(html, 'body&&.module-play-list-content')[0];\nvar list = pdfa(conts, 'body&&a');\nvar i = list.length\nif (i>1){\nvar title = pdfh(list[i,i-1], 'a&&Text');\nsetResult(\"更新至: \" + title)}","title":"麻雀视频🤡","author":"缘分","version":0,"type":"video","url":"https://v.mqtv.cc/w/1/page/fypage.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.navbar-items'\nconst 拼接分类 = 'body&&.module-class-items'\nconst 小类定位 = 'body&&a:not(:matches(首页|专题|下载|盘|热|新))'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getMyVar(\"url\", MY_URL)\nconst page = MY_PAGE\nif (getMyVar(\"url\")) {\n    true_url = true_url.replace(/t\\/(\\d+)/, 'w/$1.html').replace('.html', /page/ + page + '.html')\n}\nlog(true_url)\nvar html = fetch(true_url)\n\n\n\neval(JSON.parse(fetch('hiker://page/sm', {})).rule);\n\n//一级页面\nconst list = parseDomForArray(html, '.module-items&&a')\nlist.forEach(video => {\n    d.push({\n        title: pdfh(video, 'a&&title'),\n        desc: pdfh(video, '.module-item-note&&Text'),\n        img: pd(video, 'img&&data-original') + \"@Referer=\",\n        url: pd(video, 'a&&href') + '#immersiveTheme#',\n        col_type: 'movie_3',\n    })\n})\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode()\r\nvar list = pdfa(html, '.module-items&&.module-item');\nfor (var j in list) {\n    d.push({\n        title: pdfh(list[j], 'img&&alt'),\n        desc: pdfh(list[j], '.module-item-note&&Text'),\n        img: pd(list[j], 'img&&data-original')+'@Referer=',\ncontent:pdfh(list[j], '.module-info-item-content&&Text'),\n        url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\r\nsetResult(d)","search_url":"https://v.mqtv.cc/s**/page/fypage.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\neval(JSON.parse(request('hiker://page/lazy')).rule);\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-item:not(:matches(首页|更新|榜|APP))');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.module-play-list-content');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.module-info-item,2&&Text').replace(/\\//g,' ').replace('  ','');\n\nvar 主演 = parseDomForHtml(html, '.module-info-item,1&&Text').replace(/\\//g,' ').replace('  ','');\n\nvar 更新 = parseDomForHtml(html, '.module-info-item,3&&Text');\n\nvar 状态 = parseDomForHtml(html, '.module-info-item,4&&Text');\n\nvar 图片 = parseDom(html, '.lazy&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.module-info-introduction-content&&Text').replace('[收起部分]','');\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url:MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',\n    extra:{gradient: true}\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\n\n\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    \n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#6639a6\">排序</font></small>' + '<small><font color=\"#f6416c\">↑</font></small>' + '<small><font color=\"#2b2e4a\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#2b2e4a\">↑</font></small>' + '<small><font color=\"#f6416c\">↓</font></small>';\n}\n\nvar Color = \"#3490de\";\nvar Color1 = \"#ea5455\";\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 3 ? 'text_4' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,extra: {\n                    blockRules: ['.css', '.gif', '.jpg', '.jpeg', '.png', '.ico', '.svg', '.m3u8', '.mp4']\n                },\n                    col_type: list.length > 3 ? 'text_4' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"sm\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\"url\\\");\\n    clearMyVar(\\\"t\\\");\\n}));\\ntry {\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} catch (e) {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getMyVar(\\\"fold\\\", \\\"0\\\")\\nconst cate_temp_json = getMyVar(\\\"t\\\", JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #FF0000\\\">∨</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">∧</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putMyVar(\\\"fold\\\", fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\n\\n    categories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putMyVar(\\\"t\\\", JSON.stringify(new_cate))\\n                        putMyVar(\\\"url\\\", input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putMyVar(\\\"t\\\", JSON.stringify(params.cate_temp))\\n                        putMyVar(\\\"url\\\", input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((MY_HOME)=> {\\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1])\\n    var url = html.url\\n    if (html.encrypt == '1') {\\n        url = unescape(url);\\n    } else if (html.encrypt == '2') {\\n        url = unescape(base64Decode(url));\\n    }\\n        return url\\n}, MY_HOME)\"}]","proxy":"","icon":"https://v.mqtv.cc/mxtheme/images/favicon.png"},{"last_chapter_rule":"","title":"有声听书网","author":"缘分","version":0,"type":"video","url":"https://www.ysts5.com/book/fyAll/lastupdate/fypage.html","col_type":"movie_1_left_pic","class_name":"玄幻有声&灵异有声&都市有声&军事有声&百家讲坛&网游竞技&长篇评书&","class_url":"xuanhuan&lingyi&dushi&junshi&bjjt&jingji&pingshu&","area_name":"相声小品&综艺娱乐&儿童故事&职场有声&其他有声&","area_url":"xiangsheng&yule&ertong&tongren&qita&","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), '.list-works&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            desc: pdfh(list[j], '.list-book-cs&&a&&Text'),\n            pic_url: pd(list[j], 'img&&data-original') + '@Referer=',\n            url: pd(list[j], 'a&&href')+'pfypage.html' + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","group":"视频","detail_col_type":"text_3","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\ntry {\n    if (MY_PAGE == 1) {\n        d.push({\n            title: pdfh(html, '.book-info&&dd,3&&Text'),\n            desc: pdfh(html, '.book-info&&dd,4&&Text'),\n            pic_url: pd(html, '.lazy&&data-original') + '@Referer=',\n            url: pd(html, '.lazy&&data-original'),\n            col_type: 'movie_1_vertical_pic_blur',\n            extra: {\n                gradient: true\n            }\n        });\n    }\n} catch (e) {}\n\ntry {\n    var list = pdfa(html, '.playlist&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text') .replace(/.*?(\\d+).*/, '$1')\n                .replace('第', '')\n                .replace('期', ''),\n            url: pd(list[j], 'a&&href') + $('').lazyRule(() => {\n                var url = pd(request(input), 'iframe&&src');\n                var url = request(url, {\n                    headers: {\n                        'Referer': input,\n                    }\n                })\n                var url = url.match(/mp3:'(.*?)'/)[1]\nlog(url)\n                if (/\\.m4a|\\.mp3/.test(url)) {\n                    return url\n                } else {\n                    return 'video://' + input + '#isMusic=true#'\n                }\n            })\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://m.ysts5.com/favicon.ico"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar conts = pdfa(html, 'body&&.scroll-box-y')[0];\nvar list = pdfa(conts, 'body&&a');\nvar i = list.length\nvar title = pdfh(list[list.length,i-1], 'a&&Text');\nsetResult(\"更新至: \" + title);","title":"爱看影视🤡","author":"缘分","version":2,"type":"video","url":"https://ikan6.vip/vodshow/1--------fypage---/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nrequireCache('https://pastebin.com/raw/D2iimVHk');\n大类定位 = 'body&&.nav-list'\n拼接分类 = 'body&&.myui-screen__list'\n小类定位 = 'body&&a:not(:matches(首页|APP|热榜|专题|周表|番剧|放映厅|国创))'\n分类标题 = 'a&&Text'\n分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\nlet true_url = getMyVar(\"url\", MY_URL)\nconst page = MY_PAGE\nif (getMyVar(\"url\")) {\n    true_url = true_url.replace(/vodtype\\/(\\d+)\\//, 'vodshow/$1-----------/').replace(/---\\//, page+'---/' ).replace(/(---\\d+\\/)/, page + '$1')\n}\nvar html = request(true_url)\nvar 列表 = '.myui-vodlist&&li'\nvar 标题 = 'a&&title'\nvar 描述 = '.pic-text&&Text'\nvar 图片 = '.lazyload&&data-original'\nvar 链接 = 'a&&href'\n一级1.A()","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\neval(JSON.parse(fetch('hiker://page/yzm')).rule);\ntry {\n    var list = pdfa(html, '.myui-vodlist__media&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            desc: pdfh(list[j], '.pic-text&&Text'),\n            pic_url: pd(list[j], 'a&&data-original') + '@Referer=',\n            url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://ikan6.vip/vodsearch/**----------fypage---/","titleColor":"","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\neval(JSON.parse(fetch('hiker://page/lazy', {})).rule);\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('（优先推荐）', '').replace('资源广告请无视。', '').split('解析')[0])\n}\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\ntry {\nvar 分类 = parseDomForHtml(html, '.myui-content__detail&&p,3&&Text').replace('类型：', '');\nvar 主演 = parseDomForHtml(html, '.myui-content__detail&&p,1&&Text').substring(0, 15);\nvar 导演 = parseDomForHtml(html, '');\nvar 状态 = parseDomForHtml(html,'.myui-content__detail&&p,2&&Text');\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n//var 简介 = parseDomForHtml(html, '').replace('简介：', '');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 主演,\n    desc: 导演 + '\\n' + 状态,\n    pic_url: 图片,\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n});\n\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n})} catch (e) {}\n\nfunction getHead(title) {\n    return '‘‘’’<font color=\"' + Color + '\">' + title + '</front>';\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n \n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small></small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    extra: {\n                        blockRules: ['.m4a', '.mp3', '.mp4', '.flv', '.avi', '.3gp', '.mpeg', '.wmv', '.mov', '.rmvb', '.gif', '.jpg', '.jpeg', '.png', '.ico', '.svg', 'cnzz']\n                    },\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule((MY_HOME) => {\\n    var html = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);\\n    var title = pdfh(request(input), 'Text').split(\\\"-\\\")[0];\\n    var url = html.url;\\n    url = unescape(base64Decode(url))\\n    url = url.substring(8, url.length - 8);\\n    eval(request(MY_HOME + '/static/js/playerconfig.js'));\\n    var jx = MacPlayerConfig.parse;\\n    url = jx + url + '&next=&tittle=' + title;\\n    url = request(url, {}).match(/getrandom\\\\('(.*?)'/)[1];\\n    url = unescape(base64Decode(url)).match(/http.*/)[0];\\n    url = url.substring(0, url.length - 8);\\n    return url\\n}, MY_HOME)\"},{\"col_type\":\"movie_3\",\"name\":\"验证码\",\"path\":\"yzm\",\"rule\":\"if (html.indexOf('系统安全验证') > -1) {\\n\\n    let headers = {\\n        \\\"User-Agent\\\": MOBILE_UA,\\n        \\\"Referer\\\": MY_URL\\n    };\\n    eval(JSON.parse(request('hiker://page/jxhs?rule=模板·Q')).rule);\\n    evalPrivateJS(ssyz);\\n\\n    let vcode = getVCode2(MY_HOME + '/index.php/verify/index.html?', JSON.stringify(headers), 'num');\\n    fetch(MY_HOME + html.match(/\\\\/index.php.*?verify=/)[0] + JSON.parse(vcode).ret, {\\n        headers: headers,\\n        method: 'POST'\\n    })\\n    var yz = !/search/.test(MY_URL) ? true_url : MY_URL\\n    html = fetch(yz, {\\n        headers: headers\\n    });\\n}\"}]","proxy":"","icon":"https://sf3-ttcdn-tos.pstatp.com/obj/web.business.image/202111275d0d163482774cba40aabd5e"},{"last_chapter_rule":"","title":"好恐怖🤡","author":"缘分","version":1,"type":"video","url":"https://wap.haokongbu1.com/fyAll/top_fypage.html[firstPage=https://wap.haokongbu1.com/fyAll/top.html]","col_type":"movie_3","class_name":"动作片&喜剧片&科幻片&恐怖片&战争片&微电影&纪录片","class_url":"dongzuopian&xijupian&kehuanpian&kongbupian&zhanzhengpian&weidianying&m_jlp","area_name":"国产&香港&台湾&日本&韩国&欧美&泰国&海外","area_url":"guochanju&gangju&taiwanju&riju&hanju&oumeiju&taiguoju&haiwaiju","sort_name":"","year_name":"高清&动漫&","sort_url":"","year_url":"gaoqing&donghuapian&","find_rule":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.clearfix&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j],   '.name&&Text'),\n       desc:parseDomForHtml(list[j], '.typeset&&Text'),\n       pic_url: parseDom(list[j], 'img&&src')+'@Referer=',\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\n//拼接翻页\nvar ss = MY_URL.split('#')[0] + JSON.parse(fetch('https://ms.haokongbu1.com/e/search/',{headers:{'content-type':'application/x-www-form-urlencoded'},body:MY_URL.split('#')[1],method:'POST',redirect:false, withHeaders:true})).headers.location[0].split('=')[1];\ntry{\nvar list = parseDomForArray(fetch(ss,{}), '.clearfix&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j],   '.name&&Text'),\n       desc:parseDomForHtml(list[j], '.typeset&&Text'),\n       pic_url: parseDom(list[j], 'img&&src')+'@Referer=',\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"https://ms.haokongbu1.com/e/search/result/?searchid=#show=title,ftitle,actor&keyboard=**","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\neval(JSON.parse(fetch('hiker://page/lazy', {})).rule);\ntry{\nvar playhtml = request('https://wap.haokongbu1.com' + pdfh(html, '.online&&a&&href'));\n\n//线路名列表的定位\nvar arts = parseDomForArray(playhtml, '.source_item&&span');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('超清不卡，推荐NO.1','').replace('资源广告请无视。','').split('解析')[0])\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(playhtml, 'body&&.tabc');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n}catch(e){}\nvar 主演 = parseDomForHtml(html, 'dt,1&&Text').substring(0,25);\n\nvar 导演 = parseDomForHtml(html, '');\n\nvar 分类 = parseDomForHtml(html, '');\n\nvar 状态 = parseDomForHtml(html, '.bz&&Text');\n\nvar 图片 = parseDom(html, '.ct-l&&.lazy&&src')+ '@Referer=https://wap.haokongbu1.com';\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\n\nd.push({\n    title: 主演 + '\\n' + 导演,\n    desc: 分类 + '\\n' + 状态,\n    pic_url: 图片,\n    url:MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',extra: {gradient: true}\n});\n\nif (getMyVar('yn', 'no') == 'no') {\n    var kg = '‘‘’’<font color=\"#33cccc\">展开磁力列表 ▴</font>';\n} else {\n    var kg = '‘‘’’<font color=\"#33cccc\">关闭磁力列表 ▾</font>';\n}\n\nd.push({\n    title: kg,\n    url: $('#noLoading#').lazyRule(() => {\n        if (getMyVar('yn', 'no') == 'yes') {\n            putMyVar('yn', 'no');\n        } else {\n            putMyVar('yn', 'yes');\n        }\n        refreshPage(true);\n        return '#noHistory#hiker://empty'\n    }),\n    col_type: 'text_1'\n})\n\nif (getMyVar('yn', 'no') == 'no') {\n    d.push({\n        title: '',\n        url: '',\n        col_type: 'big_blank_block'\n    });\n} else {\nvar lista = parseDomForArray(html, '.fbaidu&&a:not(:matches(网盘|在线观看))');\n    for (var i in lista) {\n        d.push({\n            title: parseDomForHtml(lista[i], 'Text'),\n            pic_url: 'http://pic.pdowncc.com/skin/img/6.jpg',\n            url: parseDom(lista[i], 'a&&href'),\n           col_type:  'avatar'\n        })\n    }};\n\nfor (var b = 0; b < 4; b++) {\nd.push({\n    col_type: 'big_blank_block'\n})\n}//空格\ntry{\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small></small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n\nvar list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,extra: {\n                        blockRules: ['.m4a', '.mp3', '.mp4', '.flv', '.avi', '.3gp', '.mpeg', '.wmv', '.mov', '.rmvb', '.gif', '.jpg', '.jpeg', '.png', '.ico', '.svg','cnzz']\n                    },\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});}catch(e){}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"lazy\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule(() => {\\n    var url = decodeURIComponent(request(input).match(/ponent\\\\('(.*?)'/)[1]);\\n    var urls = url.replace('https://img.mandudu.com/player/?url=', '')\\n    if (/.m3u8|.mp4/.test(urls)) {\\n        return urls\\n    } else {\\n        var url = request(url).match(/ urls = \\\"(.*?)\\\"/)[1];\\n        return url\\n    }\\n    /*  showLoading(\\\"动态解析规则中,请稍后\\\");\\n       var video = 'x5Rule://' + url  + '@' + $.toString(() => {\\n           var urls = _getUrls();\\n           var exclude = /playm3u8|m3u8\\\\.tv|min\\\\.css|404\\\\.m3u8/;\\n           var contain = /\\\\.mp4|\\\\.m3u8|\\\\.flv|\\\\.avi|\\\\.mpeg|\\\\.wmv|\\\\.mov|\\\\.rmvb|\\\\.dat|qqBFdownload|mime=video%2F|video_mp4/;\\n           for (var i in urls) {\\n               if (!exclude.test(urls[i]) && contain.test(urls[i])) {\\n                   //fy_bridge_app.log(urls[i])\\n                   if (/mgtv|sohu/.test(urls[i])) {\\n                       return urls[i] + \\\";{User-Agent@Mozilla/5.0 (Windows NT 10.0)}\\\";\\n                   } else if (/bili/.test(urls[i])) {\\n                       return urls[i] + \\\";{User-Agent@Mozilla/5.0&&Referer@https://www.bilibili.com}\\\";\\n                   } else {\\n                       return urls[i]\\n                   }\\n               }\\n           }\\n       }) //video\\n       return video*/\\n});\"}]","proxy":"","icon":"https://wap.haokongbu1.com/favicon.ico"},{"last_chapter_rule":"","title":"百乐米.h5","author":"缘分","version":20220919,"type":"video","url":"https://bailemi.com/fyclassfypage","col_type":"card_pic_3","class_name":"歌单&歌手&歌曲&","class_url":"dance/songsheet/search?=＆＆page=&index.php/singer/search?=＆＆page=&song/id_1_&","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\n    input = input.replace(/http.*p(\\d+)\\.html/, 'https://bailemi.com/dance/Playsong/data?id=$1')\n    var url = request(input, {\n        headers: {\n            'Referer': MY_URL\n        }\n    }).match(/url\":\"(.*?)\"/)[1]\n    var url = url.replace(/\\\\/g, '')\n\n    //log(url);\n    return url\n})\ntry {\n    var list = pdfa(getResCode(), '.s_list_songs||.sq_track_slider||#artists_search_result&&.list-recommended||.track||.artist_list');\n    for (var j in list) {\n        let title = pdfh(list[j], 'a&&title')\n        d.push({\n            title: title,\n            desc: pdfh(list[j], 'a,1&&Text'),\n            pic_url: pd(list[j], 'img&&src') + '@Referer=',\n            url: MY_URL.indexOf('dance') > -1 ? pd(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\" : MY_URL.indexOf('search') > -1 ? pd(list[j], 'a&&href').replace('show', 'music/id') + '/fypage' + \"#noLoading##gameTheme##noRefresh##background#\" : pd(list[j], 'a&&href') + lazy,\n            extra: {\n                newWindow: true,\n                windowId: title\n            }\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\nvar lazy=$('').lazyRule(() => {\ninput=input.replace(/http.*p(\\d+)\\.html/,'https://bailemi.com/dance/Playsong/data?id=$1')\nvar url=request(input,{headers: {\n                'Referer': 'https://bailemi.com/'\n            }}).match(/url\":\"(.*?)\"/)[1]\nvar url=url.replace(/\\\\/g,'')\nlog(url);\nreturn url\n})\ntry {\n    var list = pdfa(getResCode(), '.s_list_songs&&.s_lsongs_child');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            desc: pdfh(list[j], 'a,1&&Text'),\n            pic_url: pd(list[j], 'img&&src') + '@Referer=',\n            url: pd(list[j], 'a&&href') + lazy\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://bailemi.com/dance/search?key=**&page=fypage","group":"视频","detail_col_type":"icon_2","detail_find_rule":"js:\nvar d = [];\n\nvar lazy = $('').lazyRule(() => {\n    input = input.replace(/http.*p(\\d+)\\.html/, 'https://bailemi.com/dance/Playsong/data?id=$1')\n    var url = request(input, {\n        headers: {\n            'Referer': MY_URL\n        }\n    }).match(/url\":\"(.*?)\"/)[1]\n    //log(url);\n    return url\n})\nlet 传输列表 = []\nvar list = pdfa(getResCode(), '#topic_list||.s_list_songs&&tr:not(:matches(全选))||.s_lsongs_child');\n\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (var j in list) {\n    let title = pdfh(list[j], 'a&&title');\n    let first = pdfh(list[0], 'a&&title');\n    let desc = pdfh(list[j], '.lazyload&&Text');\n    let url = pd(list[j], 'a&&href') + lazy;\n    let img = pd(getResCode(), '.al_art_img||.play-img&&style||src');\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'text_1'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://bailemi.com/favicon.ico"},{"last_chapter_rule":"","title":"爱音人.h5","author":"缘分","version":20220919,"type":"video","url":"http://www.iyinren.com/list/fyAll/fypage/","col_type":"text_1","class_name":"专 辑&歌 手&好 歌&新 歌&","class_url":"2&1&13&5&","area_name":"古典乐&电子乐&钢琴曲&影视原声&乡村民谣&胎教音乐&天籁之声&手机铃声&新世纪&催眠曲&","area_url":"14&15&16&17&18&19&20&21&22&23&","sort_name":"","year_name":"人气排行&推荐排行&好评排行&收藏排行&下载排行&免费排行","sort_url":"","year_url":"6&7&8&10&11&12","find_rule":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), '.musicList||.pubList&&li');\n    for (var j in list) {\n   let title = pdfh(list[j], 'strong&&Text');\n        d.push({\n            title: title,\n            desc: pdfh(list[j], 'em&&Text'),   \n            pic_url: pd(list[j], 'img&&src'),\n            url: MY_URL.indexOf('list/1/') > -1 ? pd(list[j], 'a&&href')+\"#noLoading##gameTheme##noRefresh##background#\":MY_URL.indexOf('list/2/') > -1 ? pd(list[j], 'a&&href')+\"#noLoading##gameTheme##noRefresh##background#\":pd(list[j], '.t-n&&Text').split(\"|\")[4]+'.mp3'+'@lazyRule=.js:input',\nextra: {\n                newWindow: true,\n                windowId: title\n            },\ncol_type: MY_URL.indexOf('list/1/') > -1 ? 'icon_round_4':MY_URL.indexOf('list/2/') > -1 ? 'movie_1_left_pic':'',\n\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\ntry {\nvar list = pdfa(getResCode(), '.musicList&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text'),\n            desc: pdfh(list[j], 'em&&Text'),          \n            url: pd(list[j], '.t-n&&Text').split(\"|\")[4]+'.mp3'\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.iyinren.com/search.php?action=keyword&key=**&pages=fypage","group":"视频","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = []; \nlet 传输列表 = []\n let list = pdfa(getResCode(), '.musicList&&li');  \n\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (var j in list) {\n    let first = pdfh(list[0], 'a&&Text');\n    let title = pdfh(list[j], 'a&&Text');   \n    let desc = pdfh(list[j], 'em&&Text');\n    let img = pd(getResCode(), '#singerPic&&src');\n    let url = pd(list[j], '.t-n&&Text').split(\"|\")[4]+'.mp3';\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'avatar'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://www.iyinren.com/favicon.ico"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar conts = pdfa(html, 'body&&.numList')[0];\nvar list = pdfa(conts, 'body&&a');\nvar title = pdfh(list[list.length,0], 'a&&Text');\nsetResult(\"更新至: \" + title);","title":"农民影视🤡","author":"缘分","version":2,"type":"video","url":"hiker://empty##https://v.emsdn.cn/index.php?m=vod-list-id-1-pg-fypage-order--by-time-class-0-year-0-letter--area--lang-.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nrequireCache(config.依赖, config.更新间隔);\n大类定位 = 'body&&.swiper-wrapper'\n拼接分类 = 'body&&.con'\n小类定位 = 'body&&a:not(:matches(小姐姐|明|音乐))'\n分类标题 = 'a&&Text'\n分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\nlet true_url = getMyVar(\"url\", MY_URL)\nconst page = MY_PAGE\nif (getMyVar(\"url\")) {\n    true_url = true_url.replace(/vod-type-id-(\\d+)/, 'index.php?m=vod-list-id-$1').replace(/-pg-1/,'-pg-'+page)\n}\n//log(true_url)\nvar html = request(true_url)\nvar 列表 = '.resize_list&&li'\nvar 标题 = 'a&&title'\nvar 描述 = '.sBottom&&Text'\nvar 图片 = 'img&&data-echo'\nvar 链接 = 'a&&href'\n一级1.A()","searchFind":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), '#data_list&&li');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], '.sTit&&Text'),\n            desc: parseDomForHtml(list[j], '.sStyle&&Text'),\n            content: parseDomForHtml(list[j],\n                '.sDes&&Text'),\n            pic_url: parseDom(list[j], '.lazyload&&data-src') + '@Referer=',\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://v.emsdn.cn/index.php?m=vod-search&wd=**","group":"视频","detail_col_type":"movie_1_vertical_pic_blur","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n   \n    var playBtn = pdfh(html, '.page-btn&&a&&href');\n    var playhtml = request('https://v.emsdn.cn/' + playBtn);\n    var arts = parseDomForArray(playhtml, '#leftTabBox&&.hd&&ul&&li');\n    var tabs = [];\n    for (var i in arts) {\n        tabs.push(parseDomForHtml(arts[i], 'Text'))\n    }\n    var conts = parseDom(playhtml, '.main&&script&&Html').match(/mac_url='([\\s\\S].*)';/)[1].split(\"$$$\");\nvar lists = [];\n    for (var i in conts) {\n        lists.push(parseDom(conts[i], 'Text').split(\"#\"))\n    }\n    var lazy = $('').lazyRule(() => {\n        var url = pdfh(request(input), 'body&&script&&Html').match(/url=(.*?)\"/)[1]\n        log(url)\n        if (url.search(/\\.mp4|\\.m3u8/) > -1) {\n            return url\n        } else {\n            input = input.replace('?url=', 'nm.php?url=')\n            var url = pdfh(request(input), 'body&&script,-2&&Html').match(/src=\"(.*?)\"/)[1]\n            log(input)\n            if (url.search(/mp4|\\.m3u8/) > -1) {\n                return url + '#isVideo=true#'\n            } else {\n                input = input.replace('nm.php', '')\n                requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n                return x5rule(input, input);\n            }\n        }\n    });\n try {  \n    var 主演 = parseDomForHtml(html, '.page-bd&&.desc_item,1&&Text');\n\n    var 类型 = parseDomForHtml(html, '');\n\n    var 更新 = parseDomForHtml(html, '');\n\n    var 导演 = parseDomForHtml(html, '.page-bd&&.desc_item&&Text');\n\n    var 图片 = parseDom(html, 'img&&src');\n\n    var 简介 = parseDomForHtml(html, '.detail-con&&p&&Text').replace('简 介：', '');\n\n    var 图片链接 = parseDom(html, 'img&&src');\n\n    var Color = \"#f13b66a\";\n    var Color1 = \"#098AC1\";\n    function getHead(title) {\n        return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n    }\n    let line_model = 8;\n    let line_type_model = 'blank_block';\n    d.push({\n        title: 主演 + '\\n' + 类型,\n        desc: 更新 + '\\n' + 导演,\n        pic_url: 图片,\n        url: 图片,\n        col_type: 'movie_1_vertical_pic_blur',\n        extra: {\n            gradient: true\n        }\n    });\n    d.push({\n        title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n        url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n        col_type: 'text_1'\n    });\n } catch (e) {}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n  \n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">列表:</font></small>' + '<small><font color=\"#0aa344\">正序↑</font></small>' + '<small><font color=\"#ff4c00\">反序↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">列表:</font></small>' + '<small><font color=\"#ff4c00\">正序↑</font></small>' + '<small><font color=\"#0aa344\">反序↓</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small></small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDom(list[j], 'Text').replace(MY_HOME + '/', '').split(\"$\")[0],\n                    url: 'https://api.emsdn.cn/webcloud/?url=' + parseDom(list[j], 'Text').split(\"$\")[1] + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDom(list[j], 'Text').replace(MY_HOME + '/', '').split(\"$\")[0],\n                    url: 'https://api.emsdn.cn/webcloud/?url=' + parseDom(list[j], 'Text').split(\"$\")[1] + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"initConfig({\n    依赖: 'https://pastebin.com/raw/D2iimVHk',\n    更新间隔: 48\n});","pages":"[]","proxy":"","icon":"https://v.emsdn.cn/favicon.ico"},{"last_chapter_rule":"","title":"小视频","author":"xyz2006","version":2,"type":"video","url":"hiker://empty$$$fyclass","col_type":"icon_4","class_name":"丝瓜&草莓&向日葵","class_url":"https://api.sgbe2.xyz&https://api.cmbe2.xyz/&https://api.xrkapi004.xyz","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nputVar('host', MY_URL.split('$$$')[1]);\nvar res = {};\nvar imgs = ['qTJ4XR.png','qTJIn1.png','qTJhc9.png','qTJf1J.png','qTJWp4.png',\n'qTJo0x.png','qTJT76.png','qTJHAK.png','qTJbtO.png','qTJqhD.png','qTJO9e.png'];\nvar list = JSON.parse(fetch(getVar('host')+'/api/videosort/')).rescont;\nvar items = list.map(data => ({\n    title: data.name,\n    url: getVar('host')+'/api/videosort/'+data.id+'?orderby=new&page=fypage',\n    pic_url: 'https://s1.ax1x.com/2022/04/03/' + imgs[Math.floor(Math.random()*imgs.length)],\n}));\nres.data = items;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar html = fetch(getVar('host')+'/api/videosort/0?page=fypage&serach='+MY_URL.split('$$$')[1]+'&uuid=674d0eb77a5ff867&device=0');\nvar list = JSON.parse(html).rescont.data;\nvar items = list.map(data => ({\n    title: data.title,\n    url: getVar('host')+'/api/videoplay/'+data.id+'?uuid=724b9c9fdd5e7b6f@lazyRule=.js:JSON.parse(fetch(input)).rescont.videopath',\n    desc: '时长：'+data.playtimes+'\\n\\n更新：'+data.updated_at,\n    col_type: 'movie_1_vertical_pic'\n}));\nres.data = items;\nsetHomeResult(res);","search_url":"hiker://empty$$$**","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar list = JSON.parse(getResCode()).rescont.data;\nvar items = list.map(data => ({\n    title: data.title,\n    url: getVar('host')+'/api/videoplay/'+data.id+'?uuid=724b9c9fdd5e7b6f@lazyRule=.js:JSON.parse(fetch(input)).rescont.videopath',\n    desc: '时长：'+data.playtimes+'\\n\\n更新：'+data.updated_at,\n    col_type: 'movie_1_vertical_pic'\n}));\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/movie/30.svg"},{"last_chapter_rule":"","title":"啦啦DJ🎶","author":"缘分","version":1,"type":"video","url":"http://www.laladj.com/fyAll-fypage","col_type":"avatar","class_name":"车载视频&串烧舞曲&慢歌连版&中文舞曲&英文舞曲&","class_url":"video_list/0-0-0&list/1-0-0-0&list/2-0-0-0&list/3-0-0-0&list/4-0-0-0&","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\ntry{\neval(request(input).match(/videoObject =[\\s\\S]*?;/)[0])\n    return videoObject.video+';{Referer@'+MY_URL+'}'\n}catch(e){\n\nvar ID = input.replace('http://www.laladj.com/play/','')\nlog(ID);\ninput=input.replace(input,'http://m.laladj.com/mobile/index/get_cookie')\nvar json = JSON.parse(request(input,{headers:{'Cookie':'PHPSESSID=9gvch2irde57rmej6fn6cnif15; song_list=think:[{\"id\":'+ID+'}]'}})).data\nvar url = json[0].path\nreturn url+';{Referer@'+MY_URL+'}'+'#isMusic=true#'\n  }\n\n});\ntry{\nvar list = parseDomForArray(getResCode(), '.list_musiclist&&tr,1:');\n//log(list);\nfor (var j in list) {\n  d.push({\n        title:  parseDomForHtml(list[j],              'a,1&&Text'),\n       desc:parseDomForHtml(list[j], '.t2&&Text'),\n       pic_url: parseDom(list[j], 'img&&src')+'@Referer=',\n       url: parseDom(list[j], 'a&&href')+lazy,\ncol_type: MY_URL.indexOf('video_list/0-0-0')>-1?'card_pic_3':'avatar'\n  });\n\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\ntry{\neval(request(input).match(/videoObject =[\\s\\S]*?;/)[0])\n    return videoObject.video+';{Referer@'+MY_URL+'}'\n}catch(e){\n\nvar ID = input.replace('http://www.laladj.com/play/','')\nlog(ID);\ninput=input.replace(input,'http://m.laladj.com/mobile/index/get_cookie')\nvar json = JSON.parse(request(input,{headers:{'Cookie':'PHPSESSID=9gvch2irde57rmej6fn6cnif15; song_list=think:[{\"id\":'+ID+'}]'}})).data\nvar url = json[0].path\nreturn url+';{Referer@'+MY_URL+'}'+'#isMusic=true#'\n  }\n\n});\ntry{\nvar list = parseDomForArray(getResCode(), '.list_musiclist&&tr,1:');\n//log(list);\nfor (var j in list) {\n  d.push({\n        title: parseDomForHtml(list[j],              'a,1&&Text'),\n       desc:parseDomForHtml(list[j], '.t2&&Text'),\n       pic_url: parseDom(list[j], 'img&&src')+'@Referer=',\n       url: parseDom(list[j], 'a&&href')+lazy\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.laladj.com/search?search=**&page=fypage","group":"视频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"http://www.laladj.com/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","title":"剧白白.dr","author":"道长","version":1,"type":"video","url":"hiker://empty##https://www.jubaibai.me/type/fyclass-fypage.html","col_type":"movie_3_marquee","class_name":"电影&电视剧&综艺&动漫&纪录片&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&动画片&国产剧&港台剧&日韩剧&欧美剧&泰国剧","class_url":"dianying&dianshiju&zongyi&dongman&jilupian&dongzuopian&xijupian&aiqingpian&kehuanpian&kongbupian&juqingpian&zhanzhengpian&donghuapian&guochanju&gangtaiju&rihanju&oumeiju&taiguoju","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nrequire(config.自动匹配);\n自动一级();","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##https://www.jubaibai.me/vodsearch.html?wd=**","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"http://1.117.152.239:39000/tupian.php?text=剧白白"},{"last_chapter_rule":"","title":"野荷塘.D🐺","author":"家娃","version":20221125,"type":"video","url":"hiker://empty##https://www.yehetang.cc/show/1--------fypage---.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {\n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);\n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.xxx_type_li_container'\nconst 拼接分类 = 'body&&.filter-list'\nconst 小类定位 = 'body&&a:not(:matches(首页|今日更新|写真|APP|热榜))'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getVar(MY_RULE.url, MY_URL)\nconst page = MY_PAGE\nif (getVar(MY_RULE.url)) {\n    true_url = true_url.replace(/type(\\/\\d+)\\.html/, 'show$1-----------.html').replace('---.html', page + '---.html').replace(/(---\\d+.html)/, page + '$1')\n}\n\nvar html = request(true_url)\n\neval(JSON.parse(request('hiker://page/dt')).rule)\n\nvar list = pdfa(html, '.mdui-row-xs-3&&li');\nfor (var j in list) {\n    d.push({\n        title: pdfh(list[j], 'img&&alt'),\n        desc: pdfh(list[j], '.vod_remarks&&Text'),\n        pic_url: pd(list[j], '.lazy&&data-original') + '@Referer=',\n        url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nsetResult(d);","searchFind":"js:\r\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.mdui-row-xs-3&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'img&&alt'),\r\n       desc: parseDomForHtml(list[j], 'img&&alt&&Text'),\n       content: parseDomForHtml(list[j], '.vod_remarks&&Text'),\n       img: parseDom(list[j], '.lazy&&data-original')+'@Referer=',\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","search_url":"https://www.yehetang.cc/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = $('').lazyRule(() => {\n    try {\n        function toUrl(playUrl) {\n            if (/mgtv|sohu/.test(playUrl)) {\n                return playUrl + \";{User-Agent@Mozilla/5.0 (Windows NT 10.0)}\";\n            } else if (/bili/.test(playUrl)) {\n                return playUrl + \";{User-Agent@Mozilla/5.0&&Referer@https://www.bilibili.com}\";\n            } else if (/ixigua/.test(playUrl)) {\n                return playUrl + \"#isVideo=true#\" + \"#.mp4;{Referer@https://www.ixigua.com/&&User-Agent@Mozilla/5.0}\";\n            } else {\n                return playUrl;\n            }\n        }\n\n        var html = request(input, {});\n        var player_data = JSON.parse(html.match(/r player_.*?=(.*?)</)[1]);\n        var fro = player_data.from;\n        playUrl = player_data.url;\n\n        if (player_data.encrypt == '1') {\n            playUrl = unescape(player_data.url);\n        } else if (player_data.encrypt == '2') {\n            playUrl = unescape(base64Decode(player_data.url));\n        };\n        var exclude = /playm3u8|m3u8\\.tv|min\\.css|404\\.m3u8|\\.css/;\n        var contain = /\\.mp4|\\.m3u8|\\.flv|\\.avi|\\.mpeg|\\.wmv|\\.mov|\\.rmvb|\\.dat|qqBFdownload|mime=video%2F|video_mp4/;\n        if (!exclude.test(playUrl) && contain.test(playUrl)) {\n            return toUrl(playUrl);\n        }\n        var jxUrl = 'https://player.6080kan.cc/player/play.php?url=' + playUrl;\n        var jxHtml = request(jxUrl, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0)\",\n                \"Referer\": \"https://www.yehetang.cc/\"\n            },\n            method: \"GET\"\n        });\n        eval(jxHtml.match(/var config = {[\\s\\S]*?}/)[0] + \"\");\n        var apiUrl = 'https://player.6080kan.cc/player/xinapi.php';\n        var apiHtml = request(apiUrl, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0)\"\n            },\n            body: \"url=\" + config.url + \"&vkey=\" + config.vkey + \"&token=\" + config.token + \"&sign=smdyycc\",\n            method: \"POST\"\n        });\n        var json = JSON.parse(apiHtml);\n        if (json.code == 200) {\n            require(\"https://disdk.oss-cn-shenzhen.aliyuncs.com/play/js/decode.js\");\n            playUrl = getVideoInfo(json.url);\n            return toUrl(playUrl);\n        } else {\n            return 'toast://' + json.msg;\n        }\n\n    } catch (e) {\n        showLoading(\"正在进行检索，请稍候...\");\n        var video = 'x5Rule://' + input + '@' + $.toString(() => {\n            //fba.log(fba.getUrls())\n            var urls = _getUrls()\n            var exclude = /playm3u8|m3u8\\.tv|min\\.css|404\\.m3u8|\\.css/;\n            var contain = /\\.mp4|\\.m3u8|\\.flv|\\.avi|\\.mpeg|\\.wmv|\\.mov|\\.rmvb|\\.dat|qqBFdownload|mime=video%2F|video_mp4/;\n            for (var i in urls) {\n                if (!exclude.test(urls[i]) && contain.test(urls[i])) {\n                    // fy_bridge_app.log(urls[i])\n                    if (/mgtv|sohu/.test(urls[i])) {\n                        return urls[i] + \";{User-Agent@Mozilla/5.0 (Windows NT 10.0)}\";\n                    } else if (/bili/.test(urls[i])) {\n                        return urls[i] + \";{User-Agent@Mozilla/5.0&&Referer@https://www.bilibili.com}\";\n                    } else if (/ixigua/.test(urls[i])) {\n                        return urls[i] + \"#isVideo=true#\" + \"#.mp4;{Referer@https://www.ixigua.com/&&User-Agent@Mozilla/5.0}\";\n                    } else {\n                        return urls[i]\n                    }\n                }\n            }\n        });\n        return video;\n    }\n});\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.mdui-panel-item-header');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], '.mdui-panel-item-title&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.mdui-panel-item-body');\nvar lists = [];\nfor (var i in conts) {\n    var temp = parseDomForArray(conts[i], 'body&&a:not(:contains(排序))')\n    lists.push(temp)\n}\n\nvar 导演 = parseDomForHtml(html, '.inline_item:contains(导演：)&&Text');\n\n    var 主演 = parseDomForHtml(html, '.inline_item:contains(主演：)&&Text');\n\n    var 更新 = parseDomForHtml(html, '.inline_item:contains(备注：)&&Text');\n\n    var 状态 = parseDomForHtml(html, '.inline_item:contains(类别：)&&Text');\n\n    var 图片 = parseDom(html, '.picture&&img&&src');\n\n    var 简介 = parseDomForHtml(html, '.myui-info_text&&p,-1&&Text');\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"dt\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\n\\ntry {\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} catch (e) {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getVar(MY_RULE.group, \\\"0\\\")\\nconst cate_temp_json = getVar(MY_RULE.title, JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n\\n    d.push({\\n        title: \\\"🔍\\\",\\n        url: \\\"'hiker://search?rule=\\\" + MY_RULE.title + \\\"&s='+input\\\",\\n        desc: \\\"搜你想看...\\\",\\n        col_type: \\\"input\\\"\\n    });\\n\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #19B89D\\\">: (</span></b>' : '““””<b><span style=\\\"color: #910113\\\">: )</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putVar(MY_RULE.group, fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\ncategories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putVar(MY_RULE.title, JSON.stringify(new_cate))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putVar(MY_RULE.title, JSON.stringify(params.cate_temp))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\\n\"}]","proxy":"","icon":"https://www.yehetang.cc/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","title":"HANABI影院.dr","author":"道长&ssl","version":1,"type":"video","url":"https://www.hanabi.tv/vodshow/2/page/fypage.html","col_type":"movie_3_marquee","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"影视","year_url":"","find_rule":"js:\nvar d = []\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.swiper-wrapper'\nconst 拼接分类 = 'body&&.scroll-content'\nconst 小类定位 = 'body&&a:not(:matches(首|表|更|榜))'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getVar(MY_RULE.url, MY_URL)\nconst page = MY_PAGE\ntrue_url = true_url.replace(/vodtype\\/(.*?)\\.html/,'vodshow/$1.html').replace('.html', '/page/'+page + '.html').replace(/(---\\d+.html)/, page + '$1')\nvar html = request(true_url)\n\neval(JSON.parse(request('hiker://page/dtfl?rule=模板·Q')).rule)\n\nconst list = pdfa(html, '.module-items&&a')\nlist.forEach(video => {\n    d.push({\n        title: pdfh(video, 'a&&title'),\n        desc: pdfh(video, '.module-item-note&&Text'),\n        img: pd(video, 'img&&data-original'),\n        url: pd(video, 'a&&href') + '#immersiveTheme#',\n        col_type: 'movie_3_marquee',\n    })\n})\nsetResult(d);","searchFind":"js:\nrequire(config.自动匹配);\n自动搜索('');","search_url":"hiker://empty##https://www.hanabi.tv/vodsearch**/page/fypage.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.自动匹配);\n//香免();\n//自动二级(lazy);\n自动二级();","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var ua='';\nrequire('https://gitcode.net/qq_32394351/dr/-/raw/master/js/预处理.js');","pages":"[]","proxy":"","icon":"https://www.hanabi.tv/upload/mxprocms/20220731-1/45e594710cfd45a58ebe79636dec727d.png"},{"last_chapter_rule":"","title":"voflix.D🐺","author":"家娃","version":0,"type":"video","url":"hiker://empty##https://www.voflix.com/show/1--------fypage---.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {\n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);\n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.navbar-items'\nconst 拼接分类 = 'body&&.scroll-box'\nconst 小类定位 = 'body&&a:not(:matches(首页|今日更新|写真|APP|热榜))'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getVar(MY_RULE.url, MY_URL)\nconst page = MY_PAGE\nif (getVar(MY_RULE.url)) {\n    true_url = true_url.replace(/type(\\/\\d+)\\.html/, 'show$1-----------.html').replace('---.html', page + '---.html').replace(/(---\\d+.html)/, page + '$1')\n}\n\nvar html = request(true_url)\n\neval(JSON.parse(request('hiker://page/dt')).rule)\n\nvar list = pdfa(html, '.module-items&&.module-item');\nfor (var j in list) {\n    d.push({\n        title: pdfh(list[j], 'img&&alt'),\n        desc: pdfh(list[j], '.module-item-note||.module-item-text&&Text'),\n        pic_url: pd(list[j], '.lazyload&&data-original') + '@Referer=',\n        url: pd(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nsetResult(d);","searchFind":"js:\r\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.module-items&&.module-search-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'img&&alt'),\r\n       desc: parseDomForHtml(list[j], '.video-info-main&&.video-info-items:contains(主演：)&&Text'),\n       content: parseDomForHtml(list[j], '.video-info-main&&.video-info-items:contains(剧情：)&&Text'),\n       img: parseDom(list[j], '.lazyload&&data-src')+'@Referer=',\r\n       url: parseDom(list[j], 'h3&&a&&href')+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","search_url":"https://klyingshi.com/vodsearch/**----------fypage---.html","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = $('').lazyRule(() => {\n\t\t    try {\n\t\t        showLoading(\"正在进行检索，请稍候...\");\n\t\t        var video = 'x5Rule://' + input + '@' + $.toString(() => {\n\t\t            //fba.log(fba.getUrls())\n\t\t            var urls = _getUrls()\n\t\t            var exclude = /playm3u8|m3u8\\.tv|min\\.css|404\\.m3u8|\\.css/;\n\t\t            var contain = /\\.mp4|\\.m3u8|\\.flv|\\.avi|\\.mpeg|\\.wmv|\\.mov|\\.rmvb|\\.dat|qqBFdownload|mime=video%2F|video_mp4/;\n\t\t            for (var i in urls) {\n\t\t                if (!exclude.test(urls[i]) && contain.test(urls[i])) {\n\t\t                    // fy_bridge_app.log(urls[i])\n\t\t                    if (/mgtv|sohu/.test(urls[i])) {\n\t\t                        return urls[i] + \";{User-Agent@Mozilla/5.0 (Windows NT 10.0)}\";\n\t\t                    } else if (/bili/.test(urls[i])) {\n\t\t                        return urls[i] + \";{User-Agent@Mozilla/5.0&&Referer@https://www.bilibili.com}\";\n\t\t                    } else if (/ixigua/.test(urls[i])) {\n\t\t                        return urls[i] + \"#isVideo=true#\" + \"#.mp4;{Referer@https://www.ixigua.com/&&User-Agent@Mozilla/5.0}\";\n\t\t                    } else {\n\t\t                        return urls[i]\n\t\t                    }\n\t\t                }\n\t\t            }\n\t\t        });\n\t\t        return video;\n\t\t    } catch (e) {\n\t\t        //setError(e);\n\t\t        return 'toast://嗅探异常，可能链接无法访问。'\n\t\t    }\n\n\t\t});\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-item');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.module-play-list-content||.module-sorttab');\nvar lists = [];\nfor (var i in conts) {\n    var temp = parseDomForArray(conts[i], 'body&&a:not(:contains(排序))')\n    lists.push(temp)\n}\n\nvar 导演 = parseDomForHtml(html, '.module-info-item:contains(导演：)&&Text');\n\n    var 主演 = parseDomForHtml(html, '.module-info-item:contains(主演：)&&Text');\n\n    var 更新 = parseDomForHtml(html, '.module-info-item:matches(上映：|更新：)&&Text');\n\n    var 状态 = parseDomForHtml(html, '.module-info-item:matches(集数：|备注：)&&Text');\n\n    var 图片 = parseDom(html, '.lazyload&&data-src||data-original');\n\n    var 简介 = parseDomForHtml(html, '.module-info-introduction-content||.video-info-content&&Text').replace('收起', '');\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"dt\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\n\\ntry {\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} catch (e) {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getVar(MY_RULE.group, \\\"0\\\")\\nconst cate_temp_json = getVar(MY_RULE.title, JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n\\n    d.push({\\n        title: \\\"🔍\\\",\\n        url: \\\"'hiker://search?rule=\\\" + MY_RULE.title + \\\"&s='+input\\\",\\n        desc: \\\"搜你想看...\\\",\\n        col_type: \\\"input\\\"\\n    });\\n\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #19B89D\\\">: (</span></b>' : '““””<b><span style=\\\"color: #910113\\\">: )</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putVar(MY_RULE.group, fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\ncategories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putVar(MY_RULE.title, JSON.stringify(new_cate))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putVar(MY_RULE.title, JSON.stringify(params.cate_temp))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\\n\"}]","proxy":"","icon":"https://gmu-download.oss-cn-beijing.aliyuncs.com/MTY1OTQ5MDQ1OTA4MiM3MDkjcG5n.png"},{"last_chapter_rule":"","title":"石榴电影.D🐺","author":"家娃","version":20221114,"type":"video","url":"hiker://empty##https://hei19.com/catalog?column=1&type=&area=&year=&sort=&per_page=72&page=fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {\n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);\n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = 'body&&.filter-list'\nconst 拼接分类 = ''\nconst 小类定位 = 'body&&a'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getVar(MY_RULE.url, MY_URL)\nconst page = MY_PAGE\nif (getVar(MY_RULE.url)) {\n    if (true_url.indexOf('sort=') == -1) {\n        true_url = true_url + '&sort=';\n    }\n    if (true_url.indexOf('page=') == -1) {\n        true_url = true_url + '&page=' + page;\n    }\n}\n\nvar html = request(true_url)\n\nif (html.indexOf('暂无数据') == -1) {\n    eval(JSON.parse(request('hiker://page/dt')).rule)\n    var jsonStr = pdfh(html, '#__NEXT_DATA__&&Html');\n    var json = JSON.parse(jsonStr).props.pageProps.mediaData.data;\n    for (var j in json) {\n        var item = json[j];\n        d.push({\n            title: item.name,\n            desc: item.tag,\n            pic_url: item.cover + '@Referer=',\n            url: 'https://hei19.com/detail/' + item.id + \"#immersiveTheme#\"\n        });\n    }\n    setResult(d);\n}","searchFind":"js:\nvar d = [];\nvar html = getResCode();\nvar jsonStr = pdfh(html, '#__NEXT_DATA__&&Html');\nvar json = JSON.parse(jsonStr).props.pageProps.searchMovieList.data;\nfor (var j in json) {\n    var item = json[j];\n    d.push({\n        title: item.name,\n        desc: item.present,\n        content: item.introduction,\n        img: item.pic + '@Referer=',\n        url: 'https://hei19.com/detail/' + item.id + \"#immersiveTheme#\"\n    });\n}\nsetResult(d);","search_url":"https://hei19.com/search?type=1&keywords=**&page=fypage","group":"视频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar jsonStr = pdfh(html, '#__NEXT_DATA__&&Html');\nvar json = JSON.parse(jsonStr).props.pageProps.videoDetail.videoepisode.data;\nvar videoinfo = JSON.parse(jsonStr).props.pageProps.videoDetail.videoinfo;\n\nvar lazy = $('').lazyRule(() => {\n    try {\n        return input;\n    } catch (e) {\n        setError(e);\n        return 'toast://嗅探异常，可能链接无法访问。'\n    }\n});\n\nvar tabs = [];\ntabs.push('播放列表');\nvar lists = [];\nvar urls = [];\nfor (var i in json) {\n    urls.push('<a href=\"' + json[i].url + '\">' + json[i].episode + '</a>');\n}\nlists.push(urls)\n\nvar 导演 = parseDomForHtml(html, '.video-desc-director&&Text');\n\nvar 主演 = ''; // parseDomForHtml(html, '.module-info-item:contains(主演：)&&Text');\n\nvar 状态 = videoinfo.resolution;\n\nvar 更新 = videoinfo.area + '   ' + videoinfo.type;\n\nvar 图片 = videoinfo.pic + '@Referer=';\n\nvar 简介 = videoinfo.introduction;\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\n\nlet line_model = 8;\nlet line_type_model = 'blank_block';\n\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\n\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"dt\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\n\\ntry {\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} catch (e) {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getVar(MY_RULE.group, \\\"0\\\")\\nconst cate_temp_json = getVar(MY_RULE.title, JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n\\n    d.push({\\n        title: \\\"🔍\\\",\\n        url: \\\"'hiker://search?rule=\\\" + MY_RULE.title + \\\"&s='+input\\\",\\n        desc: \\\"搜你想看...\\\",\\n        col_type: \\\"input\\\"\\n    });\\n\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #19B89D\\\">: (</span></b>' : '““””<b><span style=\\\"color: #910113\\\">: )</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putVar(MY_RULE.group, fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\ncategories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putVar(MY_RULE.title, JSON.stringify(new_cate))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putVar(MY_RULE.title, JSON.stringify(params.cate_temp))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\\n\"}]","proxy":"","icon":"https://www.hei17.com/favicon.ico"},{"last_chapter_rule":"","title":"轻音乐🎶","author":"缘分","version":2,"type":"music","url":"http://m.htqyy.com/fyAll","col_type":"movie_1_left_pic","class_name":"专辑&纯音乐&新世纪&钢琴曲&","class_url":"album&album/index/1&album/index/2&album/index/3&","area_name":"电子乐&背景音乐&铃声&流行&","area_url":"album/index/8&album/index/9&album/index/10&album/index/11&","sort_name":"","year_name":"减压放松&中国音乐&天籁&影视&","sort_url":"","year_url":"album/index/4&album/index/5&album/index/6&album/index/7&","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.list&&li');\nfor (var j in list) {\nvar title = parseDomForHtml(list[j], 'a&&Text');\n    d.push({\n        title: title,\n        desc: parseDomForHtml(list[j], 'em&&Text'),\n        pic_url: parseDom(list[j], 'img&&src') + '@Referer=http://m.htqyy.com/',\n        url: parseDom(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\",\n        extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n    });\n}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html, '.list&&li');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&Text'),\n        desc: parseDomForHtml(list[j], 'em&&Text'),\n        pic_url: parseDom(list[j], 'img&&src') + '@Referer=',\n        url: parseDom(list[j], 'a&&href')+$('').lazyRule(() => {\nvar mp = request(input).match(/format: \"(.*?)\"/)[1]\nvar url =input.replace(/.*?(\\d+)/, 'http://f3.htqyy.com/play9/$1/'+mp+'/6') + '#isMusic=true#'\nreturn url\n}),\n    });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"http://m.htqyy.com/search/result?id=**","group":"音频","detail_col_type":"movie_1_vertical_pic_blur","detail_find_rule":"js:\nvar res = {};\nvar d = []; \nvar html = getResCode();\nlet 传输列表 = []\n    var list = pdfa(html, '.list&&li');\n    let img = pd(html, '.mod&&img&&src');\n    let xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\n    if (xd == false) {\n        for (var j in list) {\n            let first = pdfh(list[0], 'a&&Text');\n            let title = pdfh(list[j], 'a&&Text');\n            let desc = pdfh(list[j], 'em&&Text');          \n            let url = parseDom(list[j], 'a&&href')+$('').lazyRule(() => {\nvar mp = request(input).match(/format: \"(.*?)\"/)[1]\nvar url =input.replace(/.*?(\\d+)/, 'http://f3.htqyy.com/play9/$1/'+mp+'/6') + '#isMusic=true#'\nreturn url\n});\n\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'avatar'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://m.htqyy.com/favicon.ico"},{"last_chapter_rule":"","title":"dj音乐🎶","author":"缘分","version":1,"type":"music","url":"https://www.dj.net/fyclass-fypage.html","col_type":"text_3","class_name":"推荐乐单&慢摇串烧&劲爆串烧&专业串烧&歌曲连版&外文单曲&中文单曲&流行音乐","class_url":"album-all&dj-class-13&dj-class-80&dj-class-82&dj-class-5&dj-class-17&dj-class-84&dj-class-94","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    input = input.replace(/.*?(\\d+)\\.html/, 'https://www.dj.net/template/zhzh_dzmusic/ajax/?action=geturl&id=$1')\n    var json = JSON.parse(request(input)).data\n    //log(json); \n    url = request(input).match(/\"u\":\"(.*?)\"/)[1]\n    urll = request(input).match(/src\":\"(.*?)\"/)[1]\n    return url + urll\n});\ntry {\n    var list = parseDomForArray(getResCode(), '.tbox1_nohits&&.tb_lt&&li');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&title'),\n            desc: parseDomForHtml(list[j], ''),\n            pic_url: '',\n            url: parseDom(list[j], 'a&&href') + lazy\n        });\n    }\n} catch (e) {\n    var lists = parseDomForArray(getResCode(), '.album-list&&li');\n    //log(lists);\n    for (var j in lists) {\n        d.push({\n            title: pdfh(lists[j], 'a&&title'),\n            desc: parseDomForHtml(lists[j], 'dd&&Text'),\n            pic_url: parseDom(lists[j], 'img&&src') + '@Referer=',\n            url: parseDom(lists[j], 'a&&href').replace('1.html', 'fypage.html')+ \"#noLoading##gameTheme##noRefresh##background#\",      \n            col_type: 'movie_1_left_pic',\n            extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n        });\n    }\n}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    input = input.replace(/.*?(\\d+)\\.html/, 'https://www.dj.net/template/zhzh_dzmusic/ajax/?action=geturl&id=$1')\n    var json = JSON.parse(request(input)).data\n    //log(json); \n    url = request(input).match(/\"u\":\"(.*?)\"/)[1]\n    urll = request(input).match(/src\":\"(.*?)\"/)[1]\n    return url + urll\n});\ntry {\n    var list = parseDomForArray(getResCode(), '#Tbs&&.d:has(a)');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text'),\n            desc: parseDomForHtml(list[j], ''),\n            url: parseDom(list[j], 'a&&href') + lazy\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.dj.net/search.php?mod=music&formhash=8c964e8a&srchtxt=**&searchsubmit=yes&page=fypage;get;GBK;{User-Agent@Windows&&Cookie@id}","group":"音频","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    input = input.replace(/.*?(\\d+)\\.html/, 'https://www.dj.net/template/zhzh_dzmusic/ajax/?action=geturl&id=$1')\n    var json = JSON.parse(request(input)).data\n    //log(json); \n    url = request(input).match(/\"u\":\"(.*?)\"/)[1]\n    urll = request(input).match(/src\":\"(.*?)\"/)[1]\n    return url + urll\n});\nlet 传输列表 = []\nlet list = pdfa(getResCode(), '.song-list&&li');\nlet img = pd(getResCode(), '.t-i&&img&&src');\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\n    for (var j in list) {\n        let first = pdfh(list[0], 'a&&Text');\n        let title = pdfh(list[j], 'a&&Text');\n        let desc = pdfh(list[j], '');      \n        let url = pd(list[j], 'a&&href') + lazy;\n        /* 快速告诉x5列表样式，很重要 */\n        let col_type = 'text_1'\n        putVar('样式', col_type)\n        putVar('选中颜色', '#3CE68E');\n        if (col_type == 'text_1')\n            xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        else\n            xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        d.push({\n            title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n            desc: desc,\n            img: img,\n            col_type: col_type,\n            url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n                if (getVar('索引') != title) {\n                    refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                    updateItem(getVar('索引', first), {\n                        title: getVar('索引', first)\n                    })\n                    updateItem(title, {\n                        title: xy\n                    })\n                    putVar('索引', title)\n                } else {\n                    return 'download://' + getVar('播放链接');\n                }\n                return 'hiker://empty';\n            }, title, first, xy),\n            extra: {\n                id: title\n            },\n        });\n\n        传输列表.push({\n            封面: img,\n            曲名: title,\n            歌手: desc,\n            地址: url,\n        })\n    }\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://www.dj.net/favicon.ico"},{"last_chapter_rule":"","title":"宝贝DJ🎶","author":"缘分","version":2,"type":"music","url":"http://www.bbdj.com/fyAllfypage.html","col_type":"card_pic_3","class_name":"热门专辑&DJ专辑&慢歌连版&串烧舞曲&华语Remix&外语Remix&","class_url":"/hot/list-0-&/djshow/i&html/list/100_0_0_0_0_&/html/list/2_0_0_0_0_&/html/list/4_0_0_0_0_&/html/list/101_0_0_0_0_&","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\neval(JSON.parse(request('hiker://page/lazy')).rule);\ntry {\n    var list = parseDomForArray(getResCode(), '.list_musiclist||.remix_list_ct&&ul||.remixbg||tr,1:');\n    //log(list);\n    for (var j in list) {\nlet title = pdfh(list[j], 'h4||h2||a&&Text');\n        d.push({\n            title: title,\n            pic_url: parseDom(list[j], 'img&&src'),\n            url: MY_URL.indexOf('/hot/list-0-') > -1 ? MY_HOME + parseDomForHtml(list[j], 'a&&href').replace('1.html', 'fypage.html')+ \"#noLoading##gameTheme##noRefresh##background#\" : MY_URL.indexOf('/djshow/i') > -1 ? MY_HOME + parseDomForHtml(list[j], 'a&&href').replace('.html', '-0-fypage.html')+ \"#noLoading##gameTheme##noRefresh##background#\" : parseDom(list[j], 'a&&href') + lazy,\n            col_type: MY_URL.indexOf('/hot/list-0-') > -1 ? 'card_pic_3' : MY_URL.indexOf('/djshow/i') > -1 ? 'movie_2' : 'text_1',\n            extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\neval(JSON.parse(request('hiker://page/lazy')).rule);\ntry {\n    var list = parseDomForArray(getResCode(), '.list_musiclist&&tr,1:');\n    for (var j in list) {\n        d.push({\n            title: '‘‘' + parseDomForHtml(list[j], 'a&&title'),\n            desc: parseDomForHtml(list[j], 'td&&Text'),\n            url: parseDom(list[j], 'a&&href') + lazy\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.bbdj.com/search/so?skeys=**&classid=0&specialid=0&qlid=0&byid=0&xkeys=&lx=1&page=fypage","group":"音频","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\neval(JSON.parse(request('hiker://page/lazy')).rule);\nlet 传输列表 = []\n\nlet list = pdfa(getResCode(), '.list_musiclist_hot||.list_musiclist&&tr,1:');\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\n    for (var j in list) {\n        let first = pdfh(list[0], 'a&&title');\n        let title = pdfh(list[j], 'a&&title');\n        let desc = pdfh(list[j], 'td&&Text');\n        let img = pd(getResCode(), '.djtx&&img&&src');\n        let url = pd(list[j], 'a&&href') + lazy;\n        /* 快速告诉x5列表样式，很重要 */\n        let col_type = 'text_1'\n        putVar('样式', col_type)\n        putVar('选中颜色', '#3CE68E');\n        if (col_type == 'text_1')\n            xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        else\n            xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        d.push({\n            title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n            desc: desc,\n            img: img,\n            col_type: col_type,\n            url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n                if (getVar('索引') != title) {\n                    refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                    updateItem(getVar('索引', first), {\n                        title: getVar('索引', first)\n                    })\n                    updateItem(title, {\n                        title: xy\n                    })\n                    putVar('索引', title)\n                } else {\n                    return 'download://' + getVar('播放链接');\n                }\n                return 'hiker://empty';\n            }, title, first, xy),\n            extra: {\n                id: title\n            },\n        });\n\n        传输列表.push({\n            封面: img,\n            曲名: title,\n            歌手: desc,\n            地址: url,\n        })\n    }\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态解析\",\"path\":\"lazy\",\"rule\":\"var lazy = $('').lazyRule(() => {\\n  var html = request(input)\\nfunction DeCode() {\\n  this.OO0O00OO00OO = function (_0x293ce2, _0x5e62b7) {\\n    return _0x5e62b7 > 0 ? _0x293ce2.substring(0, _0x5e62b7) : null;\\n  };\\n\\n  this.OO00OO0O00O0 = function (_0x5a72a3, _0x29f61f) {\\n    return _0x5a72a3.length - _0x29f61f >= 0 && _0x5a72a3.length >= 0 && _0x5a72a3.length - _0x29f61f <= _0x5a72a3.length ? _0x5a72a3.substring(_0x5a72a3.length - _0x29f61f, _0x5a72a3.length) : null;\\n  };\\n\\n  this.O0000OO0OO00O0 = function (_0x146848, _0x14bbd9) {\\n\\n\\n    var _0x2f7c74 = \\\"\\\";\\n\\n    for (_0x141578 = 0; _0x141578 < _0x14bbd9.length; _0x141578++) {\\n      _0x2f7c74 += _0x14bbd9.charCodeAt(_0x141578).toString();\\n    }\\n\\n    for (_0x3a3750 = Math.floor(_0x2f7c74.length / 5), _0x26f55f = parseInt(_0x2f7c74.charAt(_0x3a3750) + _0x2f7c74.charAt(2 * _0x3a3750) + _0x2f7c74.charAt(3 * _0x3a3750) + _0x2f7c74.charAt(4 * _0x3a3750) + _0x2f7c74.charAt(5 * _0x3a3750)), _0x369614 = Math.round(_0x14bbd9.length / 2), _0x3f52ad = Math.pow(2, 31) - 1, _0x3b8bfd = parseInt(_0x146848.substring(_0x146848.length - 8, _0x146848.length), 16), _0x146848 = _0x146848.substring(0, _0x146848.length - 8), _0x2f7c74 += _0x3b8bfd; _0x2f7c74.length > 10;) {\\n      _0x2f7c74 = (parseInt(_0x2f7c74.substring(0, 10)) + parseInt(_0x2f7c74.substring(10, _0x2f7c74.length))).toString();\\n    }\\n\\n    for (_0x2f7c74 = (_0x26f55f * _0x2f7c74 + _0x369614) % _0x3f52ad, _0x43532f = \\\"\\\", _0x1df3b9 = \\\"\\\", _0x141578 = 0; _0x141578 < _0x146848.length; _0x141578 += 2) {\\n      _0x43532f = parseInt(parseInt(_0x146848.substring(_0x141578, _0x141578 + 2), 16) ^ Math.floor(255 * (_0x2f7c74 / _0x3f52ad)));\\n      _0x1df3b9 += String.fromCharCode(_0x43532f);\\n      _0x2f7c74 = (_0x26f55f * _0x2f7c74 + _0x369614) % _0x3f52ad;\\n    }\\n\\n    return _0x1df3b9;\\n  };\\n\\n  this.O0000OO0OO00O = function (_0x533a57, _0x3e7331, _0x36f6c3) {\\n    return _0x533a57.length >= 0 ? _0x533a57.substr(_0x3e7331, _0x36f6c3) : null;\\n  };\\n\\n  this.O0O000000O0O0 = function (_0x448af7) {\\n    return _0x448af7.length;\\n  };\\n\\n  this.O000O0OO0O0OO = function (_0x261f17, _0x35d002) {\\n\\n\\n    var _0x3fd6fa = _0x35d002;\\n\\n    var _0x243e5e = this.O0O000000O0O0(_0x3fd6fa);\\n\\n    var _0x59b6fa = _0x243e5e;\\n\\n    var _0x5347b7 = new Array();\\n\\n    var _0x1bacf4 = new Array();\\n\\n    for (_0x1f10fb = 1; _0x243e5e >= _0x1f10fb; _0x1f10fb++) {\\n      _0x5347b7[_0x1f10fb] = this.O0000OO0OO00O(_0x3fd6fa, _0x1f10fb - 1, 1).charCodeAt(0);\\n      _0x1bacf4[_0x59b6fa] = _0x5347b7[_0x1f10fb];\\n      _0x59b6fa -= 1;\\n    }\\n\\n    for (_0x1f4b91 = \\\"\\\", _0x2b064e = _0x261f17, _0x1f476c = this.OO0O00OO00OO(_0x2b064e, 2), _0x2b064e = this.OO00OO0O00O0(_0x2b064e, this.O0O000000O0O0(_0x2b064e) - 2), _0x1f10fb = 0; _0x1f10fb < this.O0O000000O0O0(_0x2b064e); _0x1f10fb += 4) {\\n      _0x2d0911 = this.O0000OO0OO00O(_0x2b064e, _0x1f10fb, 4);\\n      \\\"\\\" != _0x2d0911 && (_0x35d002 = this.OO0O00OO00OO(_0x2d0911, 1), _0xbe4851 = (parseInt(this.OO00OO0O00O0(_0x2d0911, 3)) - 100) / 3, _0x1f476c == this.O0000OO0OO00O0(\\\"a9ab044c634a\\\", \\\"O0000OO0OO00O\\\") ? (_0x61150f = 2 * parseInt(_0x35d002.charCodeAt(0)), _0x5b6e4e = parseInt(_0x5347b7[_0xbe4851]), _0x5b2182 = _0x61150f - _0x5b6e4e, _0x1f4b91 += String.fromCharCode(_0x5b2182)) : (_0x61150f = 2 * parseInt(_0x35d002.charCodeAt(0)), _0x5b6e4e = parseInt(_0x1bacf4[_0xbe4851]), _0x5b2182 = _0x61150f - _0x5b6e4e, _0x1f4b91 += String.fromCharCode(_0x5b2182)));\\n    }\\n\\n    return _0x1f4b91;\\n  };\\n}\\n  eval(pdfh(html,'.play_ct&&script&&Html'))\\n    return playurl2+'#isMusic=true#'\\n})\"}]","proxy":"","icon":"http://www.bbdj.com/favicon.ico"},{"last_chapter_rule":"","title":"听蛙🎶","author":"缘分","version":1,"type":"music","url":"https://www.itingwa.com/fyAllfypage","col_type":"movie_1_left_pic","class_name":"所有专辑&精选专辑&自建专辑&发行专辑","class_url":"album/index?p=&album/choice?p=&album/collection?p=&album/issue?p=","area_name":"精选电台&最新电台&精选单曲&最新单曲&","area_url":"radio/choice/&radio/news/&music/&new_music/&","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar rule=$('').rule(()=>{\nvar d = [];\nvar html =getResCode();\nfor (var b = 0; b < 3; b++) {\nd.push({\n    col_type: 'big_blank_block'\n})\n}\nif (getVar('pd') == '') {\n    d.push({\n        title: pdfh(html, 'h1&&Text').replace('','点击播放 ').fontcolor(\"red\"),\n        pic_url: pd(html, '.music_intro&&img&&src') + '@Referer=',\n        url: pd(html, '#tw_player&&init-data') + '#noHistory#@lazyRule=.js:putVar2(\"pd\",input);refreshPage();\"toast://正在加载播放！\";',\ncol_type: 'avatar'\n    });\n} else {\n    d.push({\n        desc: 'auto',\n        url: getVar('pd'),\n        col_type: 'x5_webview_single'\n    });\n    putVar2('pd', '');\n}\n   d.push({\n    title: parseDom(html, '.song_info&&Html').replace(/\\<script[\\S\\s]*?<\\/script\\>/g, '').replace(/&nbsp;/g, ''),\n    col_type: 'rich_text'\n});   \nd.push({\n    title: parseDom(html, '.music_intro&&Html').replace(/src=\\\"/g,'src=\"https://www.itingwa.com'),\n    col_type: 'rich_text'\n});   \nsetResult(d);\n});\ntry {\n    var list = pdfa(getResCode(), '.album_items||.lt_frame&&dl||li');\n//log(list);\n    for (var j in list) {\nlet title = pdfh(list[j], 'a,1&&Text');\n        d.push({\n            title: title,\n            desc: pdfh(list[j], '.top_10&&Text'),\n            pic_url: pd(list[j], 'img,1||img&&src') + '@Referer=',\n            url: MY_URL.indexOf('album') > -1 ? pd(list[j], 'a&&href')+ \"#noLoading##gameTheme##noRefresh##background#\" :pd(list[j], 'a,1&&href')+rule,\ncol_type: MY_URL.indexOf('album') > -1 ?'card_pic_3':'',\n           extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), 'tbody&&tr');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text'),\n            desc: pdfh(list[j], 'a,1&&Text'),\n            pic_url: pd(list[j], 'img&&src') + '@Referer=',\n            url: pd(list[j], 'a&&href') + $('').lazyRule(() => {\n                var url = pdfh(request(input), '#tw_player&&init-data')\n                return url\n            })\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://so.itingwa.com/?c=index&k=**&t=1&p=fypage","group":"音频","detail_col_type":"icon_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nlet 传输列表 = []\n\nlet list = pdfa(getResCode(), '#album_music_items&&li');\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\n    for (var j in list) {\n        let first = pdfh(list[0], 'a,1&&Text');\n        let title = pdfh(list[j], 'a,1&&Text');\n        let desc = pdfh(list[j], '.data_wrap&&Text');\n        let img = pd(list[j], 'img&&src');\n        let url = pd(list[j], 'a,1&&href') + $('').lazyRule(() => {\n                var url = pdfh(request(input), '#tw_player&&init-data')\n                return url\n            });\n        /* 快速告诉x5列表样式，很重要 */\n        let col_type = 'avatar'\n        putVar('样式', col_type)\n        putVar('选中颜色', '#3CE68E');\n        if (col_type == 'text_1')\n            xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        else\n            xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        d.push({\n            title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n            desc: desc,\n            img: img,\n            col_type: col_type,\n            url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n                if (getVar('索引') != title) {\n                    refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                    updateItem(getVar('索引', first), {\n                        title: getVar('索引', first)\n                    })\n                    updateItem(title, {\n                        title: xy\n                    })\n                    putVar('索引', title)\n                } else {\n                    return 'download://' + getVar('播放链接');\n                }\n                return 'hiker://empty';\n            }, title, first, xy),\n            extra: {\n                id: title\n            },\n        });\n\n        传输列表.push({\n            封面: img,\n            曲名: title,\n            歌手: desc,\n            地址: url,\n        })\n    }\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://static.itingwa.com/img/common/favicon.ico?2019"},{"last_chapter_rule":"","title":"云音乐","author":"缘分","version":20221107,"type":"music","url":"hiker://empty##fypage@-1@*30@#noLoading#","col_type":"card_pic_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\npage = getUrl().split(\"#\")[2]\nif (page == 0) {\n\n    let tabs = {\n        \"MV\": \"https://lanmeiguojiang.com/tubiao/q/169.png\",\n        \"歌单\": \"https://lanmeiguojiang.com/tubiao/q/167.png\",\n        \"排行榜\": \"https://lanmeiguojiang.com/tubiao/q/168.png\"\n    }\n    let yy = Object.entries(tabs)[0][0];\n\n    Object.entries(tabs).forEach(item => {\n      /*  putMyVar('选中颜色', '#3CE68E');\n        xy = '<b><font color=' + getMyVar('选中颜色') + '>' + item[0] + '</font></b>';*/\n        d.push({\n            title: item[0] == getMyVar('mode', 'MV')&& page == 00  ? '<b><span style=\"color: #19B89D\">'+item[0]+'</span></b>' : item[0],\n            img: item[1],\n            url: $().lazyRule((ta) => {\n                putMyVar(\"mode\", ta)\n                refreshPage()\n                return \"hiker://empty\"\n            }, item[0]),\n            col_type: \"icon_small_3\"\n        })\n    })\n}\n\nlet mode = getMyVar(\"mode\", \"MV\")\nif (mode == \"MV\") {\n    var html = request('http://121.4.78.106:4001/mv/all?offset=' + page);\n\n    var list = JSON.parse(html).data;\n    for (var j in list) {\n        d.push({\n            title: list[j].name,\n            pic_url: list[j].cover + '@Referer=',\n            url: 'http://121.4.78.106:4001/mv/url?id=' + list[j].id + $('').lazyRule(() => {\n                var url = JSON.parse(request(input)).data.url\n                return url;\n            }),\n            col_type: 'movie_2',\n        });\n    }\n} else if (mode == \"歌单\") {\n    var html = request('http://121.4.78.106:4001/personalized');\n    var list = JSON.parse(html).result;\n    for (var j in list) {\n        let title = list[j].name;\n        d.push({\n            title: title,\n            pic_url: list[j].picUrl,\n            url: 'http://121.4.78.106:4001/playlist/detail?id=' + list[j].id + '#noRefresh##gameTheme##background#' + $('').rule(() => {\n                eval(JSON.parse(fetch('hiker://page/gd')).rule);\n            }),\n            extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n        });\n    }\n\n} else if (mode == \"排行榜\") {\n    var html = request('http://121.4.78.106:4001/toplist');\n    var list = JSON.parse(html).list;\n    for (var j in list) {\n        let title = list[j].name;\n        d.push({\n            title: title,\n            pic_url: list[j].coverImgUrl,\n            url: 'http://121.4.78.106:4001/playlist/detail?id=' + list[j].id + '#noRefresh##gameTheme##background##noLoading#' + $('').rule(() => {\n                eval(JSON.parse(fetch('hiker://page/phxq')).rule);\n            }),\n            extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n        });\n    }\n}\nsetResult(d)\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar d = [];\nvar html = getResCode();\nvar list = JSON.parse(html).result.songs;\nfor (var j in list) {\nvar play = 'http://music.163.com/api/song/detail/?id=' + list[j].id + '&ids=%5B' + list[j].id + '%5D';\n    var pic = request(play).match(/blurPicUrl\":\"(http.*?jpg)/)[1]\n    d.push({\n        title: list[j].name,\n        desc: list[j].ar[0].name,\n        img: pic,\n        url: 'http://121.4.78.106:4001/song/url?id='+list[j].id+$('').lazyRule(() => {\nvar url = JSON.parse(request(input)).data[0].url\ninput = input.replace('song/url','lyric')\nvar lrc = JSON.parse(request(input)).lrc.lyric\n\nreturn JSON.stringify({\n                    urls: [url],\n                    lyric: lrc\n                })\n}),\n    });\n}\nsetResult(d)","search_url":"http://121.4.78.106:4001/search?keywords=**","group":"音频","detail_col_type":"card_pic_3","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"card_pic_3\",\"name\":\"歌单\",\"path\":\"yj\",\"rule\":\"js:\\nvar d = [];\\nvar html = request('http://121.4.78.106:4001/personalized');\\n\\n\\n\\nd.push({\\n        col_type: 'blank_block'\\n    });\\nvar list = JSON.parse(html).result;\\nfor (var j in list) {\\n    d.push({\\n        title: list[j].name,\\n        pic_url: list[j].picUrl,\\n        url: 'http://121.4.78.106:4001/playlist/detail?id='+list[j].id+$('').rule(() => {\\neval(JSON.parse(fetch('hiker://page/gd')).rule);\\n})\\n    });\\n}\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"gd\",\"path\":\"gd\",\"rule\":\"js:\\nvar d = [];\\nvar html = getResCode();\\nlet 传输列表 = []\\nlet list = JSON.parse(html).playlist.tracks;\\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\\nif (xd == false) {\\n    for (let j = 0; j < list.length; j++) {\\n        let title = list[j].name;\\n        let first = list[0].name;\\n        let desc = list[j].ar[0].name;\\n        let img = list[j].al.picUrl;\\n        let url = 'http://121.4.78.106:4001/song/url?id=' + list[j].id + $('').lazyRule(() => {\\n            var url = JSON.parse(request(input)).data[0].url\\n            return url + '#isMusic=true#';\\n        });\\n        /* 快速告诉x5列表样式，很重要 */\\n        let col_type = 'avatar'\\n        putVar('样式', col_type)\\n        putVar('选中颜色', '#3CE68E');\\n        if (col_type == 'text_1')\\n            xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\\n        else\\n            xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\\n        d.push({\\n            title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\\n            desc: desc,\\n            img: img,\\n            col_type: col_type,\\n            url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\\n                if (getVar('索引') != title) {\\n                    refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\\n                    updateItem(getVar('索引', first), {\\n                        title: getVar('索引', first)\\n                    })\\n                    updateItem(title, {\\n                        title: xy\\n                    })\\n                    putVar('索引', title)\\n                } else {\\n                    return 'download://' + getVar('播放链接');\\n                }\\n                return 'hiker://empty';\\n            }, title, first, xy),\\n            extra: {\\n                id: title\\n            },\\n        });\\n\\n        传输列表.push({\\n            封面: img,\\n            曲名: title,\\n            歌手: desc,\\n            地址: url,\\n        })\\n    }\\n\\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\\n    storage0.putVar('缓存数据', 传输列表)\\n    storage0.putVar('数据校对', list)\\n}\\naddListener('onClose', $.toString(() => {\\n    clearVar('样式');\\n    clearVar('索引');\\n    clearVar('播放链接');\\n    clearVar('数据校对');\\n    clearVar('缓存数据');\\n}))\\n传输列表 = storage0.getVar('缓存数据')\\nputVar('音乐数据', JSON.stringify(传输列表))\\nif (MY_PAGE == 1) {\\n    d.push({\\n        col_type: 'x5_webview_single',\\n        desc: '300&&float',\\n        extra: {\\n            ua: MOBILE_UA,\\n            autoPlay: true\\n        },\\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\\n    });\\n}\\n\\n\\nsetResult(d)\"},{\"col_type\":\"card_pic_3\",\"name\":\"排行榜\",\"path\":\"ph\",\"rule\":\"js:\\nvar d = [];\\nvar html = request('http://121.4.78.106:4001/toplist');\\n\\nd.push({\\n        title: '排行榜',\\n        pic_url: 'http://pp.myapp.com/ma_icon/0/icon_1168851_1660565782/256',\\n        url: 'hiker://empty',\\ncol_type: 'icon_small_3',\\n        \\n    });\\n\\nd.push({\\n        col_type: 'blank_block'\\n    });\\nvar list = JSON.parse(html).list;\\nfor (var j in list) {\\n    d.push({\\n        title: list[j].name,\\n        pic_url: list[j].coverImgUrl,\\n        url: 'http://121.4.78.106:4001/playlist/detail?id='+list[j].id+$('').rule(() => {\\neval(JSON.parse(fetch('hiker://page/phxq')).rule);\\n})\\n    });\\n}\\nsetResult(d)\"},{\"col_type\":\"text_2\",\"name\":\"phxq\",\"path\":\"phxq\",\"rule\":\"js:\\nvar d = [];\\nvar html = getResCode();\\nvar list = JSON.parse(html).playlist.tracks;\\n\\nlet 传输列表 = []\\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\\nif (xd == false) {\\nfor (let j = 0; j < list.length; j++) {   \\n    let title = list[j].name;\\n    let first = list[0].name;\\n    let desc = list[j].ar[0].name;\\n    let img = list[j].al.picUrl;\\n    let url = 'http://121.4.78.106:4001/song/url?id=' + list[j].id + $('').lazyRule(() => {\\n        var url = JSON.parse(request(input)).data[0].url\\n        return url + '#isMusic=true#';\\n    });\\n    /* 快速告诉x5列表样式，很重要 */\\n    let col_type = 'avatar'\\n    putVar('样式', col_type)\\n    putVar('选中颜色', '#3CE68E');\\n    if (col_type == 'text_1')\\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\\n    else\\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\\n    d.push({\\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\\n        desc: desc,\\n        img: img,\\n        col_type: col_type,\\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\\n            if (getVar('索引') != title) {\\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\\n                updateItem(getVar('索引', first), {\\n                    title: getVar('索引', first)\\n                })\\n                updateItem(title, {\\n                    title: xy\\n                })\\n                putVar('索引', title)\\n            } else {\\n                return 'download://' + getVar('播放链接');\\n            }\\n            return 'hiker://empty';\\n        }, title, first, xy),\\n        extra: {\\n            id: title\\n        },\\n    });\\n\\n    传输列表.push({\\n        封面: img,\\n        曲名: title,\\n        歌手: desc,\\n        地址: url,\\n    })\\n}\\n\\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\\n    storage0.putVar('缓存数据', 传输列表)\\n    storage0.putVar('数据校对', list)\\n}\\naddListener('onClose', $.toString(() => {\\n    clearVar('样式');\\n    clearVar('索引');\\n    clearVar('播放链接');\\n    clearVar('数据校对');\\n    clearVar('缓存数据');\\n}))\\n传输列表 = storage0.getVar('缓存数据')\\nputVar('音乐数据', JSON.stringify(传输列表))\\nif (MY_PAGE == 1) {\\n    d.push({\\n        col_type: 'x5_webview_single',\\n        desc: '300&&float',\\n        extra: {\\n            ua: MOBILE_UA,\\n            autoPlay: true\\n        },\\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\\n    });\\n}\\n\\nsetResult(d)\"}]","proxy":"","icon":"https://pp.myapp.com/ma_icon/0/icon_1168851_1661482599/256"},{"last_chapter_rule":"","title":"百乐米","author":"缘分","version":20221107,"type":"music","url":"https://bailemi.com/fyclassfypage","col_type":"card_pic_3","class_name":"歌曲&歌单&歌手&","class_url":"song/id_1_&dance/songsheet/search?=＆＆page=&index.php/singer/search?=＆＆page=&","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\n    inputs = input.replace(/http.*p(\\d+)\\.html/, 'https://bailemi.com/dance/Playsong/data?id=$1')\n    var url = request(inputs, {\n        headers: {\n            'Referer': MY_URL\n        }\n    }).match(/url\":\"(.*?)\"/)[1]\n    var url = url.replace(/\\\\/g, '')\ntry {\n    var title = pdfh(request(input),'.ss_track_info_innr&&h2&&Text');\n    var lrc = pd(request('http://zhannei.baidu.com/cse/search?q='+title+'&s=2237976389678693530&entry=1'),'a&&href')\n    var lrc = 'https://www.igeciku.com'+pdfh(request(lrc),'.download&&a&&href').replace('txt','lrc')\n\nreturn JSON.stringify({\n                    urls: [url+'#isMusic=true#'],\n                    lyric: lrc,\n                })} catch (e) {\nreturn url+'#isMusic=true#'\n}\n})\ntry {\n    var list = pdfa(getResCode(), '.s_list_songs||.sq_track_slider||#artists_search_result&&.list-recommended||.track||.artist_list');\n    for (var j in list) {\n        let title = pdfh(list[j], 'a&&title')\n        d.push({\n            title: title,\n            desc: pdfh(list[j], 'a,1&&Text'),\n            pic_url: pd(list[j], 'img&&src') ,\n            url: MY_URL.indexOf('dance') > -1 ? pd(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\" : MY_URL.indexOf('search') > -1 ? pd(list[j], 'a&&href').replace('show', 'music/id') + '/fypage' + \"#noLoading##gameTheme##noRefresh##background#\" : pd(list[j], 'a&&href') + lazy,\n            extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\nvar lazy=$('').lazyRule(() => {\ninputs=input.replace(/http.*p(\\d+)\\.html/,'https://bailemi.com/dance/Playsong/data?id=$1')\nvar url=request(inputs,{headers: {\n                'Referer': 'https://bailemi.com/'\n            }}).match(/url\":\"(.*?)\"/)[1]\nvar url=url.replace(/\\\\/g,'')\ntry {\n    var title = pdfh(request(input),'.ss_track_info_innr&&h2&&Text');\n    var lrc = pd(request('http://zhannei.baidu.com/cse/search?q='+title+'&s=2237976389678693530&entry=1'),'a&&href')\n    var lrc = 'https://www.igeciku.com'+pdfh(request(lrc),'.download&&a&&href').replace('txt','lrc')\n\nreturn JSON.stringify({\n                    urls: [url+'#isMusic=true#'],\n                    lyric: lrc,\n                })} catch (e) {\nreturn url+'#isMusic=true#'\n}\n})\ntry {\n    var list = pdfa(getResCode(), '.s_list_songs&&.s_lsongs_child');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            desc: pdfh(list[j], 'a,1&&Text'),\n            pic_url: pd(list[j], 'img&&src') + '@Referer=',\n            url: pd(list[j], 'a&&href') + lazy\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://bailemi.com/dance/search?key=**&page=fypage","group":"音频","detail_col_type":"icon_2","detail_find_rule":"js:\nvar d = [];\n\nvar lazy = $('').lazyRule(() => {\n    input = input.replace(/http.*p(\\d+)\\.html/, 'https://bailemi.com/dance/Playsong/data?id=$1')\n    var url = request(input, {\n        headers: {\n            'Referer': MY_URL\n        }\n    }).match(/url\":\"(.*?)\"/)[1]\n    //log(url);\n    return url+'#isMusic=true#'\n})\nlet 传输列表 = []\nvar list = pdfa(getResCode(), '#topic_list||.s_list_songs&&tr:not(:matches(全选))||.s_lsongs_child');\n\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (var j in list) {\n    let title = pdfh(list[j], 'a&&title');\n    let first = pdfh(list[0], 'a&&title');\n    let desc = pdfh(list[j], '.lazyload&&Text');\n    let url = pd(list[j], 'a&&href') + lazy;\n    let img = pd(getResCode(), '.al_art_img||.play-img&&style||src');\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'text_1'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://bailemi.com/favicon.ico"},{"last_chapter_rule":"","title":"爱音人","author":"缘分","version":20221107,"type":"music","url":"http://www.iyinren.com/list/fyAll/fypage/","col_type":"text_1","class_name":"专 辑&歌 手&好 歌&新 歌&","class_url":"2&1&13&5&","area_name":"古典乐&电子乐&钢琴曲&影视原声&乡村民谣&胎教音乐&天籁之声&手机铃声&新世纪&催眠曲&","area_url":"14&15&16&17&18&19&20&21&22&23&","sort_name":"","year_name":"人气排行&推荐排行&好评排行&收藏排行&下载排行&免费排行","sort_url":"","year_url":"6&7&8&10&11&12","find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\n    var url = pdfh(request(input), '.page&&script&&Html').split(\"|\")[4] + '.mp3'\n    var id = pdfh(request(input), '.page&&script&&Html').split(\"|\")[0].match(/.*?\"(\\d+)/)[1]\n    var lrc = request('http://www.iyinren.com/lrc/' + id + '.js').match(/song_Lrc.*?= \"(.*)\"/)[1].replace(/\\[/g, '\\n[')\n    return JSON.stringify({\n        urls: [url],\n        lyric: lrc\n    })\n});\ntry {\n    var list = pdfa(getResCode(), '.musicList||.pubList&&li');\n    for (var j in list) {\n        let title = pdfh(list[j], 'strong&&Text');\n        d.push({\n            title: title,\n            desc: pdfh(list[j], 'em&&Text'),\n            pic_url: pd(list[j], 'img&&src'),\n            url: MY_URL.indexOf('list/1/') > -1 ? pd(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\" : MY_URL.indexOf('list/2/') > -1 ? pd(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\" : pd(list[j], 'a&&href') + lazy,\n            extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            },\n            col_type: MY_URL.indexOf('list/1/') > -1 ? 'icon_round_4' : MY_URL.indexOf('list/2/') > -1 ? 'movie_1_left_pic' : '',\n\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\n    var url = pdfh(request(input), '.page&&script&&Html').split(\"|\")[4] + '.mp3'\n    var id = pdfh(request(input), '.page&&script&&Html').split(\"|\")[0].match(/.*?\"(\\d+)/)[1]\n    var lrc = request('http://www.iyinren.com/lrc/' + id + '.js').match(/song_Lrc.*?= \"(.*)\"/)[1].replace(/\\[/g, '\\n[')\n    return JSON.stringify({\n        urls: [url],\n        lyric: lrc\n    })\n});\ntry {\n    var list = pdfa(getResCode(), '.musicList&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text'),\n            desc: pdfh(list[j], 'em&&Text'),\n            url: pd(list[j], 'a&&href') + lazy\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.iyinren.com/search.php?action=keyword&key=**&pages=fypage","group":"音频","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = []; \nlet 传输列表 = []\n let list = pdfa(getResCode(), '.musicList&&li');  \n\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (var j in list) {\n    let first = pdfh(list[0], 'a&&Text');\n    let title = pdfh(list[j], 'a&&Text');   \n    let desc = pdfh(list[j], 'em&&Text');\n    let img = pd(getResCode(), '#singerPic&&src');\n    let url = pd(list[j], '.t-n&&Text').split(\"|\")[4]+'.mp3';\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'avatar'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://www.iyinren.com/favicon.ico"},{"last_chapter_rule":"","title":"5SING歌单","author":"缘分","version":20221107,"type":"music","url":"http://5sing.kugou.com/gd/gdList?&tagName=fyAll&page=fypage&type=0","col_type":"card_pic_3","class_name":"全部\n&流行&爵士&小清新&轻音乐&中国风&摇滚&DJ&古风&武侠&钢琴曲&广场舞&民谣&乡村","class_url":"&流行&爵士&小清新&轻音乐&中国风&摇滚&DJ&古风&武侠&钢琴曲&广场舞&民谣&乡村","area_name":"感动&寂寞&安静&温暖&浪漫&治愈&伤感&想念&激情&喜悦&失恋&怀念","area_url":"感动&寂寞&安静&温暖&浪漫&治愈&伤感&想念&激情&喜悦&失恋&怀念","sort_name":"原创&翻唱&毕业&情歌&经典&怀旧&爱情&励志&儿歌&影视&男女对唱&歌词控&动漫","year_name":"华语&欧美&日语&韩语&俄语&法语&德语&粤语&闽南语&方言&西班牙语&其它","sort_url":"原创&翻唱&毕业&情歌&经典&怀旧&爱情&励志&儿歌&影视&男女对唱&歌词控&动漫","year_url":"华语&欧美&日语&韩语&俄语&法语&德语&粤语&闽南语&方言&西班牙语&其它","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.lbox&&li');\nfor (var j in list) {\nlet title = parseDomForHtml(list[j], 'img&&alt');\n    d.push({\n        title: title,\n        desc: parseDomForHtml(list[j], ''),\n        pic_url: parseDom(list[j], 'img&&src') + '@Referer=',\n        url: parseDom(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\",\n        extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n    });\n}\nsetResult(d);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\n var json = {};\n eval('json=' + getResCode());\n var res = {};\nvar name = MY_URL.split(\"=\")[1].split(\"&\")[0]\n var lazy = $(\"\").lazyRule((name) => {\n     inputs = input.replace(/.*com\\/(.*?)\\/(\\d+)\\..*/, 'http://service.5sing.kugou.com/song/getsongurl?songtype=$1&songid=$2')\n     var json = JSON.parse(request(inputs)).data\n     if (json.hqurl) {\n         url = json.hqurl\n     } else if (json.lqurl) {\n         url = json.lqurl\n     } else if (json.squrl) {\n         url = json.squrl\n     }\ntry {\nvar lrc = pd(request('http://zhannei.baidu.com/cse/search?q='+name+'&s=2237976389678693530&entry=1'),'a&&href') \nvar lrc = 'https://www.igeciku.com'+pdfh(request(lrc),'.download&&a&&href').replace('txt','lrc')\n     return JSON.stringify({\n                    urls: [url+'#isMusic=true#'],\n                    lyric: lrc,\n                })} catch (e) {\nreturn url+'#isMusic=true#'\n}\n },name);\n var lists = json.list;\n var items = lists.map(data => ({\n     title: data.songName.match(/\\>(.*?)\\</)[1] + '-『' + data.originSinger + \"』\",\n     url: data.songurl + lazy,\n }));\nlog(items)\n res.data = items;\n setSearchResult(res);","search_url":"http://search.5sing.kugou.com/home/json?keyword=**&sort=1&page=fypage&filter=0&type=0","group":"音频","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    input = input.replace(/.*\\/(.*)\\/(\\d+)\\..*/, 'http://service.5sing.kugou.com/song/getsongurl?songtype=$1&songid=$2')\n    var json = JSON.parse(request(input)).data\n    if (json.hqurl) {\n        url = json.hqurl\n    } else if (json.lqurl) {\n        url = json.lqurl\n    } else if (json.squrl) {\n        url = json.squrl\n    }\n    return url\n});\nvar list = parseDomForArray(getResCode(), '.dj_songitems&&li');\nlet 传输列表 = []\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (var j in list) {\n    let first = pdfh(list[0], 'a&&Text');\n    let title = pdfh(list[j], 'a&&Text');   \n    let desc = parseDomForHtml(list[j], '.s_soner&&Text');\n    let img = pd(getResCode(), '.w_30&&img&&src');\n    let url = parseDom(list[j], 'a&&href')+lazy;\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'text_1'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"http://5sing.kugou.com/favicon.ico"},{"last_chapter_rule":"","title":"MyFreeMP3","author":"缘分","version":1,"type":"music","url":"https://pl-fe.cn/cloud-music-api/top/playlist?cat=fyAll&offset=fypage@-1@*50@&","col_type":"card_pic_3","class_name":"全部&华语&流行&摇滚&民谣&欧美&日语\n&韩语&粤语&电子&舞曲&说唱&轻音乐&爵士\n乡村&R＆＆B/Soul&","class_url":"全部&华语&流行&摇滚&民谣&欧美&日语\n&韩语&粤语&电子&舞曲&说唱&轻音乐&爵士\n乡村&R＆＆B/Soul&","area_name":"网络歌曲&KTV&经典&翻唱&吉他&钢琴&器乐&榜单&古典&民族&英伦","area_url":"网络歌曲&KTV&经典&翻唱&吉他&钢琴&器乐&榜单&古典&民族&英伦","sort_name":"金属&蓝调&雷鬼&世界音乐&拉丁&New Age&古风&后摇&Bossa Nova&浪漫&","year_name":"伤感&治愈&放松&孤独&综艺&影视原声&70后&80后&90后&00后","sort_url":"金属&蓝调&雷鬼&世界音乐&拉丁&New Age&古风&后摇&Bossa Nova&浪漫&","year_url":"伤感&治愈&放松&孤独&综艺&影视原声&70后&80后&90后&00后","find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar list = JSON.parse(html).playlists;\nfor (var j in list) {\n    d.push({\n        title: list[j].name,\n        pic_url: list[j].coverImgUrl + '@Referer=',\n        url: 'hiker://empty##' + list[j].id+'#noRefresh##gameTheme##background#',\n       extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n    });\n}\nsetResult(d)\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar d = [];\npage = MY_URL.split(\"##\")[1];\nvar ss = MY_URL.split(\"##\")[2];\nvar lazy = $('').lazyRule(() => {\nvar url = 'https://test.quanjian.com.cn/m/api/link/index/id/' +input.split(\"#\")[0]+'/quality/320#isMusic=true#';\ntry {\nvar title = input.split(\"#\")[1];\nvar desc = input.split(\"#\")[2];\n    var lrc = pdfh(request('http://zhannei.baidu.com/cse/search?q=' + title +'-'+desc+ '&s=2237976389678693530&entry=1'),'.result-list&&a&&href');\nlog(lrc)\n    var lrc = 'https://www.igeciku.com' + pdfh(request(lrc), '.download&&a&&href').replace('txt', 'lrc');\n    return JSON.stringify({\n        urls: [url],\n        lyric: lrc\n    })\n} catch (e) {\n    return url\n}\n})\nvar list = JSON.parse(request('https://test.quanjian.com.cn/m/api/search', {\n    headers: {\n        \"User-Agent\": MOBILE_UA\n    },\n    body: '{\"type\":\"YQM\",\"text\":\"' + ss + '\",\"page\":' + page + ',\"v\":\"beta\"}',\n    method: \"POST\"\n})).data.list;\nlog(list)\nfor (var j in list) {\n    d.push({\n        title: list[j].name,\n        desc: list[j].artist[0].name, \n        pic_url: list[j].pic + '@Referer=',\n        url: list[j].id +'#'+ list[j].name+'#'+ list[j].artist[0].name+lazy\n    });\n}\nsetResult(d)","search_url":"hiker://empty##fypage##**","group":"音频","detail_col_type":"avatar","detail_find_rule":"js:\nvar d = [];\nvar id = MY_URL.split(\"##\")[1].split(\"#\")[0]\n\nvar lazy = $('').lazyRule(()=> {\nvar id = input.split(\"#\")[0];\nvar url = 'https://test.quanjian.com.cn/m/api/link/index/id/' +id+ '/quality/320#isMusic=true#';\nreturn url\n})\nvar list = JSON.parse(request('https://test.quanjian.com.cn/m/api/search/playlist', {\n    headers: {\n        \"User-Agent\": MOBILE_UA\n    },\n    body: '{\"id\":\"d' + id + '\"}',\n    method: \"POST\"\n})).data.list;\nlet 传输列表 = []\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (let j = 0; j < list.length; j++) {   \n    let title = list[j].name;\n    let first = list[0].name;\n    let desc = list[j].artist[0].name;\n    let img = list[j].pic;\n    let url = list[j].id+'#' +list[j].lyric+lazy\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'avatar'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""},{"last_chapter_rule":"","title":"Y2002DJ🎶","author":"缘分","version":2,"type":"music","url":"http://m.y2002.com/HotSongList/fyAll/fypage.html","col_type":"text_1","class_name":"3D环绕&串烧&语录&中文&外文&","class_url":"27&24&25&29&30&","area_name":"纯电&广场舞&铃声&","area_url":"28&26&23&","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = pdfa(getResCode(), '.datalist&&li');\n    for (var j in list) {\n        \n        d.push({\n            title: pd(list[j], '.songname&&Text'),\n            url: pd(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\",\n            extra: {\n                newWindow: true,\n                windowId: MY_RULE.title\n            }\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\nvar d = [];\n    var list = pdfa(getResCode(), '#J_dances&&tr');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'Text'),           \n            url: pd(list[j], 'a,1&&href').replace('www','m') + $('').lazyRule(() => {\n                var url = pdfh(request(input), 'audio&&src')\n                return url + '#isMusic=true#'\n            })\n        });\n    }\nsetResult(d)","search_url":"https://www.dj97.com/so?t=d&k=**&page=fypage","group":"音频","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule((MY_HOME) => {\n    var url = request(input).match(/var md = \"(.*?)\"/)[1]\n    url = unescape(base64Decode(url));\n    var urls = request(input).match(/var mu =\"(.*?)\"/)[1]\n    urls = unescape(base64Decode(urls));\n    log(url)\n    return url + urls\n}, MY_HOME)\nlet 传输列表 = []\nlet pic = request(MY_URL.replace('m', 'www'));\nlet list = pdfa(getResCode(), '.hotmusiclist&&li');\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\n    for (var j in list) {\n        let first = pdfh(list[0], 'span&&Text');\n        let title = pdfh(list[j], 'span&&Text');\n        let desc = pdfh(list[j], '');\n        let img = pd(pic, '.userhead&&img&&src');\n        let url = pd(list[j], 'a&&href') + lazy;\n        /* 快速告诉x5列表样式，很重要 */\n        let col_type = 'text_1'\n        putVar('样式', col_type)\n        putVar('选中颜色', '#3CE68E');\n        if (col_type == 'text_1')\n            xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        else\n            xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n        d.push({\n            title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n            desc: desc,\n            img: img,\n            col_type: col_type,\n            url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n                if (getVar('索引') != title) {\n                    refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                    updateItem(getVar('索引', first), {\n                        title: getVar('索引', first)\n                    })\n                    updateItem(title, {\n                        title: xy\n                    })\n                    putVar('索引', title)\n                } else {\n                    return 'download://' + getVar('播放链接');\n                }\n                return 'hiker://empty';\n            }, title, first, xy),\n            extra: {\n                id: title\n            },\n        });\n\n        传输列表.push({\n            封面: img,\n            曲名: title,\n            歌手: desc,\n            地址: url,\n        })\n    }\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://js.y2002.com/images/logo.gif"},{"last_chapter_rule":"","title":"放屁音乐🎶","author":"缘分","version":1,"type":"music","url":"https://www.fangpiw.com/","col_type":"text_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nd.push({\n        title: \"🔎\",\n        url: \"'hiker://search?rule=\" + MY_RULE.title + \"&s='+input\",\n        desc: \"请输入歌手或歌曲名。\",\n        col_type: \"input\",\n    });\nvar lists = pdfa(getResCode(), '.container&&.card-body');\n\nfor (var j in lists) {\n    d.push({\n        title: pdfh(lists[j], '.card-title&&Text').replace('更多','  ')+'““' +'更多',\n        url: pd(lists[j],'a&&href'),\n        col_type: \"text_1\",\n    });\nvar urll = pd(lists[j], 'a&&href');\n    var list = pdfa(request(urll), 'tbody&&tr');\n    for (var i in list) {\n        d.push({\n            title: pdfh(list[i], 'Text').replace(/立即搜索/, ''),\n            url: 'hiker://search?s=' + pdfh(list[i], 'a&&Text') + '&rule='+MY_RULE.title\n        });\n    }\n}\nsetResult(d)","searchFind":"js:\nvar d = []; \nvar list = pdfa(getResCode(), 'tbody&&tr');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&Text'),          \n            url: pd(list[j], 'a&&href')+$('').lazyRule(() => {\nvar url = request(input).match(/url = '(.*?)'/)[1].replace('&amp;','&')\nlog(url)\ntry{\nvar lrc = pd(request(input,{}),'#btn-download-lrc&&href')\nif (/http/.test(url)) {\nreturn JSON.stringify({\n                    urls: [url+'#isMusic=true#'],\n                    lyric: lrc,\n                })\n } else {\nreturn JSON.stringify({\n                    urls: ['https://www.fangpiw.com'+url+'#isMusic=true#'],\n                    lyric: lrc,\n                })\n}\n} catch (e) {\nreturn url+'#isMusic=true#'\n}\n})\n        });\n    }\nsetResult(d)","search_url":"https://www.fangpiw.com/s/**","group":"音频","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nlog(MY_URL)\n//var ym = pdfh(getResCode(), 'i&&Text').match(/Top(.*)0/)[1];\nfor (var j = 2; j <= 10; j++) {\n    var list = pdfa(request(MY_URL+'?page=' + j), 'tbody&&tr');\n\n    for (var i in list) {\n        d.push({\n            title: pdfh(list[i], 'Text').replace(/立即搜索/, ''),\n            url: 'hiker://search?s=' + pdfh(list[i], 'a&&Text') + '&rule='+MY_RULE.title\n        });\n    }}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://www.fangpiw.com/favicon.ico"},{"last_chapter_rule":"","title":"流行音乐🎶","author":"缘分","version":1,"type":"music","url":"http://www.jiuku.com/fyAll","col_type":"icon_2_round","class_name":"全部&top500&最新&成名曲&2020","class_url":"&top500.htm&new2017.htm&yryscmq.htm&paihang2017.htm","area_name":"老歌&网络&伤感&英文&2019&dj","area_url":"jingdianlaoge.htm&wangluo.htm&shanggan.htm&yingwen.htm&paihang2016.htm&dj.htm","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar lazy = $('').lazyRule((MY_HOME)=> {\n    var title = pdfh(request(input),'h1&&Text');\n    var desc = pdfh(request(input),'.playerSinger&&Text');\n    var url = pd(request(input),'mip-audio&&src')\ntry {\n    var lrc = pd(request('http://zhannei.baidu.com/cse/search?q='+title+'-'+desc+'&s=2237976389678693530&entry=1'),'a&&href') \nvar lrc = 'https://www.igeciku.com'+pdfh(request(lrc),'.download&&a&&href').replace('txt','lrc')\nreturn JSON.stringify({\n                    urls: [url],\n                    lyric: lrc\n                })} catch (e) {\nreturn url\n}\n}, MY_HOME)\nvar list = parseDomForArray(html, 'form||.mdBoxBd&&li');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&Text'),\n        desc: parseDomForHtml(list[j], ''),\n        pic_url: parseDom(list[j], '') + 'https://lanmeiguojiang.com/tubiao/ke/101.png',\n        url: parseDom(list[j], 'a&&href').replace('www', 'm') + lazy\n    });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar json = {};\neval('json=' + getResCode());\nvar res = {};\nvar name = MY_URL.split(\"=\")[5]\nlog(name)\nvar lazy = $('').lazyRule((name) => {\n    var json = JSON.parse(request(input))\n    try {\n    var lrc = pd(request('http://zhannei.baidu.com/cse/search?q='+name+'&s=2237976389678693530&entry=1'),'a&&href') \nvar lrc = 'https://www.igeciku.com'+pdfh(request(lrc),'.download&&a&&href').replace('txt','lrc')\nreturn JSON.stringify({\n                    urls: [json.url],\n                    lyric: lrc\n                })} catch (e) {\nreturn url\n}\n},name);\nvar items = json.map(data => ({\n    title: data.name + '-『' + data.artist + \"』\",\n    url: 'https://www.amp360.net/inHtml/MusicPlayer/api.php?types=url&id=' + data.url_id + '&source=netease' + lazy,\n}));\nres.data = items;\nsetResult(res);","search_url":"https://www.amp360.net/inHtml/MusicPlayer/api.php?types=search&count=20&source=netease&pages=fypage&name=**","group":"音频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://www.jiuku.com/favicon.ico"},{"last_chapter_rule":"","title":"zz123🎶","author":"缘分","version":3,"type":"music","url":"https://www.zz123.com/list/mszm.htm?page=fypage","col_type":"card_pic_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar getRangeColors = function() {       \n    return '#' + ('00000' + (Math.random() * 0x1000000 << 0).toString(16)).substr(-6);     \n}\n\nconst 分类颜色 = getRangeColors()\nconst 大类定位 = '.channel'\nconst 拼接分类 = 'body&&.cate-list||.tabs-list'\nconst 小类定位 = 'body&&a:not(:matches(首页|专题|下载))'\nconst 分类标题 = 'a&&Text'\nconst 分类链接 = 'a&&href'\nMY_URL = MY_URL.replace('hiker://empty##', '')\n\nlet true_url = getMyVar(\"url\", MY_URL)\nconst page = MY_PAGE\nif (getMyVar(\"url\")) {\n    true_url = true_url+'?page='+page\n}\nlog(true_url)\nvar html = fetch(true_url)\n\neval(JSON.parse(fetch('hiker://page/sm', {})).rule);\nvar lazy = $(\"\").lazyRule(() => {\n    input = input.replace(/play\\/(\\w+)\\.htm/, 'ajax/?act=songinfo&id=$1&lang=')\n    var json = JSON.parse(request(input)).data\n    url = json.mp3\n    return JSON.stringify({\n        urls: [url],\n        headers: [{\n            'Referer': 'https://www.zz123.com/'\n        }],\n        lyric: json.lrc.replace(/\\r/g, '')\n    })\n});\nvar list = parseDomForArray(html, '.mobile-list&&.mobile-list-item');\nfor (var j in list) {\n\n    var img = parseDom(list[j], '.item-cover&&img&&data-src') + '@Referer=https://www.zz123.com/';\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&Text'),\n        desc: parseDomForHtml(list[j], 'a,1&&Text'),\n        img: img,\n        url: parseDom(list[j], 'a&&href') + lazy,\n    });\n}\nsetResult(d)","searchFind":"js:\nvar json = {};\neval('json=' + getResCode());\nvar res = {};\nvar lazy = $(\"\").lazyRule(() => {\n    input = input.replace(/play\\/(\\w+)\\.htm/, 'ajax/?act=songinfo&id=$1&lang=')\n    var json = JSON.parse(request(input)).data\n    url = json.mp3\n    return JSON.stringify({\n        urls: [url],\n        headers: [{\n            'Referer': 'https://www.zz123.com/'\n        }],\n        lyric: json.lrc.replace(/\\r/g, '')\n    })\n});\nvar lists = json.data;\nvar items = lists.map(data => ({\n    title: data.mname,\n    url: 'https://www.zz123.com/play/' + data.id + '.htm' + lazy,\n    desc: data.sname,\n    img: data.pic + '@Referer=https://www.zz123.com/',\n}));\nres.data = items;\nsetSearchResult(res);","search_url":"https://www.zz123.com/ajax/?act=search&key=**&lang=","group":"音频","detail_col_type":"card_pic_3","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"sm\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\naddListener(\\\"onClose\\\", $.toString(() => {\\n    clearMyVar(\\\"url\\\");\\n    clearMyVar(\\\"t\\\");\\n}));\\ntry {\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} catch (e) {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getMyVar(\\\"fold\\\", \\\"0\\\")\\nconst cate_temp_json = getMyVar(\\\"t\\\", JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #FF0000\\\">∨</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">∧</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putMyVar(\\\"fold\\\", fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\n\\n    categories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putMyVar(\\\"t\\\", JSON.stringify(new_cate))\\n                        putMyVar(\\\"url\\\", input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(pd(item, 分类链接) + '#noLoading#').lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putMyVar(\\\"t\\\", JSON.stringify(params.cate_temp))\\n                        putMyVar(\\\"url\\\", input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\"}]","proxy":"","icon":"https://www.zz123.com/favicon.ico"},{"last_chapter_rule":"","title":"音樂mp3🎶","author":"缘分","version":2,"type":"music","url":"http://www.yymp3.com/top/fyAll","col_type":"text_1","class_name":"华语排行&欧美排行&日韩排行&","class_url":"&top_5.html&top_6.html&","area_name":"华语推荐&日韩推荐&欧美推荐","area_url":"top_7.html&top_8.html&top_9.html","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    var html = request(input)\n    var url = \"http://ting6.yymp3.net:82/\" + html.match(/\\$song_data\\[0\\]=.*?\";/)[0].split(\"|\")[4].toLowerCase().replace(\".wma\", \".mp3\");\ninput = pd(request(input),'a,-1&&href')\n    var lrc = pdfh(request(input),'#lrc&&Html').replace(/<!.*?>/,'').replace(/<br>/g,'')\n\nreturn JSON.stringify({\n                    urls: [url],\n                    lyric: lrc\n    })           \n});\ntry {\n    var list = parseDomForArray(getResCode(), '#main&&li:not(:matches(华语音乐|欧美音乐|日韩音乐))');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text'),\n            desc: parseDomForHtml(list[j], ''),\n            pic_url: parseDom(list[j], ''),\n            url: parseDom(list[j], 'a&&href') + lazy\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    var html = request(input)\n    var url = \"http://ting6.yymp3.net:82/\" + html.match(/\\$song_data\\[0\\]=.*?\";/)[0].split(\"|\")[4].toLowerCase().replace(\".wma\", \".mp3\");\ninput = pd(request(input),'a,-1&&href')\n    var lrc = pdfh(request(input),'#lrc&&Html').replace(/<!.*?>/,'').replace(/<br>/g,'')\n\nreturn JSON.stringify({\n                    urls: [url],\n                    lyric: lrc\n    })           \n});\ntry {\n    var list = getResCode().match(/song_data\\[3\\]='(.*?)\\|\\|'/)[1].split(\"||\")\nlog(list)\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'Html').match(/\\|(.*?)\\|/)[1],\n            desc: parseDomForHtml(list[j], 'Html').match(/\\|.*\\|(.*?)\\|new/)[1],\n            url: 'http://www.yymp3.com/Play/'+list[j].split(\"|\")[5]+'/'+list[j].split(\"|\")[0]+'.htm'+lazy \n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.yymp3.com/p/getser.aspx?key=**&page=fypage","group":"音频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://img.yymp3.com/favicon.ico"},{"last_chapter_rule":"","title":"5dn音乐🎶","author":"缘分","version":2,"type":"music","url":"http://m.5nd.com/paihang/fyAll.htm","col_type":"card_pic_3","class_name":"流行歌曲&推荐歌曲&网络歌曲&DJ舞曲&","class_url":"liuxinggequ&tuijiangequ&wangluo&dj&","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html, '#container&&li');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], '.song&&Text'),\n        desc: parseDomForHtml(list[j], '.artist&&Text'),\n        pic_url: parseDom(list[j], 'img&&src'),\n        url: parseDom(list[j], 'a&&href') +$('').lazyRule(() => {\nvar url ='http://mpge.5nd.com/'+request(input).match(/'(.*\\.mp3)'/)[1]\nvar lrc = pdfh(request(input),'#lrccont&&Html').replace(/<!.*?>/,'').replace(/<br>/g,'')\n\nreturn JSON.stringify({\n                    urls: [url],\n                    lyric: lrc\n    })           \n })\n    });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html, '.list-song&&li');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], '.song&&Text'),\n        desc: parseDomForHtml(list[j], '.artist&&Text'),\n        pic_url: parseDom(list[j], 'img&&src') + '@Referer=',\n        url: parseDom(list[j], 'a&&href') +$('').lazyRule(() => {\nvar url ='http://mpge.5nd.com/'+request(input).match(/'(.*\\.mp3)'/)[1]\nvar lrc = pdfh(request(input),'#lrccont&&Html').replace(/<!.*?>/,'').replace(/<br>/g,'')\n\nreturn JSON.stringify({\n                    urls: [url],\n                    lyric: lrc\n    })           \n })\n    });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"http://m.5nd.com/so/s_**","group":"音频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://m.5nd.com/favicon.ico"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = pdfa(html, '.compress&&li');\nvar i =list.length\nvar title = pdfh(list[i,i-1], 'a&&title');\nsetResult(\"更新至: \" + title)","title":"海洋听书🎵","author":"缘分","version":2,"type":"music","url":"http://m.ychy.com/list/fyAll_fypage.html;get;gb2312","col_type":"movie_3","class_name":"网络玄幻&恐怖悬疑&评书下载&儿童读物&","class_url":"52&17&3&4&","area_name":"相声戏曲&传统武侠&都市言情&历史军事&","area_url":"7&12&13&15&","sort_name":"探险盗墓&职场商战","year_name":"人物传记&广播剧&百家讲坛&有声文学&","sort_url":"45&81","year_url":"16&18&32&41&","find_rule":"js:\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), '.list-ul&&li');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], '.tit&&Text'),\n            desc: parseDomForHtml(list[j], 'p&&span&&Text'),\n            pic_url: parseDom(list[j], 'img&&src') + '@Referer=',\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nlog(getResCode())\ntry{\nvar list = parseDomForArray(getResCode(), '.book_slist&&.bookbox');\nlog(list)\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j],   'h4&&Text'),\n       desc:parseDomForHtml(list[j], '.update&&Text'),\n       pic_url: parseDom(list[j], 'img&&orgsrc')+'@Referer=',\n      url :'http://m.ychy.com/book/'+pdfh(list[j], '.bookbox&&bookid')+'.html' + \"#immersiveTheme#\"\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"http://m.ychy.com/search.asp?page=fypage&searchword=**&searchtype=-1;post;gb2312","group":"音频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\ntry{\nd.push({\n    title: pdfh(html, '.info&&div,1&&Text').substring(0, 18) +\n        '\\n' +\n        '\\n' +\n        pdfh(html,\n            '.info&&div,2&&Text').substring(0, 18),\n    desc: pdfh(html, '.info&&div,4&&Text'),\n    img: pd(html,\n        '.bookimg&&img&&src') + '@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n});}catch(e){}\ntry{\nd.push({\n    title: pdfh(html, '.content_center&&Text').substring(0, 18) ,\n            desc: pdfh(html, ''),\n    img: pd(html,\n        '.content_right&&img&&src') + '@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n})}catch(e){}\n/*var urls = pd(html, '.bookbutton&&a&&href');\nvar list = eval(request(urls).match(/VideoListJson=.*?FLV.*?(\\[[\\s\\S]*?\\])\\]\\]/)[1]);\nfor (var j in list) {\n    var title = list[j].split(\"$\")[0];\n    var url = list[j].split(\"$\")[1];\n    d.push({\n        title: title,\n        url: url ,\n        col_type: list.length > 3 ? 'text_4' : 'text_2'\n    });\n}*/\nvar lazy = $('').lazyRule(() => {\nlog(getCookie(input))\nrequireCache('hiker://page/globalParse?rule=道长仓库Pro', 24);\n        return lazyParse(input);    \n});\nvar list = pdfa(html, '.compress||.playlist&&li');\n\nd.push({\n       title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序▲共' + list.length + '集</span></b>' : '““””<b><span style=\"color: #1aad19\">正序▼共' + list.length + '集</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'text_center_1'\n    })\nif (getVar('shsort') == '1') {\n\n    for (var j = list.length - 1; j >= 0; j--) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),          \n            url: pd(list[j], 'a&&href') +lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }}else {\nfor (var j = 0; j < list.length; j++) { \n        d.push({\n            title: pdfh(list[j], 'a&&title'),          \n            url: pd(list[j], 'a&&href') +lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"http://www.ychy.com/template/ychy_2019/images/ychy_logo.png"},{"last_chapter_rule":"","title":"5SING歌单.h5","author":"缘分","version":20220919,"type":"music","url":"http://5sing.kugou.com/gd/gdList?&tagName=fyAll&page=fypage&type=0","col_type":"card_pic_3","class_name":"全部\n&流行&爵士&小清新&轻音乐&中国风&摇滚&DJ&古风&武侠&钢琴曲&广场舞&民谣&乡村","class_url":"&流行&爵士&小清新&轻音乐&中国风&摇滚&DJ&古风&武侠&钢琴曲&广场舞&民谣&乡村","area_name":"感动&寂寞&安静&温暖&浪漫&治愈&伤感&想念&激情&喜悦&失恋&怀念","area_url":"感动&寂寞&安静&温暖&浪漫&治愈&伤感&想念&激情&喜悦&失恋&怀念","sort_name":"原创&翻唱&毕业&情歌&经典&怀旧&爱情&励志&儿歌&影视&男女对唱&歌词控&动漫","year_name":"华语&欧美&日语&韩语&俄语&法语&德语&粤语&闽南语&方言&西班牙语&其它","sort_url":"原创&翻唱&毕业&情歌&经典&怀旧&爱情&励志&儿歌&影视&男女对唱&歌词控&动漫","year_url":"华语&欧美&日语&韩语&俄语&法语&德语&粤语&闽南语&方言&西班牙语&其它","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.lbox&&li');\nfor (var j in list) {\nlet title = parseDomForHtml(list[j], 'img&&alt');\n    d.push({\n        title: title,\n        desc: parseDomForHtml(list[j], ''),\n        pic_url: parseDom(list[j], 'img&&src') + '@Referer=',\n        url: parseDom(list[j], 'a&&href') + \"#noLoading##gameTheme##noRefresh##background#\",\n        extra: {\n                newWindow: true,\n                windowId: title\n            }\n    });\n}\nsetResult(d);\nif (!fileExist(\"hiker://files/rules/dzHouse/html/h5音乐播放器.html\")) {\n    confirm({\n        title: \"重要提示\",\n        content: \"检测到您还没有导入音乐播放插件，点击下方确定按钮导入\",\n        confirm: $.toString(() => {\n            return \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/html/h5音乐播放器.html@http://hiker.nokia.press/hikerule/rulelist.json?id=5389\"\n        })\n    })\n}","searchFind":"js:\n var json = {};\n eval('json=' + getResCode());\n var res = {};\n var lazy = $(\"\").lazyRule(() => {\n     input = input.replace(/.*\\/(.*)\\/(\\d+)\\..*/, 'http://service.5sing.kugou.com/song/getsongurl?songtype=$1&songid=$2')\n     //log(input);\n     var json = JSON.parse(request(input)).data\n     if (json.hqurl) {\n         url = json.hqurl\n     } else if (json.lqurl) {\n         url = json.lqurl\n     } else if (json.squrl) {\n         url = json.squrl\n     }\n     return url\n });\n var lists = json.list;\n var items = lists.map(data => ({\n     title: data.songName.match(/\\>(.*?)\\</)[1] + '-『' + data.originSinger + \"』\",\n     url: data.songurl + lazy,\n }));\n res.data = items;\n setSearchResult(res);","search_url":"http://search.5sing.kugou.com/home/json?keyword=**&sort=1&page=fypage&filter=0&type=0","group":"音频","detail_col_type":"text_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $(\"\").lazyRule(() => {\n    input = input.replace(/.*\\/(.*)\\/(\\d+)\\..*/, 'http://service.5sing.kugou.com/song/getsongurl?songtype=$1&songid=$2')\n    var json = JSON.parse(request(input)).data\n    if (json.hqurl) {\n        url = json.hqurl\n    } else if (json.lqurl) {\n        url = json.lqurl\n    } else if (json.squrl) {\n        url = json.squrl\n    }\n    return url\n});\nvar list = parseDomForArray(getResCode(), '.dj_songitems&&li');\nlet 传输列表 = []\nlet xd = JSON.stringify(list) == JSON.stringify(storage0.getVar('数据校对', []));\nif (xd == false) {\nfor (var j in list) {\n    let first = pdfh(list[0], 'a&&Text');\n    let title = pdfh(list[j], 'a&&Text');   \n    let desc = parseDomForHtml(list[j], '.s_soner&&Text');\n    let img = pd(getResCode(), '.w_30&&img&&src');\n    let url = parseDom(list[j], 'a&&href')+lazy;\n    /* 快速告诉x5列表样式，很重要 */\n    let col_type = 'text_1'\n    putVar('样式', col_type)\n    putVar('选中颜色', '#3CE68E');\n    if (col_type == 'text_1')\n        xy = '““””<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    else\n        xy = '<b><font color=' + getVar('选中颜色') + '>' + title + '</font></b>';\n    d.push({\n        title: title == getVar('索引', first) && MY_PAGE == 1 ? xy : title,\n        desc: desc,\n        img: img,\n        col_type: col_type,\n        url: $('#noHistory##noLoading#').lazyRule((title, first, xy) => {\n            if (getVar('索引') != title) {\n                refreshX5WebView(getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html'))\n                updateItem(getVar('索引', first), {\n                    title: getVar('索引', first)\n                })\n                updateItem(title, {\n                    title: xy\n                })\n                putVar('索引', title)\n            } else {\n                return 'download://' + getVar('播放链接');\n            }\n            return 'hiker://empty';\n        }, title, first, xy),\n        extra: {\n            id: title\n        },\n    });\n\n    传输列表.push({\n        封面: img,\n        曲名: title,\n        歌手: desc,\n        地址: url,\n    })\n}\n\n    传输列表 = storage0.getVar('缓存数据', []).concat(传输列表)\n    storage0.putVar('缓存数据', 传输列表)\n    storage0.putVar('数据校对', list)\n}\naddListener('onClose', $.toString(() => {\n    clearVar('样式');\n    clearVar('索引');\n    clearVar('播放链接');\n    clearVar('数据校对');\n    clearVar('缓存数据');\n}))\n传输列表 = storage0.getVar('缓存数据')\nputVar('音乐数据', JSON.stringify(传输列表))\nif (MY_PAGE == 1) {\n    d.push({\n        col_type: 'x5_webview_single',\n        desc: '300&&float',\n        extra: {\n            ua: MOBILE_UA,\n            autoPlay: true\n        },\n        url: getPath('hiker://files/rules/dzHouse/html/h5音乐播放器.html')\n    });\n}\n\n\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"http://5sing.kugou.com/favicon.ico"},{"last_chapter_rule":"","title":"MV🎶","author":"缘分","version":0,"type":"music","url":"hiker://empty##fypage##fyAll","col_type":"movie_2","class_name":"新歌推荐&华语精选&日韩精选&欧美精选","class_url":"9&13&17&16","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nevalPrivateJS('715o0IBSyYQML8HCrbohIb0Bxmm0YKXMQSXqZ3rV3dTnZD/T+E6rfE/cMCWDvvgM/ffW8Yi2jJEZk490bt1LQk/dziV0ammb9yKgBBOFyltzdDYotVyv1nCeRypRe//9XeLPZGyxoNqQVyN+Z8EFtm8W2EovJNG78NPQRCgQdu5QJwaa0k5HugNgSpDPa0ngHnnaM9h+cDbyPlE5IMbwEpAQZiVai9PuddursjiJIFUq3UoPqXuyKOPm/B7TYh+6RCr5A4tGvp7TpNKCmRLakDVrTSqYF6TXlKbRTFqEEeQsaQDTdlpi6g9Fl0xF4XkrvImdSnod7YPhG2i2D4bBgcDKybK95cFsTkH82DmP4XXyvzyV99zm8eJ2EJdnvp7W72wzZRSsPkW2O2X5E3BFeiiA+kLEiwaMhrjaNYekuE4T3yxfQxJHtjTAlrFY5hbBzRhhjEuyco1aOidT2D5WeMIcbWrpR6BKHHVQULYKuF2ZPpu5mk67iOJh/jPvDbjxQdGLeD+1CEn6yz9Gnhx+/p55Sysyb8WebDtuLmmC3Zd1izKmqKQ1H4Pok1F+u8lcOZASFYDmPu3cAw09hvi2NMpwtFeoo+XAl7p4De0CRDHA+OnZD1ZRw87t0uvHtrP0dvJGtywajmGFjoRl2Sidt+VLI/wbEpa05X9XU32qDf96qrAvEfe5Kok+mxuzGGyLuOpXx4h9tsmVSwJeTjmz4UwneM5KD31JXTLEQrLv9MV6R42+clW9NwSTbJJ8uK2FhpKecK70eFkVnpDr9AKHdNB9W7/ML2LQXl5knV/K4l3xd7N9aooXHRinQ2x28g5FddxadrQsg8BVzt52XJljNZg7ypanktqligMG+XhJrRvsbHHcMvrJZj/xPXvjzo69YcyWIV8rKs7up1TBMt0XX+FQE982wKTpVef6HFoS7BRZ5NrfIt+TNQ8FUe1WOh5pb0+ICOKopOvS/0beh48utw==')","searchFind":"js:\nvar d = [];\nvar html = getResCode();\nvar list = JSON.parse(html).sun;\nfor (var j = 1; j <= list; j++) {\n    var t = JSON.parse(request(MY_URL + j));\n    d.push({\n        title: t.name,\n        desc: t.author,\n        img: t.img,\n        url: t.video\n    });\n}\nsetResult(d)","search_url":"https://api.linhun.vip/api/kgmv?name=**&n=","group":"音频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/music/43.svg"},{"last_chapter_rule":"","title":"水晶dj🎶","author":"缘分","version":0,"type":"music","url":"https://m.dj97.com/fyAll/renqi/fypage.htm","col_type":"text_1","class_name":"慢摇串烧&现场舞曲&中文舞曲&酒吧Club&","class_url":"myxc&xc&zw&club&","area_name":"英文Club&慢摇舞曲&英文Disco&交谊舞曲","area_url":"ywclub&my&yw&jy","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\n    var list = pdfa(getResCode(), '.list_border--li,-1&&li');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'a&&title'),\n            url: pd(list[j], 'a&&href') + $('').lazyRule(() => {\n                var url = pdfh(request(input), 'audio&&src')\n                return url + '#isMusic=true#'\n            })\n        });\n    }\nsetResult(d);","searchFind":"js:\nvar d = [];\n    var list = pdfa(getResCode(), '#J_dances&&tr');\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'Text'),           \n            url: pd(list[j], 'a,1&&href').replace('www','m') + $('').lazyRule(() => {\n                var url = pdfh(request(input), 'audio&&src')\n                return url + '#isMusic=true#'\n            })\n        });\n    }\nsetResult(d)","search_url":"https://www.dj97.com/so?t=d&k=**&page=fypage","group":"音频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://m.dj97.com/favicon.ico"},{"last_chapter_rule":"","title":"麦田音乐🎶","author":"缘分","version":2,"type":"music","url":"https://www.mtyyw.com/fyAll/page/fypage/[firstPage=https://www.mtyyw.com/fyAll]","col_type":"pic_1","class_name":"首页&歌单&电台&独立&民谣&摇滚&爵士&轻音乐&麦游记&","class_url":"&gedan/&fm/&tag/indie-pop/&tag/minyao/&tag/rock/&tag/jueshi/&qingyinyue/&tag/maiyouji/&","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.primary&&article:not(:matches(服务器崩溃))');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j],   'a&&Text'),\n       desc: parseDomForHtml(list[j],   'p&&Text')+'\\n'+parseDomForHtml(list[j], '.postmeta&&Text'),\n       pic_url: parseDom(list[j], 'img&&src')+'@Referer=',\n       url: parseDom(list[j], 'a&&href')+'#gameTheme#',\ncol_type: \"pic_1_card\",\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","group":"音频","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nd.push({\n    col_type: \"x5_webview_single\",\n    url: MY_URL,\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js: $.toString((rule) => {\n            var token_timer = function() {\n                var timer = setInterval(() => {\n                    try {\n                        var urls = _getUrls();\n                        var exclude = /playm3u8|m3u8\\.tv|min\\.css|404\\.m3u8|\\.html|\\.php/;\n                        var contain = /\\.mp4|\\.mp3\\.m3u8|\\.flv|\\.avi|\\.mpeg|\\.wmv|\\.mov|\\.rmvb|\\.dat|qqBFdownload|mime=video%2F|video_mp4/;\n                        for (var i in urls) {\n                            //fy_bridge_app.log(urls[i]);\n                            if (!exclude.test(urls[i]) && contain.test(urls[i])) {\n                                clearInterval(timer);\n                                fy_bridge_app.playVideo(urls[i]);\n                                //静音\n                                function muteMe(elem) {\n                                    try {\n                                        elem.pause();\n                                    } catch (e) {}\n                                }\n                                var videos = document.querySelectorAll(\"video\"),\n                                    audios = document.querySelectorAll(\"audio\"),\n                                    v2 = document.querySelectorAll(\"embed\"),\n                                    v3 = document.querySelectorAll(\"#player\");\n                                try {\n                                    [].forEach.call(videos, function(video) {\n                                        muteMe(video);\n                                    });\n                                } catch (e) {}\n                                try {\n                                    [].forEach.call(audios, function(audio) {\n                                        muteMe(audio);\n                                    });\n                                } catch (e) {}\n                                try {\n                                    [].forEach.call(v2, function(v) {\n                                        muteMe(v);\n                                    });\n                                } catch (e) {}\n                                try {\n                                    [].forEach.call(v3, function(v) {\n                                        muteMe(v);\n                                    });\n                                } catch (e) {}\n                                return;\n                                //return urls[i];\n                            }\n                        }\n                    } catch (e) {}\n                }, 200)\n            };\n            token_timer();\n        }, MY_RULE.title)\n    }\n})\nsetResult(d)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://www.mtyyw.com/favicon.ico"},{"last_chapter_rule":"","title":"发现音乐🎶","author":"缘分","version":0,"type":"music","url":"https://ifish.fun/music/fyAll?p=fypage","col_type":"card_pic_3","class_name":"鱼声音乐精选&落网音乐精选&","class_url":"fish&luoo&","area_name":"大虾记忆&云村部落&杂食天下","area_url":"daily?t=xm&daily?t=wy&daily?t=qq","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\ntry{\nvar res = {};\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.daily-list||.player-list&&a||li');\n\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j],   '.player-list-name||.title-left||.item-title&&Text'),\n       desc:parseDomForHtml(list[j], '.player-list-author&&Text'),    \n       pic_url: parseDom(list[j], '.player-list-pic||div&&Text||style')+'@Referer=',\n       url: MY_URL.indexOf('daily?t=')>-1?MY_HOME+parseDomForHtml(list[j], '.player-list-url&&Text')+`@lazyRule=.js:input`:MY_HOME+parseDomForHtml(list[j], 'a&&href')\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","group":"音频","detail_col_type":"avatar","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\n\r\nvar list = parseDomForArray(getResCode(), '.player-list&&li');\nd.push({\n    title: parseDomForHtml(getResCode(), '.text-center||.rich_media_content&&Html').split(\"jp-player\")[0].replace(/\\<script[\\S\\s]*?<\\/script\\>/g, ''),     \n    col_type: 'rich_text' \n});\n\nfor (var j in list) {  \n\r\nd.push({       \r\ntitle: parseDomForHtml(list[j], '.player-list-name&&Text'),           \r\npic_url: parseDom(list[j], '.player-list-pic&&Text')+'@Referer=',\r\nurl:parseDom(list[j],'.player-list-url&&Text') ,\ncol_type: 'icon_2_round'\r\n});\r\n}\r\n}catch(e){}\nd.push({\n           title: '““””<small><font color=#20b2aa>数据资源收集于网络，海阔不提供任何资源！</font></small>',\n           desc: '““””<small><font color=#ff7f50>本规则仅限学习与交流，请导入后24小时内删除，请勿传播！</font></small>',\n           url: MY_URL,\n           col_type: 'text_center_1'\n           },{col_type: 'rich_text'\n   });\n\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://ifish.fun/img/fish.png"}]
